var RC=Object.create;var oi=Object.defineProperty,MC=Object.defineProperties,NC=Object.getOwnPropertyDescriptor,xC=Object.getOwnPropertyDescriptors,OC=Object.getOwnPropertyNames,Js=Object.getOwnPropertySymbols,kC=Object.getPrototypeOf,jl=Object.prototype.hasOwnProperty,Vg=Object.prototype.propertyIsEnumerable;var jg=(t,e,n)=>e in t?oi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_=(t,e)=>{for(var n in e||={})jl.call(e,n)&&jg(t,n,e[n]);if(Js)for(var n of Js(e))Vg.call(e,n)&&jg(t,n,e[n]);return t},j=(t,e)=>MC(t,xC(e));var Ug=(t,e)=>{var n={};for(var r in t)jl.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Js)for(var r of Js(t))e.indexOf(r)<0&&Vg.call(t,r)&&(n[r]=t[r]);return n};var PC=(t,e)=>()=>(t&&(e=t(t=0)),e);var zn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),FC=(t,e)=>{for(var n in e)oi(t,n,{get:e[n],enumerable:!0})},Bg=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of OC(e))!jl.call(t,o)&&o!==n&&oi(t,o,{get:()=>e[o],enumerable:!(r=NC(e,o))||r.enumerable});return t};var LC=(t,e,n)=>(n=t!=null?RC(kC(t)):{},Bg(e||!t||!t.__esModule?oi(n,"default",{value:t,enumerable:!0}):n,t)),$r=t=>Bg(oi({},"__esModule",{value:!0}),t);var Kn={};FC(Kn,{__addDisposableResource:()=>Im,__assign:()=>ga,__asyncDelegator:()=>ym,__asyncGenerator:()=>ya,__asyncValues:()=>_a,__await:()=>Rt,__awaiter:()=>E,__classPrivateFieldGet:()=>Dm,__classPrivateFieldIn:()=>Cm,__classPrivateFieldSet:()=>bm,__createBinding:()=>va,__decorate:()=>sm,__disposeResources:()=>Sm,__esDecorate:()=>cm,__exportStar:()=>pm,__extends:()=>im,__generator:()=>hm,__importDefault:()=>wm,__importStar:()=>Em,__makeTemplateObject:()=>_m,__metadata:()=>fm,__param:()=>am,__propKey:()=>lm,__read:()=>od,__rest:()=>zt,__rewriteRelativeImportExtension:()=>Tm,__runInitializers:()=>um,__setFunctionName:()=>dm,__spread:()=>gm,__spreadArray:()=>vm,__spreadArrays:()=>mm,__values:()=>ma,default:()=>QC});function im(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");nd(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function zt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function sm(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,n,i):s(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i}function am(t,e){return function(n,r){e(n,r,t)}}function cm(t,e,n,r,o,i){function s(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=r.kind,c=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?r.static?t:t.prototype:null,l=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),d,h=!1,f=n.length-1;f>=0;f--){var p={};for(var g in r)p[g]=g==="access"?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(y||null))};var m=(0,n[f])(a==="accessor"?{get:l.get,set:l.set}:l[c],p);if(a==="accessor"){if(m===void 0)continue;if(m===null||typeof m!="object")throw new TypeError("Object expected");(d=s(m.get))&&(l.get=d),(d=s(m.set))&&(l.set=d),(d=s(m.init))&&o.unshift(d)}else(d=s(m))&&(a==="field"?o.unshift(d):l[c]=d)}u&&Object.defineProperty(u,r.name,l),h=!0}function um(t,e,n){for(var r=arguments.length>2,o=0;o<e.length;o++)n=r?e[o].call(t,n):e[o].call(t);return r?n:void 0}function lm(t){return typeof t=="symbol"?t:"".concat(t)}function dm(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function fm(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function E(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function hm(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function pm(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&va(e,t,n)}function ma(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function od(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function gm(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(od(arguments[e]));return t}function mm(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r}function vm(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Rt(t){return this instanceof Rt?(this.v=t,this):new Rt(t)}function ya(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){r[f]&&(o[f]=function(g){return new Promise(function(m,y){i.push([f,g,m,y])>1||c(f,g)})},p&&(o[f]=p(o[f])))}function c(f,p){try{u(r[f](p))}catch(g){h(i[0][3],g)}}function u(f){f.value instanceof Rt?Promise.resolve(f.value.v).then(l,d):h(i[0][2],f)}function l(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function ym(t){var e,n;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,i){e[o]=t[o]?function(s){return(n=!n)?{value:Rt(t[o](s)),done:!1}:i?i(s):s}:i}}function _a(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ma=="function"?ma(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}function _m(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Em(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=rd(t),r=0;r<n.length;r++)n[r]!=="default"&&va(e,t,n[r]);return ZC(e,t),e}function wm(t){return t&&t.__esModule?t:{default:t}}function Dm(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function bm(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n}function Cm(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Im(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}function Sm(t){function e(i){t.error=t.hasError?new JC(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,r=0;function o(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(o);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(o,function(s){return e(s),o()})}else r|=1}catch(s){e(s)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function Tm(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,o,i,s){return r?e?".jsx":".js":o&&(!i||!s)?n:o+i+"."+s.toLowerCase()+"js"}):t}var nd,ga,va,ZC,rd,JC,QC,ne=PC(()=>{"use strict";nd=function(t,e){return nd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},nd(t,e)};ga=function(){return ga=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ga.apply(this,arguments)};va=Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};ZC=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},rd=function(t){return rd=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},rd(t)};JC=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};QC={__extends:im,__assign:ga,__rest:zt,__decorate:sm,__param:am,__esDecorate:cm,__runInitializers:um,__propKey:lm,__setFunctionName:dm,__metadata:fm,__awaiter:E,__generator:hm,__createBinding:va,__exportStar:pm,__values:ma,__read:od,__spread:gm,__spreadArrays:mm,__spreadArray:vm,__await:Rt,__asyncGenerator:ya,__asyncDelegator:ym,__asyncValues:_a,__makeTemplateObject:_m,__importStar:Em,__importDefault:wm,__classPrivateFieldGet:Dm,__classPrivateFieldSet:bm,__classPrivateFieldIn:Cm,__addDisposableResource:Im,__disposeResources:Sm,__rewriteRelativeImportExtension:Tm}});var tg=zn(eg=>{"use strict";Object.defineProperty(eg,"__esModule",{value:!0});var Xp=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};eg.default=Xp});var og=zn(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});var JO=(ne(),$r(Kn)),QO=JO.__importDefault(tg()),ng=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,a,c,u;let l=null,d=null,h=null,f=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){let M=await i.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=M:d=JSON.parse(M))}let m=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),y=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");m&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let m=await i.text();try{l=JSON.parse(m),Array.isArray(l)&&i.status===404&&(d=[],l=null,f=200,p="OK")}catch{i.status===404&&m===""?(f=204,p="No Content"):l={message:m}}if(l&&this.isMaybeSingle&&(!((u=l?.details)===null||u===void 0)&&u.includes("0 rows"))&&(l=null,f=200,p="OK"),l&&this.shouldThrowOnError)throw new QO.default(l)}return{error:l,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}returns(){return this}overrideTypes(){return this}};rg.default=ng});var ag=zn(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});var XO=(ne(),$r(Kn)),ek=XO.__importDefault(og()),ig=class extends ek.default{select(e){let n=!1,r=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[e?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};sg.default=ig});var el=zn(ug=>{"use strict";Object.defineProperty(ug,"__esModule",{value:!0});var tk=(ne(),$r(Kn)),nk=tk.__importDefault(ag()),rk=new RegExp("[,()]"),cg=class extends nk.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){let r=Array.from(new Set(n)).map(o=>typeof o=="string"&&rk.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ug.default=cg});var fg=zn(dg=>{"use strict";Object.defineProperty(dg,"__esModule",{value:!0});var ok=(ne(),$r(Kn)),ks=ok.__importDefault(el()),lg=class{constructor(e,{headers:n={},schema:r,fetch:o}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=o}select(e,n){let{head:r=!1,count:o}=n??{},i=r?"HEAD":"GET",s=!1,a=(e??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",a),o&&this.headers.append("Prefer",`count=${o}`),new ks.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var o;let i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let s=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new ks.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let c=e.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){let u=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new ks.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:n}={}){var r;let o="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new ks.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;let r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ks.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};dg.default=lg});var db=zn(pg=>{"use strict";Object.defineProperty(pg,"__esModule",{value:!0});var lb=(ne(),$r(Kn)),ik=lb.__importDefault(fg()),sk=lb.__importDefault(el()),hg=class t{constructor(e,{headers:n={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(e){let n=new URL(`${this.url}/${e}`);return new ik.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:o=!1,count:i}={}){var s;let a,c=new URL(`${this.url}/rpc/${e}`),u;r||o?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(a="POST",u=n);let l=new Headers(this.headers);return i&&l.set("Prefer",`count=${i}`),new sk.default({method:a,url:c,headers:l,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};pg.default=hg});var yb=zn(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.PostgrestError=Le.PostgrestBuilder=Le.PostgrestTransformBuilder=Le.PostgrestFilterBuilder=Le.PostgrestQueryBuilder=Le.PostgrestClient=void 0;var qo=(ne(),$r(Kn)),fb=qo.__importDefault(db());Le.PostgrestClient=fb.default;var hb=qo.__importDefault(fg());Le.PostgrestQueryBuilder=hb.default;var pb=qo.__importDefault(el());Le.PostgrestFilterBuilder=pb.default;var gb=qo.__importDefault(ag());Le.PostgrestTransformBuilder=gb.default;var mb=qo.__importDefault(og());Le.PostgrestBuilder=mb.default;var vb=qo.__importDefault(tg());Le.PostgrestError=vb.default;Le.default={PostgrestClient:fb.default,PostgrestQueryBuilder:hb.default,PostgrestFilterBuilder:pb.default,PostgrestTransformBuilder:gb.default,PostgrestBuilder:mb.default,PostgrestError:vb.default}});var Vl;function Qs(){return Vl}function At(t){let e=Vl;return Vl=t,e}var $g=Symbol("NotFound");function Hr(t){return t===$g||t?.name==="\u0275NotFound"}var Ce=null,Xs=!1,Ul=1,jC=null,Ie=Symbol("SIGNAL");function P(t){let e=Ce;return Ce=t,e}function ra(){return Ce}var Gr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function zr(t){if(Xs)throw new Error("");if(Ce===null)return;Ce.consumerOnSignalRead(t);let e=Ce.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=Ce.recomputing;if(r&&(n=e!==void 0?e.nextProducer:Ce.producers,n!==void 0&&n.producer===t)){Ce.producersTail=n,n.lastReadVersion=t.version;return}let o=t.consumersTail;if(o!==void 0&&o.consumer===Ce&&(!r||UC(o,Ce)))return;let i=Wr(Ce),s={producer:t,consumer:Ce,nextProducer:n,prevConsumer:o,lastReadVersion:t.version,nextConsumer:void 0};Ce.producersTail=s,e!==void 0?e.nextProducer=s:Ce.producers=s,i&&qg(t,s)}function Hg(){Ul++}function oa(t){if(!(Wr(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ul)){if(!t.producerMustRecompute(t)&&!ai(t)){na(t);return}t.producerRecomputeValue(t),na(t)}}function Bl(t){if(t.consumers===void 0)return;let e=Xs;Xs=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||VC(r)}}finally{Xs=e}}function $l(){return Ce?.consumerAllowSignalWrites!==!1}function VC(t){t.dirty=!0,Bl(t),t.consumerMarkedDirty?.(t)}function na(t){t.dirty=!1,t.lastCleanEpoch=Ul}function qr(t){return t&&Gg(t),P(t)}function Gg(t){t.producersTail=void 0,t.recomputing=!0}function si(t,e){P(e),t&&zg(t)}function zg(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Wr(t))do n=Hl(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function ai(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(oa(n),r!==n.version))return!0}return!1}function ci(t){if(Wr(t)){let e=t.producers;for(;e!==void 0;)e=Hl(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function qg(t,e){let n=t.consumersTail,r=Wr(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let o=t.producers;o!==void 0;o=o.nextProducer)qg(o.producer,o)}function Hl(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,o=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:e.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(e.consumers=r,!Wr(e)){let i=e.producers;for(;i!==void 0;)i=Hl(i)}return n}function Wr(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function ia(t){jC?.(t)}function UC(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function sa(t,e){return Object.is(t,e)}function aa(t,e){let n=Object.create(BC);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(oa(n),zr(n),n.value===ii)throw n.error;return n.value};return r[Ie]=n,ia(n),r}var ea=Symbol("UNSET"),ta=Symbol("COMPUTING"),ii=Symbol("ERRORED"),BC=j(_({},Gr),{value:ea,dirty:!0,error:null,equal:sa,kind:"computed",producerMustRecompute(t){return t.value===ea||t.value===ta},producerRecomputeValue(t){if(t.value===ta)throw new Error("");let e=t.value;t.value=ta;let n=qr(t),r,o=!1;try{r=t.computation(),P(null),o=e!==ea&&e!==ii&&r!==ii&&t.equal(e,r)}catch(i){r=ii,t.error=i}finally{si(t,n)}if(o){t.value=e;return}t.value=r,t.version++}});function $C(){throw new Error}var Wg=$C;function Kg(t){Wg(t)}function Gl(t){Wg=t}var HC=null;function zl(t,e){let n=Object.create(ca);n.value=t,e!==void 0&&(n.equal=e);let r=()=>Yg(n);return r[Ie]=n,ia(n),[r,s=>Kr(n,s),s=>ql(n,s)]}function Yg(t){return zr(t),t.value}function Kr(t,e){$l()||Kg(t),t.equal(t.value,e)||(t.value=e,GC(t))}function ql(t,e){$l()||Kg(t),Kr(t,e(t.value))}var ca=j(_({},Gr),{equal:sa,value:void 0,kind:"signal"});function GC(t){t.version++,Hg(),Bl(t),HC?.(t)}function k(t){return typeof t=="function"}function Yr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ua=Yr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ui(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ue=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(k(r))try{r()}catch(i){e=i instanceof ua?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Zg(i)}catch(s){e=e??[],s instanceof ua?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ua(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Zg(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ui(n,e)}remove(e){let{_finalizers:n}=this;n&&ui(n,e),e instanceof t&&e._removeParent(this)}};ue.EMPTY=(()=>{let t=new ue;return t.closed=!0,t})();var Wl=ue.EMPTY;function la(t){return t instanceof ue||t&&"closed"in t&&k(t.remove)&&k(t.add)&&k(t.unsubscribe)}function Zg(t){k(t)?t():t.unsubscribe()}var yt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Zr={setTimeout(t,e,...n){let{delegate:r}=Zr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Zr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function da(t){Zr.setTimeout(()=>{let{onUnhandledError:e}=yt;if(e)e(t);else throw t})}function li(){}var Jg=Kl("C",void 0,void 0);function Qg(t){return Kl("E",void 0,t)}function Xg(t){return Kl("N",t,void 0)}function Kl(t,e,n){return{kind:t,value:e,error:n}}var qn=null;function Jr(t){if(yt.useDeprecatedSynchronousErrorHandling){let e=!qn;if(e&&(qn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=qn;if(qn=null,n)throw r}}else t()}function em(t){yt.useDeprecatedSynchronousErrorHandling&&qn&&(qn.errorThrown=!0,qn.error=t)}var Wn=class extends ue{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,la(e)&&e.add(this)):this.destination=WC}static create(e,n,r){return new Qr(e,n,r)}next(e){this.isStopped?Zl(Xg(e),this):this._next(e)}error(e){this.isStopped?Zl(Qg(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Zl(Jg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},zC=Function.prototype.bind;function Yl(t,e){return zC.call(t,e)}var Jl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){fa(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){fa(r)}else fa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){fa(n)}}},Qr=class extends Wn{constructor(e,n,r){super();let o;if(k(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&yt.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&Yl(e.next,i),error:e.error&&Yl(e.error,i),complete:e.complete&&Yl(e.complete,i)}):o=e}this.destination=new Jl(o)}};function fa(t){yt.useDeprecatedSynchronousErrorHandling?em(t):da(t)}function qC(t){throw t}function Zl(t,e){let{onStoppedNotification:n}=yt;n&&Zr.setTimeout(()=>n(t,e))}var WC={closed:!0,next:li,error:qC,complete:li};var Xr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ke(t){return t}function Ql(...t){return Xl(t)}function Xl(t){return t.length===0?Ke:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var $=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=YC(n)?n:new Qr(n,r,o);return Jr(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=tm(r),new r((o,i)=>{let s=new Qr({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Xr](){return this}pipe(...n){return Xl(n)(this)}toPromise(n){return n=tm(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function tm(t){var e;return(e=t??yt.Promise)!==null&&e!==void 0?e:Promise}function KC(t){return t&&k(t.next)&&k(t.error)&&k(t.complete)}function YC(t){return t&&t instanceof Wn||KC(t)&&la(t)}function ed(t){return k(t?.lift)}function H(t){return e=>{if(ed(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function V(t,e,n,r,o){return new td(t,e,n,r,o)}var td=class extends Wn{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function eo(){return H((t,e)=>{let n=null;t._refCount++;let r=V(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let o=t._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var to=class extends ${constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ed(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ue;let n=this.getSubject();e.add(this.source.subscribe(V(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ue.EMPTY)}return e}refCount(){return eo()(this)}};var nm=Yr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=(()=>{class t extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ha(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new nm}next(n){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Wl:(this.currentObservers=null,i.push(n),new ue(()=>{this.currentObservers=null,ui(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new $;return n.source=this,n}}return t.create=(e,n)=>new ha(e,n),t})(),ha=class extends he{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Wl}};var De=class extends he{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ve=new $(t=>t.complete());function rm(t){return t&&k(t.schedule)}function om(t){return t[t.length-1]}function pa(t){return k(om(t))?t.pop():void 0}function mn(t){return rm(om(t))?t.pop():void 0}ne();var Ea=t=>t&&typeof t.length=="number"&&typeof t!="function";function wa(t){return k(t?.then)}function Da(t){return k(t[Xr])}function ba(t){return Symbol.asyncIterator&&k(t?.[Symbol.asyncIterator])}function Ca(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function XC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ia=XC();function Sa(t){return k(t?.[Ia])}ne();function Ta(t){return ya(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield Rt(n.read());if(o)return yield Rt(void 0);yield yield Rt(r)}}finally{n.releaseLock()}})}function Aa(t){return k(t?.getReader)}function le(t){if(t instanceof $)return t;if(t!=null){if(Da(t))return e0(t);if(Ea(t))return t0(t);if(wa(t))return n0(t);if(ba(t))return Am(t);if(Sa(t))return r0(t);if(Aa(t))return o0(t)}throw Ca(t)}function e0(t){return new $(e=>{let n=t[Xr]();if(k(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function t0(t){return new $(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function n0(t){return new $(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,da)})}function r0(t){return new $(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Am(t){return new $(e=>{i0(t,e).catch(n=>e.error(n))})}function o0(t){return Am(Ta(t))}function i0(t,e){var n,r,o,i;return E(this,void 0,void 0,function*(){try{for(n=_a(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})}function Ue(t,e,n,r=0,o=!1){let i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function Ra(t,e=0){return H((n,r)=>{n.subscribe(V(r,o=>Ue(r,t,()=>r.next(o),e),()=>Ue(r,t,()=>r.complete(),e),o=>Ue(r,t,()=>r.error(o),e)))})}function Ma(t,e=0){return H((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Rm(t,e){return le(t).pipe(Ma(e),Ra(e))}function Mm(t,e){return le(t).pipe(Ma(e),Ra(e))}function Nm(t,e){return new $(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function xm(t,e){return new $(n=>{let r;return Ue(n,e,()=>{r=t[Ia](),Ue(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>k(r?.return)&&r.return()})}function Na(t,e){if(!t)throw new Error("Iterable cannot be null");return new $(n=>{Ue(n,e,()=>{let r=t[Symbol.asyncIterator]();Ue(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Om(t,e){return Na(Ta(t),e)}function km(t,e){if(t!=null){if(Da(t))return Rm(t,e);if(Ea(t))return Nm(t,e);if(wa(t))return Mm(t,e);if(ba(t))return Na(t,e);if(Sa(t))return xm(t,e);if(Aa(t))return Om(t,e)}throw Ca(t)}function se(t,e){return e?km(t,e):le(t)}function N(...t){let e=mn(t);return se(t,e)}function no(t,e){let n=k(t)?t:()=>t,r=o=>o.error(n());return new $(e?o=>e.schedule(r,0,o):r)}function id(t){return!!t&&(t instanceof $||k(t.lift)&&k(t.subscribe))}var qt=Yr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function U(t,e){return H((n,r)=>{let o=0;n.subscribe(V(r,i=>{r.next(t.call(e,i,o++))}))})}var{isArray:s0}=Array;function a0(t,e){return s0(e)?t(...e):t(e)}function xa(t){return U(e=>a0(t,e))}var{isArray:c0}=Array,{getPrototypeOf:u0,prototype:l0,keys:d0}=Object;function Oa(t){if(t.length===1){let e=t[0];if(c0(e))return{args:e,keys:null};if(f0(e)){let n=d0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function f0(t){return t&&typeof t=="object"&&u0(t)===l0}function ka(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function Pa(...t){let e=mn(t),n=pa(t),{args:r,keys:o}=Oa(t);if(r.length===0)return se([],e);let i=new $(h0(r,e,o?s=>ka(o,s):Ke));return n?i.pipe(xa(n)):i}function h0(t,e,n=Ke){return r=>{Pm(e,()=>{let{length:o}=t,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)Pm(e,()=>{let u=se(t[c],e),l=!1;u.subscribe(V(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Pm(t,e,n){t?Ue(n,t,e):e()}function Fm(t,e,n,r,o,i,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=g=>u<r?p(g):c.push(g),p=g=>{i&&e.next(g),u++;let m=!1;le(n(g,l++)).subscribe(V(e,y=>{o?.(y),i?f(y):e.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;c.length&&u<r;){let y=c.shift();s?Ue(e,s,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return t.subscribe(V(e,f,()=>{d=!0,h()})),()=>{a?.()}}function pe(t,e,n=1/0){return k(e)?pe((r,o)=>U((i,s)=>e(r,i,o,s))(le(t(r,o))),n):(typeof e=="number"&&(n=e),H((r,o)=>Fm(r,o,t,n)))}function Lm(t=1/0){return pe(Ke,t)}function jm(){return Lm(1)}function ro(...t){return jm()(se(t,mn(t)))}function di(t){return new $(e=>{le(t()).subscribe(e)})}function sd(...t){let e=pa(t),{args:n,keys:r}=Oa(t),o=new $(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;le(n[l]).subscribe(V(i,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||i.next(r?ka(r,a):a),i.complete())}))}});return e?o.pipe(xa(e)):o}function at(t,e){return H((n,r)=>{let o=0;n.subscribe(V(r,i=>t.call(e,i,o++)&&r.next(i)))})}function vn(t){return H((e,n)=>{let r=null,o=!1,i;r=e.subscribe(V(n,void 0,void 0,s=>{i=le(t(s,vn(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function Vm(t,e,n,r,o){return(i,s)=>{let a=n,c=e,u=0;i.subscribe(V(s,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function oo(t,e){return k(e)?pe(t,e,1):pe(t,1)}function yn(t){return H((e,n)=>{let r=!1;e.subscribe(V(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function Wt(t){return t<=0?()=>Ve:H((e,n)=>{let r=0;e.subscribe(V(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function Fa(t=p0){return H((e,n)=>{let r=!1;e.subscribe(V(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function p0(){return new qt}function fi(t){return H((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Kt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?at((o,i)=>t(o,i,r)):Ke,Wt(1),n?yn(e):Fa(()=>new qt))}function io(t){return t<=0?()=>Ve:H((e,n)=>{let r=[];e.subscribe(V(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function ad(t,e){let n=arguments.length>=2;return r=>r.pipe(t?at((o,i)=>t(o,i,r)):Ke,io(1),n?yn(e):Fa(()=>new qt))}function cd(t,e){return H(Vm(t,e,arguments.length>=2,!0))}function ud(...t){let e=mn(t);return H((n,r)=>{(e?ro(t,n,e):ro(t,n)).subscribe(r)})}function Be(t,e){return H((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(V(r,c=>{o?.unsubscribe();let u=0,l=i++;le(t(c,l)).subscribe(o=V(r,d=>r.next(e?e(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function La(t){return H((e,n)=>{le(t).subscribe(V(n,()=>n.complete(),li)),!n.closed&&e.subscribe(n)})}function _e(t,e,n){let r=k(t)||e||n?{next:t,error:e,complete:n}:t;return r?H((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(V(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Ke}function Um(t){let e=P(null);try{return t()}finally{P(e)}}var wd="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",D=class extends Error{code;constructor(e,n){super(Jt(e,n)),this.code=e}};function g0(t){return`NG0${Math.abs(t)}`}function Jt(t,e){return`${g0(t)}${e?": "+e:""}`}var wn=globalThis;function W(t){for(let e in t)if(t[e]===W)return e;throw Error("")}function Hm(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Zt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Zt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Dd(t,e){return t?e?`${t} ${e}`:t:e||""}var m0=W({__forward_ref__:W});function Dn(t){return t.__forward_ref__=Dn,t.toString=function(){return Zt(this())},t}function be(t){return bd(t)?t():t}function bd(t){return typeof t=="function"&&t.hasOwnProperty(m0)&&t.__forward_ref__===Dn}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qt(t){return{providers:t.providers||[],imports:t.imports||[]}}function mi(t){return v0(t,Ba)}function Cd(t){return mi(t)!==null}function v0(t,e){return t.hasOwnProperty(e)&&t[e]||null}function y0(t){let e=t?.[Ba]??null;return e||null}function dd(t){return t&&t.hasOwnProperty(Va)?t[Va]:null}var Ba=W({\u0275prov:W}),Va=W({\u0275inj:W}),b=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=S({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Id(t){return t&&!!t.\u0275providers}var Sd=W({\u0275cmp:W}),Td=W({\u0275dir:W}),Ad=W({\u0275pipe:W}),Rd=W({\u0275mod:W}),pi=W({\u0275fac:W}),Xn=W({__NG_ELEMENT_ID__:W}),Bm=W({__NG_ENV_ID__:W});function vi(t){return typeof t=="string"?t:t==null?"":String(t)}function Gm(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():vi(t)}var zm=W({ngErrorCode:W}),_0=W({ngErrorMessage:W}),E0=W({ngTokenPath:W});function Md(t,e){return qm("",-200,e)}function $a(t,e){throw new D(-201,!1)}function qm(t,e,n){let r=new D(e,t);return r[zm]=e,r[_0]=t,n&&(r[E0]=n),r}function w0(t){return t[zm]}var fd;function Wm(){return fd}function Ne(t){let e=fd;return fd=t,e}function Nd(t,e,n){let r=mi(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;$a(t,"Injector")}var D0={},Yn=D0,b0="__NG_DI_FLAG__",hd=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Zn(n)||0;try{return this.injector.get(e,r&8?null:Yn,r)}catch(o){if(Hr(o))return o;throw o}}};function C0(t,e=0){let n=Qs();if(n===void 0)throw new D(-203,!1);if(n===null)return Nd(t,void 0,e);{let r=I0(e),o=n.retrieve(t,r);if(Hr(o)){if(r.optional)return null;throw o}return o}}function F(t,e=0){return(Wm()||C0)(be(t),e)}function v(t,e){return F(t,Zn(e))}function Zn(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function I0(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function pd(t){let e=[];for(let n=0;n<t.length;n++){let r=be(t[n]);if(Array.isArray(r)){if(r.length===0)throw new D(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=S0(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}e.push(F(o,i))}else e.push(F(r))}return e}function S0(t){return t[b0]}function _n(t,e){let n=t.hasOwnProperty(pi);return n?t[pi]:null}function Ha(t,e){t.forEach(n=>Array.isArray(n)?Ha(n,e):e(n))}function xd(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yi(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Km(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(o===1)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;){let i=o-2;t[o]=t[i],o--}t[e]=n,t[e+1]=r}}function Ym(t,e,n){let r=ao(t,e);return r>=0?t[r|1]=n:(r=~r,Km(t,r,e,n)),r}function Ga(t,e){let n=ao(t,e);if(n>=0)return t[n|1]}function ao(t,e){return T0(t,e,1)}function T0(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=t[i<<n];if(e===s)return i<<n;s>e?o=i:r=i+1}return~(o<<n)}var bn={},Ye=[],ct=new b(""),Od=new b("",-1),kd=new b(""),gi=class{get(e,n=Yn){if(n===Yn){let o=qm("",-201);throw o.name="\u0275NotFound",o}return n}};function Pd(t){return t[Rd]||null}function Xt(t){return t[Sd]||null}function za(t){return t[Td]||null}function Fd(t){return t[Ad]||null}function Et(t){return{\u0275providers:t}}function Zm(t){return Et([{provide:ct,multi:!0,useValue:t}])}function Jm(...t){return{\u0275providers:qa(!0,t),\u0275fromNgModule:!0}}function qa(t,...e){let n=[],r=new Set,o,i=s=>{n.push(s)};return Ha(e,s=>{let a=s;Ua(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Qm(o,i),n}function Qm(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];Ld(o,i=>{e(i,r)})}}function Ua(t,e,n,r){if(t=be(t),!t)return!1;let o=null,i=dd(t),s=!i&&Xt(t);if(!i&&!s){let c=t.ngModule;if(i=dd(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=t}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Ua(u,e,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;try{Ha(i.imports,l=>{Ua(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Qm(u,e)}if(!a){let u=_n(o)||(()=>new o);e({provide:o,useFactory:u,deps:Ye},o),e({provide:kd,useValue:o,multi:!0},o),e({provide:ct,useValue:()=>F(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let u=t;Ld(c,l=>{e(l,u)})}}else return!1;return o!==t&&t.providers!==void 0}function Ld(t,e){for(let n of t)Id(n)&&(n=n.\u0275providers),Array.isArray(n)?Ld(n,e):e(n)}var A0=W({provide:String,useValue:W});function Xm(t){return t!==null&&typeof t=="object"&&A0 in t}function R0(t){return!!(t&&t.useExisting)}function M0(t){return!!(t&&t.useFactory)}function Jn(t){return typeof t=="function"}function ev(t){return!!t.useClass}var _i=new b(""),ja={},$m={},ld;function Ei(){return ld===void 0&&(ld=new gi),ld}var Ee=class{},Qn=class extends Ee{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,md(e,s=>this.processProvider(s)),this.records.set(Od,so(void 0,this)),o.has("environment")&&this.records.set(Ee,so(void 0,this));let i=this.records.get(_i);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(kd,Ye,{self:!0}))}retrieve(e,n){let r=Zn(n)||0;try{return this.get(e,Yn,r)}catch(o){if(Hr(o))return o;throw o}}destroy(){hi(this),this._destroyed=!0;let e=P(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),P(e)}}onDestroy(e){return hi(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){hi(this);let n=At(this),r=Ne(void 0),o;try{return e()}finally{At(n),Ne(r)}}get(e,n=Yn,r){if(hi(this),e.hasOwnProperty(Bm))return e[Bm](this);let o=Zn(r),i,s=At(this),a=Ne(void 0);try{if(!(o&4)){let u=this.records.get(e);if(u===void 0){let l=P0(e)&&mi(e);l&&this.injectableDefInScope(l)?u=so(gd(e),ja):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,o)}let c=o&2?Ei():this.parent;return n=o&8&&n===Yn?null:n,c.get(e,n)}catch(c){let u=w0(c);throw u===-200||u===-201?new D(u,null):c}finally{Ne(a),At(s)}}resolveInjectorInitializers(){let e=P(null),n=At(this),r=Ne(void 0),o;try{let i=this.get(ct,Ye,{self:!0});for(let s of i)s()}finally{At(n),Ne(r),P(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Zt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=be(e);let n=Jn(e)?e:be(e&&e.provide),r=x0(e);if(!Jn(e)&&e.multi===!0){let o=this.records.get(n);o||(o=so(void 0,ja,!0),o.factory=()=>pd(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let o=P(null);try{if(n.value===$m)throw Md(Zt(e));return n.value===ja&&(n.value=$m,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&k0(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{P(o)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=be(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function gd(t){let e=mi(t),n=e!==null?e.factory:_n(t);if(n!==null)return n;if(t instanceof b)throw new D(204,!1);if(t instanceof Function)return N0(t);throw new D(204,!1)}function N0(t){if(t.length>0)throw new D(204,!1);let n=y0(t);return n!==null?()=>n.factory(t):()=>new t}function x0(t){if(Xm(t))return so(void 0,t.useValue);{let e=jd(t);return so(e,ja)}}function jd(t,e,n){let r;if(Jn(t)){let o=be(t);return _n(o)||gd(o)}else if(Xm(t))r=()=>be(t.useValue);else if(M0(t))r=()=>t.useFactory(...pd(t.deps||[]));else if(R0(t))r=(o,i)=>F(be(t.useExisting),i!==void 0&&i&8?8:void 0);else{let o=be(t&&(t.useClass||t.provide));if(O0(t))r=()=>new o(...pd(t.deps));else return _n(o)||gd(o)}return r}function hi(t){if(t.destroyed)throw new D(205,!1)}function so(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function O0(t){return!!t.deps}function k0(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function P0(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function md(t,e){for(let n of t)Array.isArray(n)?md(n,e):n&&Id(n)?md(n.\u0275providers,e):e(n)}function Se(t,e){let n;t instanceof Qn?(hi(t),n=t):n=new hd(t);let r,o=At(n),i=Ne(void 0);try{return e()}finally{At(o),Ne(i)}}function tv(){return Wm()!==void 0||Qs()!=null}var xe=0,T=1,x=2,de=3,ut=4,lt=5,Ze=6,co=7,Te=8,dt=9,en=10,K=11,uo=12,Vd=13,er=14,He=15,tr=16,nr=17,rr=18,wi=19,Ud=20,Yt=21,Wa=22,Di=23,Je=24,or=25,bi=26,re=27,nv=1,wt=6,Nt=7,Ci=8,Ii=9,Oe=10;function Qe(t){return Array.isArray(t)&&typeof t[nv]=="object"}function Xe(t){return Array.isArray(t)&&t[nv]===!0}function Bd(t){return(t.flags&4)!==0}function tn(t){return t.componentOffset>-1}function Si(t){return(t.flags&1)===1}function xt(t){return!!t.template}function ir(t){return(t[x]&512)!==0}function Cn(t){return(t[x]&256)===256}var rv="svg",ov="math";function et(t){for(;Array.isArray(t);)t=t[xe];return t}function $d(t,e){return et(e[t])}function Dt(t,e){return et(e[t.index])}function lo(t,e){return t.data[e]}function iv(t,e){return t[e]}function Hd(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function ft(t,e){let n=e[t];return Qe(n)?n:n[xe]}function Ka(t){return(t[x]&128)===128}function sv(t){return Xe(t[de])}function Ti(t,e){return e==null?null:t[e]}function Gd(t){t[nr]=0}function zd(t){t[x]&1024||(t[x]|=1024,Ka(t)&&fo(t))}function av(t,e){for(;t>0;)e=e[er],t--;return e}function Ai(t){return!!(t[x]&9216||t[Je]?.dirty)}function Ya(t){t[en].changeDetectionScheduler?.notify(8),t[x]&64&&(t[x]|=1024),Ai(t)&&fo(t)}function fo(t){t[en].changeDetectionScheduler?.notify(0);let e=En(t);for(;e!==null&&!(e[x]&8192||(e[x]|=8192,!Ka(e)));)e=En(e)}function qd(t,e){if(Cn(t))throw new D(911,!1);t[Yt]===null&&(t[Yt]=[]),t[Yt].push(e)}function cv(t,e){if(t[Yt]===null)return;let n=t[Yt].indexOf(e);n!==-1&&t[Yt].splice(n,1)}function En(t){let e=t[de];return Xe(e)?e[de]:e}function uv(t){return t[co]??=[]}function lv(t){return t.cleanup??=[]}var L={lFrame:Tv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var vd=!1;function dv(){return L.lFrame.elementDepthCount}function fv(){L.lFrame.elementDepthCount++}function hv(){L.lFrame.elementDepthCount--}function Wd(){return L.bindingsEnabled}function Kd(){return L.skipHydrationRootTNode!==null}function pv(t){return L.skipHydrationRootTNode===t}function gv(t){L.skipHydrationRootTNode=t}function mv(){L.skipHydrationRootTNode=null}function Y(){return L.lFrame.lView}function tt(){return L.lFrame.tView}function nn(t){return L.lFrame.contextLView=t,t[Te]}function rn(t){return L.lFrame.contextLView=null,t}function ke(){let t=Yd();for(;t!==null&&t.type===64;)t=t.parent;return t}function Yd(){return L.lFrame.currentTNode}function vv(){let t=L.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ho(t,e){let n=L.lFrame;n.currentTNode=t,n.isParent=e}function Zd(){return L.lFrame.isParent}function yv(){L.lFrame.isParent=!1}function Jd(){return vd}function Qd(t){let e=vd;return vd=t,e}function _v(){let t=L.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Ev(){return L.lFrame.bindingIndex}function wv(t){return L.lFrame.bindingIndex=t}function Za(){return L.lFrame.bindingIndex++}function Xd(t){let e=L.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Dv(){return L.lFrame.inI18n}function bv(t,e){let n=L.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ja(e)}function Cv(){return L.lFrame.currentDirectiveIndex}function Ja(t){L.lFrame.currentDirectiveIndex=t}function Iv(t){let e=L.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function ef(t){L.lFrame.currentQueryIndex=t}function F0(t){let e=t[T];return e.type===2?e.declTNode:e.type===1?t[lt]:null}function tf(t,e,n){if(n&4){let o=e,i=t;for(;o=o.parent,o===null&&!(n&1);)if(o=F0(i),o===null||(i=i[er],o.type&10))break;if(o===null)return!1;e=o,t=i}let r=L.lFrame=Sv();return r.currentTNode=e,r.lView=t,!0}function Qa(t){let e=Sv(),n=t[T];L.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Sv(){let t=L.lFrame,e=t===null?null:t.child;return e===null?Tv(t):e}function Tv(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Av(){let t=L.lFrame;return L.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var nf=Av;function Xa(){let t=Av();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Rv(t){return(L.lFrame.contextLView=av(t,L.lFrame.contextLView))[Te]}function In(){return L.lFrame.selectedIndex}function Sn(t){L.lFrame.selectedIndex=t}function rf(){let t=L.lFrame;return lo(t.tView,t.selectedIndex)}function of(){return L.lFrame.currentNamespace}var Mv=!0;function ec(){return Mv}function on(t){Mv=t}function yd(t,e=null,n=null,r){let o=sf(t,e,n,r);return o.resolveInjectorInitializers(),o}function sf(t,e=null,n=null,r,o=new Set){let i=[n||Ye,Jm(t)];return r=r||(typeof t=="object"?void 0:Zt(t)),new Qn(i,e||Ei(),r||null,o)}var $e=class t{static THROW_IF_NOT_FOUND=Yn;static NULL=new gi;static create(e,n){if(Array.isArray(e))return yd({name:""},n,e,"");{let r=e.name??"";return yd({name:r},e.parent,e.providers,r)}}static \u0275prov=S({token:t,providedIn:"any",factory:()=>F(Od)});static __NG_ELEMENT_ID__=-1},ge=new b(""),Ot=(()=>{class t{static __NG_ELEMENT_ID__=L0;static __NG_ENV_ID__=n=>n}return t})(),_d=class extends Ot{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Cn(this._lView)}onDestroy(e){let n=this._lView;return qd(n,e),()=>cv(n,e)}};function L0(){return new _d(Y())}var _t=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ge=new b("",{providedIn:"root",factory:()=>{let t=v(Ee),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(_t),e.handleError(n))}}}),Nv={provide:ct,useValue:()=>void v(_t),multi:!0},j0=new b("",{providedIn:"root",factory:()=>{let t=v(ge).defaultView;if(!t)return;let e=v(Ge),n=i=>{e(i.reason),i.preventDefault()},r=i=>{i.error?e(i.error):e(new Error(i.message,{cause:i})),i.preventDefault()},o=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(o):o(),v(Ot).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function af(){return Et([Zm(()=>void v(j0))])}function cf(t){return typeof t=="function"&&t[Ie]!==void 0}function ht(t,e){let[n,r,o]=zl(t,e?.equal),i=n,s=i[Ie];return i.set=r,i.update=o,i.asReadonly=xv.bind(i),i}function xv(){let t=this[Ie];if(t.readonlyFn===void 0){let e=()=>this();e[Ie]=t,t.readonlyFn=e}return t.readonlyFn}function uf(t){return cf(t)&&typeof t.set=="function"}var tc=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=V0}return t})();function V0(){return new tc(Y(),ke())}var Mt=class{},po=new b("",{providedIn:"root",factory:()=>!1});var lf=new b(""),nc=new b(""),bt=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new De(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new $(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=S({token:t,providedIn:"root",factory:()=>new t})}return t})(),rc=(()=>{class t{internalPendingTasks=v(bt);scheduler=v(Mt);errorHandler=v(Ge);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=S({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ri(...t){}var df=(()=>{class t{static \u0275prov=S({token:t,providedIn:"root",factory:()=>new Ed})}return t})(),Ed=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};var oc={JSACTION:"jsaction"};function ji(t){return{toString:t}.toString()}function W0(t){return typeof t=="function"}var fc=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function yy(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Co=(()=>{let t=()=>_y;return t.ngInherit=!0,t})();function _y(t){return t.type.prototype.ngOnChanges&&(t.setInput=Y0),K0}function K0(){let t=wy(this),e=t?.current;if(e){let n=t.previous;if(n===bn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Y0(t,e,n,r,o){let i=this.declaredInputs[r],s=wy(t)||Z0(t,{previous:bn,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new fc(u&&u.currentValue,n,c===bn),yy(t,e,o,n)}var Ey="__ngSimpleChanges__";function wy(t){return t[Ey]||null}function Z0(t,e){return t[Ey]=e}var Ov=[];var z=function(t,e=null,n){for(let r=0;r<Ov.length;r++){let o=Ov[r];o(t,e,n)}};function J0(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=_y(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}o&&(n.preOrderHooks??=[]).push(0-t,o),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function Dy(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function ac(t,e,n){by(t,e,3,n)}function cc(t,e,n,r){(t[x]&3)===n&&by(t,e,n,r)}function ff(t,e){let n=t[x];(n&3)===e&&(n&=16383,n+=1,t[x]=n)}function by(t,e,n,r){let o=r!==void 0?t[nr]&65535:0,i=r??-1,s=e.length-1,a=0;for(let c=o;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[nr]+=65536),(a<i||i==-1)&&(Q0(t,n,e,c),t[nr]=(t[nr]&4294901760)+c+2),c++}function kv(t,e){z(4,t,e);let n=P(null);try{e.call(t)}finally{P(n),z(5,t,e)}}function Q0(t,e,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=t[s];o?t[x]>>14<t[nr]>>16&&(t[x]&3)===e&&(t[x]+=16384,kv(a,i)):kv(a,i)}var mo=-1,cr=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,o){this.factory=e,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function X0(t){return(t.flags&8)!==0}function eI(t){return(t.flags&16)!==0}function tI(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,i)}else{let i=o,s=n[++r];rI(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),r++}}return r}function nI(t){return t===3||t===4||t===6}function rI(t){return t.charCodeAt(0)===64}function xi(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Pv(t,n,o,null,e[++r]):Pv(t,n,o,null,null))}}return t}function Pv(t,e,n,r,o){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let a=t[i++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=i-1;break}}}for(;i<t.length;){let a=t[i];if(typeof a=="number")break;if(a===n){o!==null&&(t[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),o!==null&&t.splice(i++,0,o)}function Cy(t){return t!==mo}function hc(t){return t&32767}function oI(t){return t>>16}function pc(t,e){let n=oI(t),r=e;for(;n>0;)r=r[er],n--;return r}var Sf=!0;function gc(t){let e=Sf;return Sf=t,e}var iI=256,Iy=iI-1,Sy=5,sI=0,kt={};function aI(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Xn)&&(r=n[Xn]),r==null&&(r=n[Xn]=sI++);let o=r&Iy,i=1<<o;e.data[t+(o>>Sy)]|=i}function mc(t,e){let n=Ty(t,e);if(n!==-1)return n;let r=e[T];r.firstCreatePass&&(t.injectorIndex=e.length,hf(r.data,t),hf(e,null),hf(r.blueprint,null));let o=Kf(t,e),i=t.injectorIndex;if(Cy(o)){let s=hc(o),a=pc(o,e),c=a[T].data;for(let u=0;u<8;u++)e[i+u]=a[s+u]|c[s+u]}return e[i+8]=o,i}function hf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ty(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Kf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=xy(o),r===null)return mo;if(n++,o=o[er],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return mo}function Tf(t,e,n){aI(t,e,n)}function Ay(t,e,n){if(n&8||t!==void 0)return t;$a(e,"NodeInjector")}function Ry(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=t[dt],i=Ne(void 0);try{return o?o.get(e,r,n&8):Nd(e,r,n&8)}finally{Ne(i)}}return Ay(r,e,n)}function My(t,e,n,r=0,o){if(t!==null){if(e[x]&2048&&!(r&2)){let s=fI(t,e,n,r,kt);if(s!==kt)return s}let i=Ny(t,e,n,r,kt);if(i!==kt)return i}return Ry(e,n,r,o)}function Ny(t,e,n,r,o){let i=lI(n);if(typeof i=="function"){if(!tf(e,t,r))return r&1?Ay(o,n,r):Ry(e,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))$a(n);else return s}finally{nf()}}else if(typeof i=="number"){let s=null,a=Ty(t,e),c=mo,u=r&1?e[He][lt]:null;for((a===-1||r&4)&&(c=a===-1?Kf(t,e):e[a+8],c===mo||!Lv(r,!1)?a=-1:(s=e[T],a=hc(c),e=pc(c,e)));a!==-1;){let l=e[T];if(Fv(i,a,l.data)){let d=cI(a,e,n,s,r,u);if(d!==kt)return d}c=e[a+8],c!==mo&&Lv(r,e[T].data[a+8]===u)&&Fv(i,a,e)?(s=l,a=hc(c),e=pc(c,e)):a=-1}}return o}function cI(t,e,n,r,o,i){let s=e[T],a=s.data[t+8],c=r==null?tn(a)&&Sf:r!=s&&(a.type&3)!==0,u=o&1&&i===a,l=uI(a,s,n,c,u);return l!==null?vc(e,s,l,a,o):kt}function uI(t,e,n,r,o){let i=t.providerIndexes,s=e.data,a=i&1048575,c=t.directiveStart,u=t.directiveEnd,l=i>>20,d=r?a:a+l,h=o?a+l:u;for(let f=d;f<h;f++){let p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(o){let f=s[c];if(f&&xt(f)&&f.type===n)return c}return null}function vc(t,e,n,r,o){let i=t[n],s=e.data;if(i instanceof cr){let a=i;if(a.resolving){let f=Gm(s[n]);throw Md(f)}let c=gc(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],l,d=a.injectImpl?Ne(a.injectImpl):null,h=tf(t,r,0);try{i=t[n]=a.factory(void 0,o,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&J0(n,s[n],e)}finally{d!==null&&Ne(d),gc(c),a.resolving=!1,nf()}}return i}function lI(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Xn)?t[Xn]:void 0;return typeof e=="number"?e>=0?e&Iy:dI:e}function Fv(t,e,n){let r=1<<t;return!!(n[e+(t>>Sy)]&r)}function Lv(t,e){return!(t&2)&&!(t&1&&e)}var ar=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return My(this._tNode,this._lView,e,Zn(r),n)}};function dI(){return new ar(ke(),Y())}function fr(t){return ji(()=>{let e=t.prototype.constructor,n=e[pi]||Af(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let i=o[pi]||Af(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Af(t){return bd(t)?()=>{let e=Af(be(t));return e&&e()}:_n(t)}function fI(t,e,n,r,o){let i=t,s=e;for(;i!==null&&s!==null&&s[x]&2048&&!ir(s);){let a=Ny(i,s,n,r|2,kt);if(a!==kt)return a;let c=i.parent;if(!c){let u=s[Ud];if(u){let l=u.get(n,kt,r);if(l!==kt)return l}c=xy(s),s=s[er]}i=c}return o}function xy(t){let e=t[T],n=e.type;return n===2?e.declTNode:n===1?t[lt]:null}function hI(){return Mc(ke(),Y())}function Mc(t,e){return new Io(Dt(t,e))}var Io=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=hI}return t})();var Oy="ngSkipHydration",pI="ngskiphydration";function ky(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===pI)return!0}return!1}function Py(t){return t.hasAttribute(Oy)}function yc(t){return(t.flags&128)===128}function Fy(t){if(yc(t))return!0;let e=t.parent;for(;e;){if(yc(t)||ky(e))return!0;e=e.parent}return!1}var Yf=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Yf||{}),Ly=new Map,gI=0;function mI(){return gI++}function vI(t){Ly.set(t[wi],t)}function Rf(t){Ly.delete(t[wi])}var jv="__ngContext__";function _o(t,e){Qe(e)?(t[jv]=e[wi],vI(e)):t[jv]=e}function jy(t){return Uy(t[uo])}function Vy(t){return Uy(t[ut])}function Uy(t){for(;t!==null&&!Xe(t);)t=t[ut];return t}var Mf;function Zf(t){Mf=t}function Vi(){if(Mf!==void 0)return Mf;if(typeof document<"u")return document;throw new D(210,!1)}var Ft=new b("",{providedIn:"root",factory:()=>yI}),yI="ng",Nc=new b(""),So=new b("",{providedIn:"platform",factory:()=>"unknown"});var xc=new b("",{providedIn:"root",factory:()=>Vi().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function _I(){let t=new hr;return t.store=EI(Vi(),v(Ft)),t}var hr=(()=>{class t{static \u0275prov=S({token:t,providedIn:"root",factory:_I});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function EI(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var By="h",$y="b",wI="f",DI="n",Hy="e",Gy="t",Oc="c",Jf="x",Oi="r",zy="i",qy="n",Qf="d";var Wy="di",Ky="s",Yy="p";var Ui=new b(""),Zy=!1,Xf=new b("",{providedIn:"root",factory:()=>Zy});var eh=new b(""),Jy=!1,Qy=new b(""),th=new b("",{providedIn:"root",factory:()=>new Map});var Bi="ngb";var Xy=(t,e,n)=>{let r=t,o=r.__jsaction_fns??new Map,i=o.get(e)??[];i.push(n),o.set(e,i),r.__jsaction_fns=o},e_=(t,e)=>{let n=t,r=n.getAttribute(Bi)??"",o=e.get(r)??new Set;o.has(n)||o.add(n),e.set(r,o)};var t_=t=>{t.removeAttribute(oc.JSACTION),t.removeAttribute(Bi),t.__jsaction_fns=void 0},n_=new b("",{providedIn:"root",factory:()=>({})});function nh(t,e){let n=e?.__jsaction_fns?.get(t.type);if(!(!n||!e?.isConnected))for(let r of n)r(t)}var Nf=new Map;function r_(t,e){return Nf.set(t,e),()=>Nf.delete(t)}var Vv=!1,o_=(t,e,n,r)=>{};function bI(t,e,n,r){o_(t,e,n,r)}function i_(){Vv||(o_=(t,e,n,r)=>{let o=t[dt].get(Ft);Nf.get(o)?.(e,n,r)},Vv=!0)}var kc=new b("");function Pc(t){return(t.flags&32)===32}var CI="__nghData__",rh=CI,II="__nghDeferData__",s_=II;var uc="ngh",a_="nghm",c_=()=>null;function SI(t,e,n=!1){let r=t.getAttribute(uc);if(r==null)return null;let[o,i]=r.split("|");if(r=n?i:o,!r)return null;let s=i?`|${i}`:"",a=n?o:s,c={};if(r!==""){let l=e.get(hr,null,{optional:!0});l!==null&&(c=l.get(rh,[])[Number(r)])}let u={data:c,firstChild:t.firstChild??null};return n&&(u.firstChild=t,Fc(u,0,t.nextSibling)),a?t.setAttribute(uc,a):t.removeAttribute(uc),u}function u_(){c_=SI}function l_(t,e,n=!1){return c_(t,e,n)}function d_(t){let e=t._lView;return e[T].type===2?null:(ir(e)&&(e=e[re]),e)}function TI(t){return t.textContent?.replace(/\s/gm,"")}function AI(t){let e=Vi(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(i){let s=TI(i);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,o=[];for(;r=n.nextNode();)o.push(r);for(let i of o)i.textContent==="ngetn"?i.replaceWith(e.createTextNode("")):i.remove()}function Fc(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function xf(t,e){return t.segmentHeads?.[e]??null}function f_(t){return t.get(Qy,!1,{optional:!0})}function RI(t,e){let n=t.data,r=n[Hy]?.[e]??null;return r===null&&n[Oc]?.[e]&&(r=oh(t,e)),r}function h_(t,e){return t.data[Oc]?.[e]??null}function oh(t,e){let n=h_(t,e)??[],r=0;for(let o of n)r+=o[Oi]*(o[Jf]??1);return r}function MI(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[Qf];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function p_(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[Qf];t.disconnectedNodes=n?new Set(n):null}return!!MI(t)?.has(e)}function Lc(t,e){let n=t[Ze];return n!==null&&!Kd()&&!Pc(e)&&!p_(n,e.index-re)}function NI(t,e){let n=e.get(kc),o=e.get(hr).get(s_,{}),i=!1,s=t,a=null,c=[];for(;!i&&s;){i=n.has(s);let u=n.hydrating.get(s);if(a===null&&u!=null){a=u.promise;break}c.unshift(s),s=o[s][Yy]}return{parentBlockPromise:a,hydrationQueue:c}}function pf(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===a_}function Uv(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function g_(t){for(let r of t.body.childNodes)if(pf(r))return;let e=Uv(t.body.previousSibling);if(pf(e))return;let n=Uv(t.head.lastChild);if(!pf(n))throw new D(-507,!1)}function m_(t,e){let n=t.contentQueries;if(n!==null){let r=P(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=t.data[s];ef(i),a.contentQueries(2,e[s],s)}}}finally{P(r)}}}function Of(t,e,n){ef(0);let r=P(null);try{e(t,n)}finally{P(r)}}function v_(t,e,n){if(Bd(e)){let r=P(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{P(r)}}}var sn=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(sn||{});var kf=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wd})`}};function ih(t){return t instanceof kf?t.changingThisBreaksApplicationSecurity:t}var xI=/^>|^->|<!--|-->|--!>|<!-$/g,OI=/(<|>)/g,kI="\u200B$1\u200B";function PI(t){return t.replace(xI,e=>e.replace(OI,kI))}function y_(t){return t.ownerDocument.body}function __(t){return t instanceof Function?t():t}function FI(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}var E_="ng-template";function LI(t,e,n,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&FI(e[o+1].toLowerCase(),n,0)!==-1)return!0}else if(sh(t))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function sh(t){return t.type===4&&t.value!==E_}function jI(t,e,n){let r=t.type===4&&!n?E_:t.value;return e===r}function VI(t,e,n){let r=4,o=t.attrs,i=o!==null?$I(o):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Ct(r)&&!Ct(c))return!1;if(s&&Ct(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!jI(t,c,n)||c===""&&e.length===1){if(Ct(r))return!1;s=!0}}else if(r&8){if(o===null||!LI(t,o,c,n)){if(Ct(r))return!1;s=!0}}else{let u=e[++a],l=UI(c,o,sh(t),n);if(l===-1){if(Ct(r))return!1;s=!0;continue}if(u!==""){let d;if(l>i?d="":d=o[l+1].toLowerCase(),r&2&&u!==d){if(Ct(r))return!1;s=!0}}}}return Ct(r)||s}function Ct(t){return(t&1)===0}function UI(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){let s=e[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return HI(e,t)}function BI(t,e,n=!1){for(let r=0;r<e.length;r++)if(VI(t,e[r],n))return!0;return!1}function $I(t){for(let e=0;e<t.length;e++){let n=t[e];if(nI(n))return e}return t.length}function HI(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Bv(t,e){return t?":not("+e.trim()+")":e}function GI(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Ct(s)&&(e+=Bv(i,o),o=""),r=s,i=i||!Ct(r);n++}return o!==""&&(e+=Bv(i,o)),e}function zI(t){return t.map(GI).join(",")}function qI(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")o===2?i!==""&&e.push(i,t[++r]):o===8&&n.push(i);else{if(!Ct(o))break;o=i}r++}return n.length&&e.push(1,...n),e}var It={};function w_(t,e){return t.createText(e)}function WI(t,e,n){t.setValue(e,n)}function D_(t,e){return t.createComment(PI(e))}function ah(t,e,n){return t.createElement(e,n)}function _c(t,e,n,r,o){t.insertBefore(e,n,r,o)}function b_(t,e,n){t.appendChild(e,n)}function $v(t,e,n,r,o){r!==null?_c(t,e,n,r,o):b_(t,e,n)}function ch(t,e,n,r){t.removeChild(null,e,n,r)}function C_(t){t.textContent=""}function KI(t,e,n){t.setAttribute(e,"style",n)}function YI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function I_(t,e,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&tI(t,e,r),o!==null&&YI(t,e,o),i!==null&&KI(t,e,i)}function uh(t,e,n,r,o,i,s,a,c,u,l){let d=re+r,h=d+o,f=ZI(d,h),p=typeof u=="function"?u():u;return f[T]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}function ZI(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:It);return n}function JI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=uh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function lh(t,e,n,r,o,i,s,a,c,u,l){let d=e.blueprint.slice();return d[xe]=o,d[x]=r|4|128|8|64|1024,(u!==null||t&&t[x]&2048)&&(d[x]|=2048),Gd(d),d[de]=d[er]=t,d[Te]=n,d[en]=s||t&&t[en],d[K]=a||t&&t[K],d[dt]=c||t&&t[dt]||null,d[lt]=i,d[wi]=mI(),d[Ze]=l,d[Ud]=u,d[He]=e.type==2?t[He]:d,d}function QI(t,e,n){let r=Dt(e,t),o=JI(n),i=t[en].rendererFactory,s=dh(t,lh(t,o,null,S_(n),r,e,null,i.createRenderer(r,n),null,null,null));return t[e.index]=s}function S_(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function T_(t,e,n,r){if(n===0)return-1;let o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function dh(t,e){return t[uo]?t[Vd][ut]=e:t[uo]=e,t[Vd]=e,e}function ce(t=1){A_(tt(),Y(),In()+t,!1)}function A_(t,e,n,r){if(!r)if((e[x]&3)===3){let i=t.preOrderCheckHooks;i!==null&&ac(e,i,n)}else{let i=t.preOrderHooks;i!==null&&cc(e,i,0,n)}Sn(n)}var jc=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(jc||{});function Pf(t,e,n,r){let o=P(null);try{let[i,s,a]=t.inputs[n],c=null;(s&jc.SignalBased)!==0&&(c=e[i][Ie]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,i):yy(e,c,i,r)}finally{P(o)}}var Pt=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Pt||{}),XI;function fh(t,e){return XI(t,e)}var Eo=new Set,Vc=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Vc||{}),pr=new b(""),Hv=new Set;function an(t){Hv.has(t)||(Hv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var R_=!1,Ff=class extends he{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,tv()&&(this.destroyRef=v(Ot,{optional:!0})??void 0,this.pendingTasks=v(bt,{optional:!0})??void 0)}emit(e){let n=P(null);try{super.next(e)}finally{P(n)}}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return e instanceof ue&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},me=Ff;function M_(t){let e,n;function r(){t=Ri;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Gv(t){return queueMicrotask(()=>t()),()=>{t=Ri}}var hh="isAngularZone",Ec=hh+"_ID",eS=0,ae=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new me(!1);onMicrotaskEmpty=new me(!1);onStable=new me(!1);onError=new me(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=R_}=e;if(typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,rS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(hh)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new D(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,tS,Ri,Ri);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},tS={};function ph(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nS(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){M_(()=>{t.callbackScheduled=!1,Lf(t),t.isCheckStableRunning=!0,ph(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Lf(t)}function rS(t){let e=()=>{nS(t)},n=eS++;t._inner=t._inner.fork({name:"angular",properties:{[hh]:!0,[Ec]:n,[Ec+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(oS(c))return r.invokeTask(i,s,a,c);try{return zv(t),r.invokeTask(i,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),qv(t)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return zv(t),r.invoke(i,s,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!iS(c)&&e(),qv(t)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Lf(t),ph(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Lf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function zv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qv(t){t._nesting--,ph(t)}var ki=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new me;onMicrotaskEmpty=new me;onStable=new me;onError=new me;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,o){return e.apply(n,r)}};function oS(t){return N_(t,"__ignore_ng_zone__")}function iS(t){return N_(t,"__scheduler_tick__")}function N_(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var gh=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=S({token:t,providedIn:"root",factory:()=>new t})}return t})(),x_=[0,1,2,3],O_=(()=>{class t{ngZone=v(ae);scheduler=v(Mt);errorHandler=v(_t,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){v(pr,{optional:!0})}execute(){let n=this.sequences.size>0;n&&z(16),this.executing=!0;for(let r of x_)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&z(17)}register(n){let{view:r}=n;r!==void 0?((r[or]??=[]).push(n),fo(r),r[x]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Vc.AFTER_NEXT_RENDER,n):n()}static \u0275prov=S({token:t,providedIn:"root",factory:()=>new t})}return t})(),wc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,o,i,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[or];e&&(this.view[or]=e.filter(n=>n!==this))}};function Uc(t,e){let n=e?.injector??v($e);return an("NgAfterNextRender"),aS(t,n,e,!0)}function sS(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function aS(t,e,n,r){let o=e.get(gh);o.impl??=e.get(O_);let i=e.get(pr,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(Ot):null,a=e.get(tc,null,{optional:!0}),c=new wc(o.impl,sS(t),a?.view,r,s,i?.snapshot(null));return o.impl.register(c),c}var cS=new b("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function k_(t,e){let n=t.get(cS);if(Array.isArray(e))for(let r of e)n.queue.add(r);else n.queue.add(e);n.scheduler&&n.scheduler(t)}function uS(t,e){for(let[n,r]of e)k_(t,r.animateFns)}function Wv(t,e,n,r){let o=t?.[bi]?.enter;e!==null&&o&&o.has(n.index)&&uS(r,o)}function go(t,e,n,r,o,i,s,a){if(o!=null){let c,u=!1;Xe(o)?c=o:Qe(o)&&(u=!0,o=o[xe]);let l=et(o);t===0&&r!==null?(Wv(a,r,i,n),s==null?b_(e,r,l):_c(e,r,l,s||null,!0)):t===1&&r!==null?(Wv(a,r,i,n),_c(e,r,l,s||null,!0)):t===2?Kv(a,i,n,d=>{ch(e,l,u,d)}):t===3&&Kv(a,i,n,()=>{e.destroyNode(l)}),c!=null&&DS(e,t,n,c,i,r,s)}}function lS(t,e){P_(t,e),e[xe]=null,e[lt]=null}function dS(t,e,n,r,o,i){r[xe]=o,r[lt]=e,Bc(t,r,n,1,o,i)}function P_(t,e){e[en].changeDetectionScheduler?.notify(9),Bc(t,e,e[K],2,null,null)}function fS(t){let e=t[uo];if(!e)return gf(t[T],t);for(;e;){let n=null;if(Qe(e))n=e[uo];else{let r=e[Oe];r&&(n=r)}if(!n){for(;e&&!e[ut]&&e!==t;)Qe(e)&&gf(e[T],e),e=e[de];e===null&&(e=t),Qe(e)&&gf(e[T],e),n=e&&e[ut]}e=n}}function mh(t,e){let n=t[Ii],r=n.indexOf(e);n.splice(r,1)}function vh(t,e){if(Cn(e))return;let n=e[K];n.destroyNode&&Bc(t,e,n,3,null,null),fS(e)}function gf(t,e){if(Cn(e))return;let n=P(null);try{e[x]&=-129,e[x]|=256,e[Je]&&ci(e[Je]),gS(t,e),pS(t,e),e[T].type===1&&e[K].destroy();let r=e[tr];if(r!==null&&Xe(e[de])){r!==e[de]&&mh(r,e);let o=e[rr];o!==null&&o.detachView(t)}Rf(e)}finally{P(n)}}function Kv(t,e,n,r){let o=t?.[bi];if(o==null||o.leave==null||!o.leave.has(e.index))return r(!1);if(o.skipLeaveAnimations)return o.skipLeaveAnimations=!1,r(!1);t&&Eo.add(t),k_(n,()=>{if(o.leave&&o.leave.has(e.index)){let s=o.leave.get(e.index),a=[];if(s)for(let c=0;c<s.animateFns.length;c++){let u=s.animateFns[c],{promise:l}=u();a.push(l)}o.running=Promise.allSettled(a),hS(t,r)}else t&&Eo.delete(t),r(!1)})}function hS(t,e){let n=t[bi]?.running;if(n){n.then(()=>{t[bi].running=void 0,Eo.delete(t),e(!0)});return}e(!1)}function pS(t,e){let n=t.cleanup,r=e[co];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[co]=null);let o=e[Yt];if(o!==null){e[Yt]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=e[Di];if(i!==null){e[Di]=null;for(let s of i)s.destroy()}}function gS(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof cr)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];z(4,a,c);try{c.call(a)}finally{z(5,a,c)}}else{z(4,o,i);try{i.call(o)}finally{z(5,o,i)}}}}}function mS(t,e,n){return vS(t,e.parent,n)}function vS(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[xe];if(tn(r)){let{encapsulation:o}=t.data[r.directiveStart+r.componentOffset];if(o===sn.None||o===sn.Emulated)return null}return Dt(r,n)}function yS(t,e,n){return ES(t,e,n)}function _S(t,e,n){return t.type&40?Dt(t,n):null}var ES=_S,Yv;function yh(t,e,n,r){let o=mS(t,r,e),i=e[K],s=r.parent||e[lt],a=yS(s,r,e);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)$v(i,o,n[c],a,!1);else $v(i,o,n,a,!1);Yv!==void 0&&Yv(i,r,e,n,o)}function Mi(t,e){if(e!==null){let n=e.type;if(n&3)return Dt(e,t);if(n&4)return jf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Mi(t,r);{let o=t[e.index];return Xe(o)?jf(-1,o):et(o)}}else{if(n&128)return Mi(t,e.next);if(n&32)return fh(e,t)()||et(t[e.index]);{let r=F_(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=En(t[He]);return Mi(o,r)}else return Mi(t,e.next)}}}return null}function F_(t,e){if(e!==null){let r=t[He][lt],o=e.projection;return r.projection[o]}return null}function jf(t,e){let n=Oe+t+1;if(n<e.length){let r=e[n],o=r[T].firstChild;if(o!==null)return Mi(r,o)}return e[Nt]}function _h(t,e,n,r,o,i,s){for(;n!=null;){let a=r[dt];if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&_o(et(c),r),n.flags|=2),!Pc(n))if(u&8)_h(t,e,n.child,r,o,i,!1),go(e,t,a,o,c,n,i,r);else if(u&32){let l=fh(n,r),d;for(;d=l();)go(e,t,a,o,d,n,i,r);go(e,t,a,o,c,n,i,r)}else u&16?wS(t,e,r,n,o,i):go(e,t,a,o,c,n,i,r);n=s?n.projectionNext:n.next}}function Bc(t,e,n,r,o,i){_h(n,r,t.firstChild,e,o,i,!1)}function wS(t,e,n,r,o,i){let s=n[He],c=s[lt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];go(e,t,n[dt],o,l,r,i,n)}else{let u=c,l=s[de];yc(r)&&(u.flags|=128),_h(t,e,u,l,o,i,!0)}}function DS(t,e,n,r,o,i,s){let a=r[Nt],c=et(r);a!==c&&go(e,t,n,i,a,o,s);for(let u=Oe;u<r.length;u++){let l=r[u];Bc(l[T],l,t,e,i,a)}}function bS(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:Pt.DashCase;o==null?t.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Pt.Important),t.setStyle(n,r,o,i))}}function L_(t,e,n,r,o){let i=In(),s=r&2;try{Sn(-1),s&&e.length>re&&A_(t,e,re,!1),z(s?2:0,o,n),n(r,o)}finally{Sn(i),z(s?3:1,o,n)}}function Eh(t,e,n){MS(t,e,n),(n.flags&64)===64&&NS(t,e,n)}function j_(t,e,n=Dt){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(e,t):t[s];t[o++]=a}}}function CS(t,e,n,r){let i=r.get(Xf,Zy)||n===sn.ShadowDom,s=t.selectRootElement(e,i);return IS(s),s}function IS(t){V_(t)}var V_=()=>null;function SS(t){Py(t)?C_(t):AI(t)}function U_(){V_=SS}function TS(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function B_(t,e,n,r,o,i){let s=e[T];if(Dh(t,s,e,n,r)){tn(t)&&RS(e,t.index);return}t.type&3&&(n=TS(n)),AS(t,e,n,r,o,i)}function AS(t,e,n,r,o,i){if(t.type&3){let s=Dt(t,e);r=i!=null?i(r,t.value||"",n):r,o.setProperty(s,n,r)}else t.type&12}function RS(t,e){let n=ft(e,t);n[x]&16||(n[x]|=64)}function MS(t,e,n){let r=n.directiveStart,o=n.directiveEnd;tn(n)&&QI(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||mc(n,e);let i=n.initialInputs;for(let s=r;s<o;s++){let a=t.data[s],c=vc(e,t,s,n);if(_o(c,e),i!==null&&OS(e,s-r,c,a,n,i),xt(a)){let u=ft(n.index,e);u[Te]=vc(e,t,s,n)}}}function NS(t,e,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=Cv();try{Sn(i);for(let a=r;a<o;a++){let c=t.data[a],u=e[a];Ja(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&xS(c,u)}}finally{Sn(-1),Ja(s)}}function xS(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function $_(t,e){let n=t.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];BI(e,i.selectors,!1)&&(r??=[],xt(i)?r.unshift(i):r.push(i))}return r}function OS(t,e,n,r,o,i){let s=i[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];Pf(r,n,c,u)}}function kS(t,e,n,r,o){let i=re+n,s=e[T],a=o(s,e,t,r,n);e[i]=a,ho(t,!0);let c=t.type===2;return c?(I_(e[K],a,t),(dv()===0||Si(t))&&_o(a,e),fv()):_o(a,e),ec()&&(!c||!Pc(t))&&yh(s,e,a,t),t}function PS(t){let e=t;return Zd()?yv():(e=e.parent,ho(e,!1)),e}function wh(t,e){let n=t[dt];if(!n)return;let r;try{r=n.get(Ge,null)}catch{r=null}r?.(e)}function Dh(t,e,n,r,o){let i=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],d=e.data[u];Pf(d,n[u],l,o),a=!0}if(i)for(let c of i){let u=n[c],l=e.data[c];Pf(l,u,r,o),a=!0}return a}function FS(t,e){let n=ft(e,t),r=n[T];LS(r,n);let o=n[xe];o!==null&&n[Ze]===null&&(n[Ze]=l_(o,n[dt])),z(18),bh(r,n,n[Te]),z(19,n[Te])}function LS(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function bh(t,e,n){Qa(e);try{let r=t.viewQuery;r!==null&&Of(1,r,n);let o=t.template;o!==null&&L_(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[rr]?.finishViewCreation(t),t.staticContentQueries&&m_(t,e),t.staticViewQueries&&Of(2,t.viewQuery,n);let i=t.components;i!==null&&jS(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[x]&=-5,Xa()}}function jS(t,e){for(let n=0;n<e.length;n++)FS(t,e[n])}function H_(t,e,n,r){let o=P(null);try{let i=e.tView,a=t[x]&4096?4096:16,c=lh(t,i,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[tr]=u;let l=t[rr];return l!==null&&(c[rr]=l.createEmbeddedView(i)),bh(i,c,n),c}finally{P(o)}}function Vf(t,e){return!e||e.firstChild===null||yc(t)}function Pi(t,e,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=e[n.index];i!==null&&r.push(et(i)),Xe(i)&&G_(i,r);let s=n.type;if(s&8)Pi(t,e,n.child,r);else if(s&32){let a=fh(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=F_(e,n);if(Array.isArray(a))r.push(...a);else{let c=En(e[He]);Pi(c[T],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function G_(t,e){for(let n=Oe;n<t.length;n++){let r=t[n],o=r[T].firstChild;o!==null&&Pi(r[T],r,o,e)}t[Nt]!==t[xe]&&e.push(t[Nt])}function z_(t){if(t[or]!==null){for(let e of t[or])e.impl.addSequence(e);t[or].length=0}}var q_=[];function VS(t){return t[Je]??US(t)}function US(t){let e=q_.pop()??Object.create($S);return e.lView=t,e}function BS(t){t.lView[Je]!==t&&(t.lView=null,q_.push(t))}var $S=j(_({},Gr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{fo(t.lView)},consumerOnSignalRead(){this.lView[Je]=this}});function HS(t){let e=t[Je]??Object.create(GS);return e.lView=t,e}var GS=j(_({},Gr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=En(t.lView);for(;e&&!W_(e[T]);)e=En(e);e&&zd(e)},consumerOnSignalRead(){this.lView[Je]=this}});function W_(t){return t.type!==2}function K_(t){if(t[Di]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Di])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[x]&8192)}}var zS=100;function Y_(t,e=0){let r=t[en].rendererFactory,o=!1;o||r.begin?.();try{qS(t,e)}finally{o||r.end?.()}}function qS(t,e){let n=Jd();try{Qd(!0),Uf(t,e);let r=0;for(;Ai(t);){if(r===zS)throw new D(103,!1);r++,Uf(t,1)}}finally{Qd(n)}}function WS(t,e,n,r){if(Cn(e))return;let o=e[x],i=!1,s=!1;Qa(e);let a=!0,c=null,u=null;i||(W_(t)?(u=VS(e),c=qr(u)):ra()===null?(a=!1,u=HS(e),c=qr(u)):e[Je]&&(ci(e[Je]),e[Je]=null));try{Gd(e),wv(t.bindingStartIndex),n!==null&&L_(t,e,n,2,r);let l=(o&3)===3;if(!i)if(l){let f=t.preOrderCheckHooks;f!==null&&ac(e,f,null)}else{let f=t.preOrderHooks;f!==null&&cc(e,f,0,null),ff(e,0)}if(s||KS(e),K_(e),Z_(e,0),t.contentQueries!==null&&m_(t,e),!i)if(l){let f=t.contentCheckHooks;f!==null&&ac(e,f)}else{let f=t.contentHooks;f!==null&&cc(e,f,1),ff(e,1)}ZS(t,e);let d=t.components;d!==null&&Q_(e,d,0);let h=t.viewQuery;if(h!==null&&Of(2,h,r),!i)if(l){let f=t.viewCheckHooks;f!==null&&ac(e,f)}else{let f=t.viewHooks;f!==null&&cc(e,f,2),ff(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Wa]){for(let f of e[Wa])f();e[Wa]=null}i||(z_(e),e[x]&=-73)}catch(l){throw i||fo(e),l}finally{u!==null&&(si(u,c),a&&BS(u)),Xa()}}function Z_(t,e){for(let n=jy(t);n!==null;n=Vy(n))for(let r=Oe;r<n.length;r++){let o=n[r];J_(o,e)}}function KS(t){for(let e=jy(t);e!==null;e=Vy(e)){if(!(e[x]&2))continue;let n=e[Ii];for(let r=0;r<n.length;r++){let o=n[r];zd(o)}}}function YS(t,e,n){z(18);let r=ft(e,t);J_(r,n),z(19,r[Te])}function J_(t,e){Ka(t)&&Uf(t,e)}function Uf(t,e){let r=t[T],o=t[x],i=t[Je],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&ai(i)),s||=!1,i&&(i.dirty=!1),t[x]&=-9217,s)WS(r,t,r.template,t[Te]);else if(o&8192){let a=P(null);try{K_(t),Z_(t,1);let c=r.components;c!==null&&Q_(t,c,1),z_(t)}finally{P(a)}}}function Q_(t,e,n){for(let r=0;r<e.length;r++)YS(t,e[r],n)}function ZS(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Sn(~o);else{let i=o,s=n[++r],a=n[++r];bv(s,i);let c=e[i];z(24,c),a(2,c),z(25,c)}}}finally{Sn(-1)}}function $c(t,e){let n=Jd()?64:1088;for(t[en].changeDetectionScheduler?.notify(e);t;){t[x]|=n;let r=En(t);if(ir(t)&&!r)return t;t=r}return null}function X_(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function eE(t,e,n,r=!0){let o=e[T];if(QS(o,e,t,n),r){let s=jf(n,t),a=e[K],c=a.parentNode(t[Nt]);c!==null&&dS(o,t[lt],a,e,c,s)}let i=e[Ze];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function JS(t,e){let n=Dc(t,e);return n!==void 0&&vh(n[T],n),n}function Dc(t,e){if(t.length<=Oe)return;let n=Oe+e,r=t[n];if(r){let o=r[tr];o!==null&&o!==t&&mh(o,r),e>0&&(t[n-1][ut]=r[ut]);let i=yi(t,Oe+e);lS(r[T],r);let s=i[rr];s!==null&&s.detachView(i[T]),r[de]=null,r[ut]=null,r[x]&=-129}return r}function QS(t,e,n,r){let o=Oe+r,i=n.length;r>0&&(n[o-1][ut]=e),r<i-Oe?(e[ut]=n[o],xd(n,Oe+r,e)):(n.push(e),e[ut]=null),e[de]=n;let s=e[tr];s!==null&&n!==s&&tE(s,e);let a=e[rr];a!==null&&a.insertView(t),Ya(e),e[x]|=128}function tE(t,e){let n=t[Ii],r=e[de];if(Qe(r))t[x]|=2;else{let o=r[de][He];e[He]!==o&&(t[x]|=2)}n===null?t[Ii]=[e]:n.push(e)}var Tn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[T];return Pi(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Te]}set context(e){this._lView[Te]=e}get destroyed(){return Cn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[de];if(Xe(e)){let n=e[Ci],r=n?n.indexOf(this):-1;r>-1&&(Dc(e,r),yi(n,r))}this._attachedToViewContainer=!1}vh(this._lView[T],this._lView)}onDestroy(e){qd(this._lView,e)}markForCheck(){$c(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[x]&=-129}reattach(){Ya(this._lView),this._lView[x]|=128}detectChanges(){this._lView[x]|=1024,Y_(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ir(this._lView),n=this._lView[tr];n!==null&&!e&&mh(n,this._lView),P_(this._lView[T],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e;let n=ir(this._lView),r=this._lView[tr];r!==null&&!n&&tE(r,this._lView),Ya(this._lView)}};var $i=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=XS;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let i=H_(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new Tn(i)}}return t})();function XS(){return eT(ke(),Y())}function eT(t,e){return t.type&4?new $i(e,t,Mc(t,e)):null}function Ch(t,e,n,r,o){let i=t.data[e];if(i===null)i=tT(t,e,n,r,o),Dv()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=vv();i.injectorIndex=s===null?-1:s.injectorIndex}return ho(i,!0),i}function tT(t,e,n,r,o){let i=Yd(),s=Zd(),a=s?i:i&&i.parent,c=t.data[e]=rT(t,a,n,e,r,o);return nT(t,c,i,s),c}function nT(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function rT(t,e,n,r,o,i){let s=e?e.injectorIndex:-1,a=0;return Kd()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var oT=new RegExp(`^(\\d+)*(${$y}|${By})*(.*)`);function iT(t){let e=t.match(oT),[n,r,o,i]=e,s=r?parseInt(r,10):o,a=[];for(let[c,u,l]of i.matchAll(/(f|n)(\d*)/g)){let d=parseInt(l,10)||1;a.push(u,d)}return[s,...a]}function sT(t){return!t.prev&&t.parent?.type===8}function mf(t){return t.index-re}function aT(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function Hc(t,e,n,r){let o=mf(r),i=aT(t,o);if(i===void 0){let s=t.data[qy];if(s?.[o])i=uT(s[o],n);else if(e.firstChild===r)i=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(sT(r)){let u=mf(r.parent);i=xf(t,u)}else{let u=Dt(c,n);if(a)i=u.firstChild;else{let l=mf(c),d=xf(t,l);if(c.type===2&&d){let f=oh(t,l)+1;i=Gc(f,d)}else i=u.nextSibling}}}}return i}function Gc(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function cT(t,e){let n=t;for(let r=0;r<e.length;r+=2){let o=e[r],i=e[r+1];for(let s=0;s<i;s++)switch(o){case wI:n=n.firstChild;break;case DI:n=n.nextSibling;break}}return n}function uT(t,e){let[n,...r]=iT(t),o;if(n===By)o=e[He][xe];else if(n===$y)o=y_(e[He][xe]);else{let i=Number(n);o=et(e[i+re])}return cT(o,r)}var lT=!1;function nE(t){lT=t}function dT(t){let e=t[Ze];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let o=t[K];for(let i of r.values())fT(o,n,i)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function fT(t,e,n){for(let r of n.node.cases[n.case]){let o=e.get(r.index-re);o&&ch(t,o,!1)}}function Ih(t){let e=t[wt]??[],r=t[de][K],o=[];for(let i of e)i.data[Wy]!==void 0?o.push(i):rE(i,r);t[wt]=o}function hT(t){let{lContainer:e}=t,n=e[wt];if(n===null)return;let o=e[de][K];for(let i of n)rE(i,o)}function rE(t,e){let n=0,r=t.firstChild;if(r){let o=t.data[Oi];for(;n<o;){let i=r.nextSibling;ch(e,r,!1),r=i,n++}}}function zc(t){Ih(t);let e=t[xe];Qe(e)&&bc(e);for(let n=Oe;n<t.length;n++)bc(t[n])}function bc(t){dT(t);let e=t[T];for(let n=re;n<e.bindingStartIndex;n++)if(Xe(t[n])){let r=t[n];zc(r)}else Qe(t[n])&&bc(t[n])}function Sh(t){let e=t._views;for(let n of e){let r=d_(n);r!==null&&r[xe]!==null&&(Qe(r)?bc(r):zc(r))}}function pT(t,e,n,r){t!==null&&(n.cleanup(e),zc(t.lContainer),Sh(r))}function gT(t,e){let n=[];for(let r of e)for(let o=0;o<(r[Jf]??1);o++){let i={data:r,firstChild:null};r[Oi]>0&&(i.firstChild=t,t=Gc(r[Oi],t)),n.push(i)}return[t,n]}var oE=()=>null,mT=()=>null;function iE(){oE=vT,mT=yT}function vT(t,e){return sE(t,e)?t[wt].shift():(Ih(t),null)}function Bf(t,e){return oE(t,e)}function yT(t,e,n){if(e.tView.ssrId===null)return null;let r=Bf(t,e.tView.ssrId);return n[T].firstUpdatePass&&r===null&&_T(n,e),r}function _T(t,e){let n=e;for(;n;){if(Zv(t,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=e.next;n&&(n.flags&512)===512;){if(Zv(t,n))return;n=n.next}}function sE(t,e){let n=t[wt];return!e||n===null||n.length===0?!1:n[0].data[zy]===e}function Zv(t,e){let n=e.tView?.ssrId;if(n==null)return!1;let r=t[e.index];return Xe(r)&&sE(r,n)?(Ih(r),!0):!1}var aE=class{},qc=class{},$f=class{resolveComponentFactory(e){throw new D(917,!1)}},Hi=class{static NULL=new $f},ur=class{},Gi=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>ET()}return t})();function ET(){let t=Y(),e=ke(),n=ft(e.index,t);return(Qe(n)?n:t)[K]}var cE=(()=>{class t{static \u0275prov=S({token:t,providedIn:"root",factory:()=>null})}return t})();var lc={},vo=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let o=this.injector.get(e,lc,r);return o!==lc||n===lc?o:this.parentInjector.get(e,n,r)}};function Jv(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")i=a;else if(i==1)o=Dd(o,a);else if(i==2){let c=a,u=e[++s];r=Dd(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}function Z(t,e=0){let n=Y();if(n===null)return F(t,e);let r=ke();return My(r,n,be(t),e)}function uE(t,e,n,r,o){let i=r===null?null:{"":-1},s=o(t,n);if(s!==null){let a=s,c=null,u=null;for(let l of s)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(s);break}bT(t,e,n,a,i,c,u)}i!==null&&r!==null&&wT(n,r,i)}function wT(t,e,n){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let i=n[e[o+1]];if(i==null)throw new D(-301,!1);r.push(e[o],i)}}function DT(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function bT(t,e,n,r,o,i,s){let a=r.length,c=!1;for(let h=0;h<a;h++){let f=r[h];!c&&xt(f)&&(c=!0,DT(t,n,h)),Tf(mc(n,e),t,f.type)}RT(n,t.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let u=!1,l=!1,d=T_(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(n.mergedAttrs=xi(n.mergedAttrs,f.hostAttrs),IT(t,n,e,d,f),AT(d,f,o),s!==null&&s.has(f)){let[g,m]=s.get(f);n.directiveToIndex.set(f.type,[d,g+n.directiveStart,m+n.directiveStart])}else(i===null||!i.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!u&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}CT(t,n,i)}function CT(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let o=t.data[r];if(n===null||!n.has(o))Qv(0,e,o,r),Qv(1,e,o,r),ey(e,r,!1);else{let i=n.get(o);Xv(0,e,i,r),Xv(1,e,i,r),ey(e,r,!0)}}}function Qv(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[i]??=[],s[i].push(r),lE(e,i)}}function Xv(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),lE(e,s)}}function lE(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function ey(t,e,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=t;if(r===null||!n&&o===null||n&&i===null||sh(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let u=o[c];for(let l of u)if(l===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let u=i[c];for(let l=0;l<u.length;l+=2)if(u[l]===e){s??=[],s.push(u[l+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function IT(t,e,n,r,o){t.data[r]=o;let i=o.factory||(o.factory=_n(o.type,!0)),s=new cr(i,xt(o),Z,null);t.blueprint[r]=s,n[r]=s,ST(t,e,r,T_(t,n,o.hostVars,It),o)}function ST(t,e,n,r,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;TT(s)!=a&&s.push(a),s.push(n,r,i)}}function TT(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function AT(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;xt(e)&&(n[""]=t)}}function RT(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function dE(t,e,n,r,o,i,s,a){let c=e[T],u=c.consts,l=Ti(u,s),d=Ch(c,t,n,r,l);return i&&uE(c,e,d,Ti(u,a),o),d.mergedAttrs=xi(d.mergedAttrs,d.attrs),d.attrs!==null&&Jv(d,d.attrs,!1),d.mergedAttrs!==null&&Jv(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function fE(t,e){Dy(t,e),Bd(e)&&t.queries.elementEnd(e)}function Th(t){return pE(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function hE(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function pE(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function MT(t,e,n){return t[e]=n}function wo(t,e,n){if(n===It)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function gE(t,e,n,r){let o=wo(t,e,n);return wo(t,e+1,r)||o}function vf(t,e,n){return function r(o){let i=tn(t)?ft(t.index,e):e;$c(i,5);let s=e[Te],a=ty(e,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=ty(e,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function ty(t,e,n,r){let o=P(null);try{return z(6,e,n),n(r)!==!1}catch(i){return wh(t,i),!1}finally{z(7,e,n),P(o)}}function NT(t,e,n,r,o,i,s,a){let c=Si(t),u=!1,l=null;if(!r&&c&&(l=OT(e,n,i,t.index)),l!==null){let d=l.__ngLastListenerFn__||l;d.__ngNextListenerFn__=s,l.__ngLastListenerFn__=s,u=!0}else{let d=Dt(t,n),h=r?r(d):d;bI(n,h,i,a);let f=o.listen(h,i,a);if(!xT(i)){let p=r?g=>r(et(g[t.index])):t.index;mE(p,e,n,i,a,f,!1)}}return u}function xT(t){return t.startsWith("animation")||t.startsWith("transition")}function OT(t,e,n,r){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=e[co],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function mE(t,e,n,r,o,i,s){let a=e.firstCreatePass?lv(e):null,c=uv(n),u=c.length;c.push(o,i),a&&a.push(r,t,u,(u+1)*(s?-1:1))}function ny(t,e,n,r,o,i){let s=e[n],a=e[T],u=a.data[n].outputs[r],d=s[u].subscribe(i);mE(t.index,a,e,o,i,d,!0)}var Hf=Symbol("BINDING");var Cc=class extends Hi{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Xt(e);return new Do(n,this.ngModule)}};function kT(t){return Object.keys(t).map(e=>{let[n,r,o]=t[e],i={propName:n,templateName:e,isSignal:(r&jc.SignalBased)!==0};return o&&(i.transform=o),i})}function PT(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function FT(t,e,n){let r=e instanceof Ee?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new vo(n,r):n}function LT(t){let e=t.get(ur,null);if(e===null)throw new D(407,!1);let n=t.get(cE,null),r=t.get(Mt,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function jT(t,e){let n=vE(t);return ah(e,n,n==="svg"?rv:n==="math"?ov:null)}function vE(t){return(t.selectors[0][0]||"div").toLowerCase()}var Do=class extends qc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=kT(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=PT(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=zI(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,o,i,s){z(22);let a=P(null);try{let c=this.componentDef,u=VT(r,c,s,i),l=FT(c,o||this.ngModule,e),d=LT(l),h=d.rendererFactory.createRenderer(null,c),f=r?CS(h,r,c.encapsulation,l):jT(c,h),p=s?.some(ry)||i?.some(y=>typeof y!="function"&&y.bindings.some(ry)),g=lh(null,u,null,512|S_(c),null,null,d,h,l,null,l_(f,l,!0));g[re]=f,Qa(g);let m=null;try{let y=dE(re,g,2,"#host",()=>u.directiveRegistry,!0,0);I_(h,f,y),_o(f,g),Eh(u,g,y),v_(u,y,g),fE(u,y),n!==void 0&&BT(y,this.ngContentSelectors,n),m=ft(y.index,g),g[Te]=m[Te],bh(u,g,null)}catch(y){throw m!==null&&Rf(m),Rf(g),y}finally{z(23),Xa()}return new Ic(this.componentType,g,!!p)}finally{P(a)}}};function VT(t,e,n,r){let o=t?["ng-version","20.3.10"]:qI(e.selectors[0]),i=null,s=null,a=0;if(n)for(let l of n)a+=l[Hf].requiredVars,l.create&&(l.targetIdx=0,(i??=[]).push(l)),l.update&&(l.targetIdx=0,(s??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let d=r[l];if(typeof d!="function")for(let h of d.bindings){a+=h[Hf].requiredVars;let f=l+1;h.create&&(h.targetIdx=f,(i??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[e];if(r)for(let l of r){let d=typeof l=="function"?l:l.type,h=za(d);c.push(h)}return uh(0,null,UT(i,s),1,a,c,null,null,null,[o],null)}function UT(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function ry(t){let e=t[Hf].kind;return e==="input"||e==="twoWay"}var Ic=class extends aE{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=lo(n[T],re),this.location=Mc(this._tNode,n),this.instance=ft(this._tNode.index,n)[Te],this.hostView=this.changeDetectorRef=new Tn(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView,i=Dh(r,o[T],o,e,n);this.previousInputValues.set(e,n);let s=ft(r.index,o);$c(s,1)}get injector(){return new ar(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function BT(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var gr=(()=>{class t{static __NG_ELEMENT_ID__=$T}return t})();function $T(){let t=ke();return GT(t,Y())}var HT=gr,yE=class extends HT{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Mc(this._hostTNode,this._hostLView)}get injector(){return new ar(this._hostTNode,this._hostLView)}get parentInjector(){let e=Kf(this._hostTNode,this._hostLView);if(Cy(e)){let n=pc(e,this._hostLView),r=hc(e),o=n[T].data[r+8];return new ar(o,n)}else return new ar(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=oy(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Oe}createEmbeddedView(e,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Bf(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,Vf(this._hostTNode,s)),a}createComponent(e,n,r,o,i,s,a){let c=e&&!W0(e),u;if(c)u=n;else{let m=n||{};u=m.index,r=m.injector,o=m.projectableNodes,i=m.environmentInjector||m.ngModuleRef,s=m.directives,a=m.bindings}let l=c?e:new Do(Xt(e)),d=r||this.parentInjector;if(!i&&l.ngModule==null){let y=(c?d:this.parentInjector).get(Ee,null);y&&(i=y)}let h=Xt(l.componentType??{}),f=Bf(this._lContainer,h?.id??null),p=f?.firstChild??null,g=l.create(d,o,p,i,s,a);return this.insertImpl(g.hostView,u,Vf(this._hostTNode,f)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(sv(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=o[de],u=new yE(c,c[lt],c[de]);u.detach(u.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return eE(s,o,i,r),e.attachToViewContainerRef(),xd(yf(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=oy(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Dc(this._lContainer,n);r&&(yi(yf(this._lContainer),n),vh(r[T],r))}detach(e){let n=this._adjustIndex(e,-1),r=Dc(this._lContainer,n);return r&&yi(yf(this._lContainer),n)!=null?new Tn(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function oy(t){return t[Ci]}function yf(t){return t[Ci]||(t[Ci]=[])}function GT(t,e){let n,r=e[t.index];return Xe(r)?n=r:(n=X_(r,e,null,t),e[t.index]=n,dh(e,n)),_E(n,e,t,r),new yE(n,t,e)}function zT(t,e){let n=t[K],r=n.createComment(""),o=Dt(e,t),i=n.parentNode(o);return _c(n,i,r,n.nextSibling(o),!1),r}var _E=EE,Ah=()=>!1;function qT(t,e,n){return Ah(t,e,n)}function EE(t,e,n,r){if(t[Nt])return;let o;n.type&8?o=et(r):o=zT(e,n),t[Nt]=o}function WT(t,e,n){if(t[Nt]&&t[wt])return!0;let r=n[Ze],o=e.index-re;if(!r||Fy(e)||p_(r,o))return!1;let s=xf(r,o),a=r.data[Oc]?.[o],[c,u]=gT(s,a);return t[Nt]=c,t[wt]=u,!0}function KT(t,e,n,r){Ah(t,n,e)||EE(t,e,n,r)}function wE(){_E=KT,Ah=WT}var lr=class{},Wc=class{};var Sc=class extends lr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Cc(this);constructor(e,n,r,o=!0){super(),this.ngModuleType=e,this._parent=n;let i=Pd(e);this._bootstrapComponents=__(i.bootstrap),this._r3Injector=sf(e,n,[{provide:lr,useValue:this},{provide:Hi,useValue:this.componentFactoryResolver},...r],Zt(e),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Tc=class extends Wc{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Sc(this.moduleType,e,[])}};var Fi=class extends lr{injector;componentFactoryResolver=new Cc(this);instance=null;constructor(e){super();let n=new Qn([...e.providers,{provide:lr,useValue:this},{provide:Hi,useValue:this.componentFactoryResolver}],e.parent||Ei(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function To(t,e,n=null){return new Fi({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var YT=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=qa(!1,n.type),o=r.length>0?To([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=S({token:t,providedIn:"environment",factory:()=>new t(F(Ee))})}return t})();function mr(t){return ji(()=>{let e=DE(t),n=j(_({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Yf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?o=>o.get(YT).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||sn.Emulated,styles:t.styles||Ye,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&an("NgStandalone"),bE(n);let r=t.dependencies;return n.directiveDefs=iy(r,ZT),n.pipeDefs=iy(r,Fd),n.id=XT(n),n})}function ZT(t){return Xt(t)||za(t)}function An(t){return ji(()=>({type:t.type,bootstrap:t.bootstrap||Ye,declarations:t.declarations||Ye,imports:t.imports||Ye,exports:t.exports||Ye,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function JT(t,e){if(t==null)return bn;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=jc.None,c=null),n[i]=[r,a,c],e[i]=s}return n}function QT(t){if(t==null)return bn;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function rt(t){return ji(()=>{let e=DE(t);return bE(e),e})}function Rh(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function DE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||bn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ye,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:JT(t.inputs,e),outputs:QT(t.outputs),debugInfo:null}}function bE(t){t.features?.forEach(e=>e(t))}function iy(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let o of n){let i=e(o);i!==null&&r.push(i)}return r}:null}function XT(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of r.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function eA(t){return Object.getPrototypeOf(t.prototype).constructor}function Rn(t){let e=eA(t.type),n=!0,r=[t];for(;e;){let o;if(xt(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);o=e.\u0275dir}if(o){if(n){r.push(o);let s=t;s.inputs=_f(t.inputs),s.declaredInputs=_f(t.declaredInputs),s.outputs=_f(t.outputs);let a=o.hostBindings;a&&iA(t,a);let c=o.viewQuery,u=o.contentQueries;if(c&&rA(t,c),u&&oA(t,u),tA(t,o),Hm(t.outputs,o.outputs),xt(o)&&o.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(t),a===Rn&&(n=!1)}}e=Object.getPrototypeOf(e)}nA(r)}function tA(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function nA(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=xi(o.hostAttrs,n=xi(n,o.hostAttrs))}}function _f(t){return t===bn?{}:t===Ye?[]:t}function rA(t,e){let n=t.viewQuery;n?t.viewQuery=(r,o)=>{e(r,o),n(r,o)}:t.viewQuery=e}function oA(t,e){let n=t.contentQueries;n?t.contentQueries=(r,o,i)=>{e(r,o,i),n(r,o,i)}:t.contentQueries=e}function iA(t,e){let n=t.hostBindings;n?t.hostBindings=(r,o)=>{e(r,o),n(r,o)}:t.hostBindings=e}function sA(t,e,n,r,o,i,s,a){if(n.firstCreatePass){t.mergedAttrs=xi(t.mergedAttrs,t.attrs);let l=t.tView=uh(2,t,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),l.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),ho(t,!1);let c=CE(n,e,t,r);ec()&&yh(n,e,c,t),_o(c,e);let u=X_(c,e,c,t);e[r+re]=u,dh(e,u),qT(u,t,e)}function aA(t,e,n,r,o,i,s,a,c,u,l){let d=n+re,h;return e.firstCreatePass?(h=Ch(e,d,4,s||null,a||null),Wd()&&uE(e,t,h,Ti(e.consts,u),$_),Dy(e,h)):h=e.data[d],sA(h,t,e,n,r,o,i,c),Si(h)&&Eh(e,t,h),u!=null&&j_(t,h,l),h}function Mn(t,e,n,r,o,i,s,a){let c=Y(),u=tt(),l=Ti(u.consts,i);return aA(c,u,t,e,n,r,o,l,void 0,s,a),Mn}var CE=IE;function IE(t,e,n,r){return on(!0),e[K].createComment("")}function cA(t,e,n,r){let o=!Lc(e,n);on(o);let i=e[Ze]?.data[Gy]?.[r]??null;if(i!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=i),o)return IE(t,e);let s=e[Ze],a=Hc(s,t,e,n);Fc(s,r,a);let c=oh(s,r);return Gc(c,a)}function SE(){CE=cA}var nt=(function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t})(nt||{}),sy=0,uA=1,fe=(function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t})(fe||{});var lA=0,zi=1;var dA=4,fA=5;var hA=7,yo=8,pA=9,Mh=(function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t})(Mh||{});function dc(t,e){let n=mA(t),r=e[n];if(r!==null){for(let o of r)o();e[n]=null}}function gA(t){dc(1,t),dc(0,t),dc(2,t)}function mA(t){let e=dA;return t===1?e=fA:t===2&&(e=pA),e}function TE(t){return t+1}function Ao(t,e){let n=t[T],r=TE(e.index);return t[r]}function qi(t,e){let n=TE(e.index);return t.data[n]}function vA(t,e,n){let r=e[T],o=qi(r,n);switch(t){case fe.Complete:return o.primaryTmplIndex;case fe.Loading:return o.loadingTmplIndex;case fe.Error:return o.errorTmplIndex;case fe.Placeholder:return o.placeholderTmplIndex;default:return null}}function ay(t,e){return e===fe.Placeholder?t.placeholderBlockConfig?.[sy]??null:e===fe.Loading?t.loadingBlockConfig?.[sy]??null:null}function yA(t){return t.loadingBlockConfig?.[uA]??null}function cy(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function _A(t,e){let n=e.primaryTmplIndex+re;return lo(t,n)}var EA=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,o,i){if(!this.cachedInjectors.has(n)){let s=o.length>0?To(o,r,i):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=S({token:t,providedIn:"environment",factory:()=>new t})}return t})();var AE=new b("");function Ef(t,e,n){return t.get(EA).getOrCreateInjector(e,t,n,"")}function wA(t,e,n){if(t instanceof vo){let o=t.injector,i=t.parentInjector,s=Ef(i,e,n);return new vo(o,s)}let r=t.get(Ee);if(r!==t){let o=Ef(r,e,n);return new vo(t,o)}return Ef(t,e,n)}function sr(t,e,n,r=!1){let o=n[de],i=o[T];if(Cn(o))return;let s=Ao(o,e),a=s[zi],c=s[hA];if(!(c!==null&&t<c)&&uy(a,t)&&uy(s[lA]??-1,t)){let u=qi(i,e),d=!r&&!0&&(yA(u)!==null||ay(u,fe.Loading)!==null||ay(u,fe.Placeholder))?CA:bA;try{d(t,s,n,e,o)}catch(h){wh(o,h)}}}function DA(t,e){let n=t[wt]?.findIndex(o=>o.data[Ky]===e[zi])??-1;return{dehydratedView:n>-1?t[wt][n]:null,dehydratedViewIx:n}}function bA(t,e,n,r,o){z(20);let i=vA(t,o,r);if(i!==null){e[zi]=t;let s=o[T],a=i+re,c=lo(s,a),u=0;JS(n,u);let l;if(t===fe.Complete){let p=qi(s,r),g=p.providers;g&&g.length>0&&(l=wA(o[dt],p,g))}let{dehydratedView:d,dehydratedViewIx:h}=DA(n,e),f=H_(o,c,null,{injector:l,dehydratedView:d});if(eE(n,f,u,Vf(c,d)),$c(f,2),h>-1&&n[wt]?.splice(h,1),(t===fe.Complete||t===fe.Error)&&Array.isArray(e[yo])){for(let p of e[yo])p();e[yo]=null}}z(21)}function uy(t,e){return t<e}function ly(t,e,n){t.loadingPromise.then(()=>{t.loadingState===nt.COMPLETE?sr(fe.Complete,e,n):t.loadingState===nt.FAILED&&sr(fe.Error,e,n)})}var CA=null;var Kc=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Nh=new b("");function Nn(t){return!!t&&typeof t.then=="function"}function xh(t){return!!t&&typeof t.subscribe=="function"}var RE=new b("");var Oh=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=v(RE,{optional:!0})??[];injector=v($e);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=Se(this.injector,o);if(Nn(i))n.push(i);else if(xh(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xn=new b("");function ME(){Gl(()=>{let t="";throw new D(600,t)})}function NE(t){return t.isBoundToModule}var IA=10;var Pe=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=v(Ge);afterRenderManager=v(gh);zonelessEnabled=v(po);rootEffectScheduler=v(df);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new he;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=v(bt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(U(n=>!n))}constructor(){v(pr,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=v(Ee);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=$e.NULL){return this._injector.get(ae).run(()=>{z(10);let s=n instanceof qc;if(!this._injector.get(Oh).done){let p="";throw new D(405,p)}let c;s?c=n:c=this._injector.get(Hi).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=NE(c)?void 0:this._injector.get(lr),l=r||c.selector,d=c.create(o,[],l,u),h=d.location.nativeElement,f=d.injector.get(Nh,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),Ni(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),z(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){z(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Vc.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new D(101,!1);let n=P(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,P(n),this.afterTick.next(),z(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ur,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<IA;)z(14),this.synchronizeOnce(),z(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!Ai(o))continue;let i=r&&!this.zonelessEnabled?0:1;Y_(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ai(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ni(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(xn,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ni(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new D(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ni(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function SA(){let t,e;return{promise:new Promise((r,o)=>{t=r,e=o}),resolve:t,reject:e}}function xE(t,e,n){let r=e[dt],o=e[T];if(t.loadingState!==nt.NOT_STARTED)return t.loadingPromise??Promise.resolve();let i=Ao(e,n),s=_A(o,t);t.loadingState=nt.IN_PROGRESS,dc(1,i);let a=t.dependencyResolverFn,c=r.get(rc).add();return a?(t.loadingPromise=Promise.allSettled(a()).then(u=>{let l=!1,d=[],h=[];for(let f of u)if(f.status==="fulfilled"){let p=f.value,g=Xt(p)||za(p);if(g)d.push(g);else{let m=Fd(p);m&&h.push(m)}}else{l=!0;break}if(l){if(t.loadingState=nt.FAILED,t.errorTmplIndex===null){let p=new D(-750,!1);wh(e,p)}}else{t.loadingState=nt.COMPLETE;let f=s.tView;if(d.length>0){f.directiveRegistry=cy(f.directiveRegistry,d);let p=d.map(m=>m.type),g=qa(!1,...p);t.providers=g}h.length>0&&(f.pipeRegistry=cy(f.pipeRegistry,h))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,c()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=nt.COMPLETE,c()}),t.loadingPromise)}function TA(t,e){return e[dt].get(AE,null,{optional:!0})?.behavior!==Mh.Manual}function AA(t,e,n){let r=e[T],o=e[n.index];if(!TA(t,e))return;let i=Ao(e,n),s=qi(r,n);switch(gA(i),s.loadingState){case nt.NOT_STARTED:sr(fe.Loading,n,o),xE(s,e,n),s.loadingState===nt.IN_PROGRESS&&ly(s,n,o);break;case nt.IN_PROGRESS:sr(fe.Loading,n,o),ly(s,n,o);break;case nt.COMPLETE:sr(fe.Complete,n,o);break;case nt.FAILED:sr(fe.Error,n,o);break;default:}}async function OE(t,e,n){let r=t.get(kc);if(r.hydrating.has(e))return;let{parentBlockPromise:i,hydrationQueue:s}=NI(e,t);if(s.length===0)return;i!==null&&s.shift(),NA(r,s),i!==null&&await i;let a=s[0];r.has(a)?await dy(t,s,n):r.awaitParentBlock(a,async()=>await dy(t,s,n))}async function dy(t,e,n){let r=t.get(kc),o=r.hydrating,i=t.get(bt),s=i.add();for(let c=0;c<e.length;c++){let u=e[c],l=r.get(u);if(l!=null){if(await OA(l),await xA(t),RA(l)){hT(l),fy(e.slice(c),r);break}o.get(u).resolve()}else{MA(c,e,r),fy(e.slice(c),r);break}}let a=e[e.length-1];await o.get(a)?.promise,i.remove(s),n&&n(e),pT(r.get(a),e,r,t.get(Pe))}function RA(t){return Ao(t.lView,t.tNode)[zi]===fe.Error}function MA(t,e,n){let r=t-1,o=r>-1?n.get(e[r]):null;o&&zc(o.lContainer)}function fy(t,e){let n=e.hydrating;for(let r in t)n.get(r)?.reject();e.cleanup(t)}function NA(t,e){for(let n of e)t.hydrating.set(n,SA())}function xA(t){return new Promise(e=>Uc(e,{injector:t}))}async function OA(t){let{tNode:e,lView:n}=t,r=Ao(n,e);return new Promise(o=>{kA(r,o),AA(2,n,e)})}function kA(t,e){Array.isArray(t[yo])||(t[yo]=[]),t[yo].push(e)}var FB=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function pt(t,e,n){let r=Y(),o=Za();if(wo(r,o,e)){let i=tt(),s=rf();B_(s,r,t,e,r[K],n)}return pt}function hy(t,e,n,r,o){Dh(e,t,n,o?"class":"style",r)}function Q(t,e,n,r){let o=Y(),i=o[T],s=t+re,a=i.firstCreatePass?dE(s,o,2,e,$_,Wd(),n,r):i.data[s];if(kS(a,o,t,e,kE),Si(a)){let c=o[T];Eh(c,o,a),v_(c,a,o)}return r!=null&&j_(o,a),Q}function G(){let t=tt(),e=ke(),n=PS(e);return t.firstCreatePass&&fE(t,n),pv(n)&&mv(),hv(),n.classesWithoutHost!=null&&X0(n)&&hy(t,n,Y(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&eI(n)&&hy(t,n,Y(),n.stylesWithoutHost,!1),G}function ot(t,e,n,r){return Q(t,e,n,r),G(),ot}var kE=(t,e,n,r,o)=>(on(!0),ah(e[K],r,of()));function PA(t,e,n,r,o){let i=!Lc(e,n);if(on(i),i)return ah(e[K],r,of());let s=e[Ze],a=Hc(s,t,e,n);return h_(s,o)&&Fc(s,o,a.nextSibling),s&&(ky(n)||Py(a))&&tn(n)&&(gv(n),C_(a)),a}function PE(){kE=PA}var FA=(t,e,n,r,o)=>(on(!0),D_(e[K],""));function LA(t,e,n,r,o){let i,s=!Lc(e,n);if(on(s),s)return D_(e[K],"");let a=e[Ze],c=Hc(a,t,e,n),u=RI(a,o);return Fc(a,o,c),i=Gc(u,c),i}function FE(){FA=LA}function Yc(){return Y()}var ic=void 0;function jA(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var VA=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ic,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ic,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ic,"{1} 'at' {0}",ic],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",jA],wf={};function Zc(t){let e=UA(t),n=py(e);if(n)return n;let r=e.split("-")[0];if(n=py(r),n)return n;if(r==="en")return VA;throw new D(701,!1)}function py(t){return t in wf||(wf[t]=wn.ng&&wn.ng.common&&wn.ng.common.locales&&wn.ng.common.locales[t]),wf[t]}var vr=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(vr||{});function UA(t){return t.toLowerCase().replace(/_/g,"-")}var Wi="en-US";var BA=Wi;function LE(t){typeof t=="string"&&(BA=t.toLowerCase().replace(/_/g,"-"))}function yr(t,e,n){let r=Y(),o=tt(),i=ke();return jE(o,r,r[K],i,t,e,n),yr}function jE(t,e,n,r,o,i,s){let a=!0,c=null;if((r.type&3||s)&&(c??=vf(r,e,i),NT(r,t,e,s,n,o,i,c)&&(a=!1)),a){let u=r.outputs?.[o],l=r.hostDirectiveOutputs?.[o];if(l&&l.length)for(let d=0;d<l.length;d+=2){let h=l[d],f=l[d+1];c??=vf(r,e,i),ny(r,e,h,f,o,c)}if(u&&u.length)for(let d of u)c??=vf(r,e,i),ny(r,e,d,o,o,c)}}function ze(t=1){return Rv(t)}function sc(t,e){return t<<17|e<<2}function dr(t){return t>>17&32767}function $A(t){return(t&2)==2}function HA(t,e){return t&131071|e<<17}function Gf(t){return t|2}function bo(t){return(t&131068)>>2}function Df(t,e){return t&-131069|e<<2}function GA(t){return(t&1)===1}function zf(t){return t|1}function zA(t,e,n,r,o,i){let s=i?e.classBindings:e.styleBindings,a=dr(s),c=bo(s);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||ao(d,l)>0)&&(u=!0)}else l=n;if(o)if(c!==0){let h=dr(t[a+1]);t[r+1]=sc(h,a),h!==0&&(t[h+1]=Df(t[h+1],r)),t[a+1]=HA(t[a+1],r)}else t[r+1]=sc(a,0),a!==0&&(t[a+1]=Df(t[a+1],r)),a=r;else t[r+1]=sc(c,0),a===0?a=r:t[c+1]=Df(t[c+1],r),c=r;u&&(t[r+1]=Gf(t[r+1])),gy(t,l,r,!0),gy(t,l,r,!1),qA(e,l,t,r,i),s=sc(a,c),i?e.classBindings=s:e.styleBindings=s}function qA(t,e,n,r,o){let i=o?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&ao(i,e)>=0&&(n[r+1]=zf(n[r+1]))}function gy(t,e,n,r){let o=t[n+1],i=e===null,s=r?dr(o):bo(o),a=!1;for(;s!==0&&(a===!1||i);){let c=t[s],u=t[s+1];WA(c,e)&&(a=!0,t[s+1]=r?zf(u):Gf(u)),s=r?dr(u):bo(u)}a&&(t[n+1]=r?Gf(o):zf(o))}function WA(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ao(t,e)>=0:!1}function Jc(t,e){return KA(t,e,null,!0),Jc}function KA(t,e,n,r){let o=Y(),i=tt(),s=Xd(2);if(i.firstUpdatePass&&ZA(i,t,s,r),e!==It&&wo(o,s,e)){let a=i.data[In()];tR(i,a,o,o[K],t,o[s+1]=nR(e,n),r,s)}}function YA(t,e){return e>=t.expandoStartIndex}function ZA(t,e,n,r){let o=t.data;if(o[n+1]===null){let i=o[In()],s=YA(t,n);rR(i,r)&&e===null&&!s&&(e=!1),e=JA(o,i,e,r),zA(o,i,e,n,s,r)}}function JA(t,e,n,r){let o=Iv(t),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(n=bf(null,t,e,n,r),n=Li(n,e.attrs,r),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==o)if(n=bf(o,t,e,n,r),i===null){let c=QA(t,e,r);c!==void 0&&Array.isArray(c)&&(c=bf(null,t,e,c[1],r),c=Li(c,e.attrs,r),XA(t,e,r,c))}else i=eR(t,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),n}function QA(t,e,n){let r=n?e.classBindings:e.styleBindings;if(bo(r)!==0)return t[dr(r)]}function XA(t,e,n,r){let o=n?e.classBindings:e.styleBindings;t[dr(o)]=r}function eR(t,e,n){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let s=t[i].hostAttrs;r=Li(r,s,n)}return Li(r,e.attrs,n)}function bf(t,e,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=e[a],r=Li(r,i.hostAttrs,o),i!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Li(t,e,n){let r=n?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?o=s:o===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ym(t,s,n?!0:e[++i]))}return t===void 0?null:t}function tR(t,e,n,r,o,i,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=GA(u)?my(c,e,n,o,bo(u),s):void 0;if(!Ac(l)){Ac(i)||$A(u)&&(i=my(c,null,n,o,a,s));let d=$d(In(),n);bS(r,s,d,o,i)}}function my(t,e,n,r,o,i){let s=e===null,a;for(;o>0;){let c=t[o],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[o+1];h===It&&(h=d?Ye:void 0);let f=d?Ga(h,r):l===r?h:void 0;if(u&&!Ac(f)&&(f=Ga(c,r)),Ac(f)&&(a=f,s))return a;let p=t[o+1];o=s?dr(p):bo(p)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(a=Ga(c,r))}return a}function Ac(t){return t!==void 0}function nR(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Zt(ih(t)))),t}function rR(t,e){return(t.flags&(e?8:16))!==0}function oe(t,e=""){let n=Y(),r=tt(),o=t+re,i=r.firstCreatePass?Ch(r,o,1,e,null):r.data[o],s=VE(r,n,i,e,t);n[o]=s,ec()&&yh(r,n,s,i),ho(i,!1)}var VE=(t,e,n,r,o)=>(on(!0),w_(e[K],r));function oR(t,e,n,r,o){let i=!Lc(e,n);if(on(i),i)return w_(e[K],r);let s=e[Ze];return Hc(s,t,e,n)}function UE(){VE=oR}function iR(t,e,n,r=""){return wo(t,Za(),n)?e+vi(n)+r:It}function sR(t,e,n,r,o,i=""){let s=Ev(),a=gE(t,s,n,o);return Xd(2),a?e+vi(n)+r+vi(o)+i:It}function Qc(t){return cn("",t),Qc}function cn(t,e,n){let r=Y(),o=iR(r,t,e,n);return o!==It&&BE(r,In(),o),cn}function Xc(t,e,n,r,o){let i=Y(),s=sR(i,t,e,n,r,o);return s!==It&&BE(i,In(),s),Xc}function BE(t,e,n){let r=$d(e,t);WI(t[K],r,n)}function On(t,e,n){uf(e)&&(e=e());let r=Y(),o=Za();if(wo(r,o,e)){let i=tt(),s=rf();B_(s,r,t,e,r[K],n)}return On}function _r(t,e){let n=uf(t);return n&&t.set(e),n}function kn(t,e){let n=Y(),r=tt(),o=ke();return jE(r,n,n[K],o,t,e),kn}function aR(t,e,n){let r=tt();if(r.firstCreatePass){let o=xt(t);qf(n,r.data,r.blueprint,o,!0),qf(e,r.data,r.blueprint,o,!1)}}function qf(t,e,n,r,o){if(t=be(t),Array.isArray(t))for(let i=0;i<t.length;i++)qf(t[i],e,n,r,o);else{let i=tt(),s=Y(),a=ke(),c=Jn(t)?t:be(t.provide),u=jd(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Jn(t)||!t.multi){let f=new cr(u,o,Z,null),p=If(c,e,o?l:l+h,d);p===-1?(Tf(mc(a,s),i,c),Cf(i,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=If(c,e,l+h,d),p=If(c,e,l,l+h),g=f>=0&&n[f],m=p>=0&&n[p];if(o&&!m||!o&&!g){Tf(mc(a,s),i,c);let y=lR(o?uR:cR,n.length,o,r,u,t);!o&&m&&(n[p].providerFactory=y),Cf(i,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(y),s.push(y)}else{let y=$E(n[o?p:f],u,!o&&r);Cf(i,t,f>-1?f:p,y)}!o&&r&&m&&n[p].componentProviders++}}}function Cf(t,e,n,r){let o=Jn(e),i=ev(e);if(o||i){let c=(i?be(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function $E(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function If(t,e,n,r){for(let o=n;o<r;o++)if(e[o]===t)return o;return-1}function cR(t,e,n,r,o){return Wf(this.multi,[])}function uR(t,e,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=vc(r,r[T],this.providerFactory.index,o);s=c.slice(0,a),Wf(i,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],Wf(i,s);return s}function Wf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function lR(t,e,n,r,o,i){let s=new cr(t,n,Z,null);return s.multi=[],s.index=e,s.componentProviders=0,$E(s,o,r&&!n),s}function Ki(t,e=[]){return n=>{n.providersResolver=(r,o)=>aR(r,o?o(t):t,e)}}function dR(t,e){let n=t[e];return n===It?void 0:n}function fR(t,e,n,r,o,i,s){let a=e+n;return gE(t,a,o,i)?MT(t,a+2,s?r.call(s,o,i):r(o,i)):dR(t,a+2)}function Pn(t,e){let n=tt(),r,o=t+re;n.firstCreatePass?(r=hR(e,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=_n(r.type,!0)),s,a=Ne(Z);try{let c=gc(!1),u=i();return gc(c),Hd(n,Y(),o,u),u}finally{Ne(a)}}function hR(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Fn(t,e,n,r){let o=t+re,i=Y(),s=iv(i,o);return pR(i,o)?fR(i,_v(),e,s.transform,n,r,s):s.transform(n,r)}function pR(t,e){return t[T].data[e].pure}var Rc=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},kh=(()=>{class t{compileModuleSync(n){return new Tc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=Pd(n),i=__(o.declarations).reduce((s,a)=>{let c=Xt(a);return c&&s.push(new Do(c)),s},[]);return new Rc(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var gR=(()=>{class t{zone=v(ae);changeDetectionScheduler=v(Mt);applicationRef=v(Pe);applicationErrorHandler=v(Ge);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function HE({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ae(j(_({},GE()),{scheduleInRootZone:n})),[{provide:ae,useFactory:t},{provide:ct,multi:!0,useFactory:()=>{let r=v(gR,{optional:!0});return()=>r.initialize()}},{provide:ct,multi:!0,useFactory:()=>{let r=v(mR);return()=>{r.initialize()}}},e===!0?{provide:lf,useValue:!0}:[],{provide:nc,useValue:n??R_},{provide:Ge,useFactory:()=>{let r=v(ae),o=v(Ee),i;return s=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw s}):(i??=o.get(_t),i.handleError(s))})}}}]}function GE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var mR=(()=>{class t{subscription=new ue;initialized=!1;zone=v(ae);pendingTasks=v(bt);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ae.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ae.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ph=(()=>{class t{applicationErrorHandler=v(Ge);appRef=v(Pe);taskService=v(bt);ngZone=v(ae);zonelessEnabled=v(po);tracing=v(pr,{optional:!0});disableScheduling=v(lf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ue;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ec):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(v(nc,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ki||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Gv:M_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ec+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Gv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Fh(){return an("NgZoneless"),Et([{provide:Mt,useExisting:Ph},{provide:ae,useClass:ki},{provide:po,useValue:!0},{provide:nc,useValue:!1},[]])}function vR(){return typeof $localize<"u"&&$localize.locale||Wi}var Yi=new b("",{providedIn:"root",factory:()=>v(Yi,{optional:!0,skipSelf:!0})||vR()});function Ae(t){return Um(t)}function Ro(t,e){return aa(t,e?.equal)}var zE=class{[Ie];constructor(e){this[Ie]=e}destroy(){this[Ie].destroy()}};var Bh={JSACTION:"__jsaction",OWNER:"__owner"},YE={};function yR(t){return t[Bh.JSACTION]}function qE(t,e){t[Bh.JSACTION]=e}function _R(t){return YE[t]}function ER(t,e){YE[t]=e}var A={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},wR=[A.MOUSEENTER,A.MOUSELEAVE,"pointerenter","pointerleave"],ZB=[A.CLICK,A.DBLCLICK,A.FOCUSIN,A.FOCUSOUT,A.KEYDOWN,A.KEYUP,A.KEYPRESS,A.MOUSEOVER,A.MOUSEOUT,A.SUBMIT,A.TOUCHSTART,A.TOUCHEND,A.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],DR=[A.FOCUS,A.BLUR,A.ERROR,A.LOAD,A.TOGGLE],$h=t=>DR.indexOf(t)>=0;function bR(t){return t===A.MOUSEENTER?A.MOUSEOVER:t===A.MOUSELEAVE?A.MOUSEOUT:t===A.POINTERENTER?A.POINTEROVER:t===A.POINTERLEAVE?A.POINTEROUT:t}function CR(t,e,n,r){let o=!1;$h(e)&&(o=!0);let i=typeof r=="boolean"?{capture:o,passive:r}:o;return t.addEventListener(e,n,i),{eventType:e,handler:n,capture:o,passive:r}}function IR(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function SR(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var WE=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function TR(t){return t.which===2||t.which==null&&t.button===4}function AR(t){return WE&&t.metaKey||!WE&&t.ctrlKey||TR(t)||t.shiftKey}function RR(t,e,n){let r=t.relatedTarget;return(t.type===A.MOUSEOVER&&e===A.MOUSEENTER||t.type===A.MOUSEOUT&&e===A.MOUSELEAVE||t.type===A.POINTEROVER&&e===A.POINTERENTER||t.type===A.POINTEROUT&&e===A.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function MR(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let o=r,i=t[o];typeof i!="function"&&(n[o]=i)}return t.type===A.MOUSEOVER?n.type=A.MOUSEENTER:t.type===A.MOUSEOUT?n.type=A.MOUSELEAVE:t.type===A.POINTEROVER?n.type=A.POINTERENTER:n.type=A.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var NR=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),ru=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){NR&&(this.element.style.cursor="pointer"),this.handlerInfos.push(CR(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)IR(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},xR={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function Ln(t){return t.eventType}function Hh(t,e){t.eventType=e}function tu(t){return t.event}function ZE(t,e){t.event=e}function JE(t){return t.targetElement}function QE(t,e){t.targetElement=e}function XE(t){return t.eic}function OR(t,e){t.eic=e}function kR(t){return t.timeStamp}function PR(t,e){t.timeStamp=e}function nu(t){return t.eia}function ew(t,e,n){t.eia=[e,n]}function Lh(t){t.eia=void 0}function eu(t){return t[1]}function FR(t){return t.eirp}function tw(t,e){t.eirp=e}function nw(t){return t.eir}function rw(t,e){t.eir=e}function ow(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function LR(t,e,n,r,o,i,s,a){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:o,eia:i,eirp:s,eiack:a}}var jh=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return Ln(this.eventInfo)}setEventType(e){Hh(this.eventInfo,e)}getEvent(){return tu(this.eventInfo)}setEvent(e){ZE(this.eventInfo,e)}getTargetElement(){return JE(this.eventInfo)}setTargetElement(e){QE(this.eventInfo,e)}getContainer(){return XE(this.eventInfo)}setContainer(e){OR(this.eventInfo,e)}getTimestamp(){return kR(this.eventInfo)}setTimestamp(e){PR(this.eventInfo,e)}getAction(){let e=nu(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){Lh(this.eventInfo);return}ew(this.eventInfo,e.name,e.element)}getIsReplay(){return FR(this.eventInfo)}setIsReplay(e){tw(this.eventInfo,e)}getResolved(){return nw(this.eventInfo)}setResolved(e){rw(this.eventInfo,e)}clone(){return new t(ow(this.eventInfo))}},jR={},VR=/\s*;\s*/,UR=A.CLICK,Vh=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&Ln(e)===A.CLICK&&AR(tu(e))?Hh(e,A.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){nw(e)||(this.populateAction(e,JE(e)),rw(e,!0))}resolveParentAction(e){let n=nu(e),r=n&&eu(n);Lh(e);let o=r&&this.getParentNode(r);o&&this.populateAction(e,o)}populateAction(e,n){let r=n;for(;r&&r!==XE(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!nu(e));)r=this.getParentNode(r);let o=nu(e);if(o&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(Ln(e)===A.MOUSEENTER||Ln(e)===A.MOUSELEAVE||Ln(e)===A.POINTERENTER||Ln(e)===A.POINTERLEAVE)))if(RR(tu(e),Ln(e),eu(o))){let i=MR(tu(e),eu(o));ZE(e,i),QE(e,eu(o))}else Lh(e)}getParentNode(e){let n=e[Bh.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),o=r[Ln(n)];o!==void 0&&ew(n,o,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=yR(e);if(!n){let r=e.getAttribute(oc.JSACTION);if(!r)n=jR,qE(e,n);else{if(n=_R(r),!n){n={};let o=r.split(VR);for(let i=0;i<o.length;i++){let s=o[i];if(!s)continue;let a=s.indexOf(xR.EVENT_ACTION_SEPARATOR),c=a!==-1,u=c?s.substr(0,a).trim():UR,l=c?s.substr(a+1).trim():s;n[u]=l}ER(r,n)}qE(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},iw=(function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t})(iw||{}),Uh=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new jh(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&BR(r.element,n)&&SR(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function BR(t,e){return t.tagName==="A"&&(e.getEventType()===A.CLICK||e.getEventType()===A.CLICKMOD)}var sw=Symbol.for("propagationStopped"),Gh={REPLAY:101};var $R="`preventDefault` called during event replay.";var HR="`composedPath` called during event replay.",ou=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new Vh({clickModSupport:n}),this.dispatcher=new Uh(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&qR(e),GR(e);e.getAction();){if(WR(e),$h(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),zR(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function GR(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[sw]=!0,n()};Er(e,"stopPropagation",r),Er(e,"stopImmediatePropagation",r)}function zR(t){return!!t.getEvent()[sw]}function qR(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);Er(e,"target",n),Er(e,"eventPhase",Gh.REPLAY),Er(e,"preventDefault",()=>{throw r(),new Error($R+"")}),Er(e,"composedPath",()=>{throw new Error(HR+"")})}function WR(t){let e=t.getEvent(),n=t.getAction()?.element;n&&Er(e,"currentTarget",n,{configurable:!0})}function Er(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function aw(t,e){t.ecrd(n=>{e.dispatch(n)},iw.I_AM_THE_JSACTION_FRAMEWORK)}function KR(t){return t?.q??[]}function YR(t){t&&(KE(t.c,t.et,t.h),KE(t.c,t.etc,t.h,!0))}function KE(t,e,n,r){for(let o=0;o<e.length;o++)t.removeEventListener(e[o],n,r)}var ZR=!1,cw=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=ZR;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,o){let i=LR(n,r,r.target,o,Date.now());this.handleEventInfo(i)}handleEventInfo(n){if(!this.dispatcher){tw(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,o){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&wR.indexOf(n)>=0)return;let i=(a,c,u)=>{this.handleEvent(a,c,u)};this.eventHandlers[n]=i;let s=bR(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>c=>{i(n,c,a)},o)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),YR(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let o=n[r],i=this.getEventTypesForBrowserEventType(o.eventType);for(let s=0;s<i.length;s++){let a=ow(o);Hh(a,i[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let o=0;o<this.queuedEventInfos.length;o++)this.handleEventInfo(this.queuedEventInfos[o]);this.queuedEventInfos=null}}}return t})();function uw(t,e=window){return KR(e._ejsas?.[t])}function zh(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var _w=Symbol("InputSignalNode#UNSET"),IM=j(_({},ca),{transformFn:void 0,applyValueToInputSignal(t,e){Kr(t,e)}});function Ew(t,e){let n=Object.create(IM);n.value=t,n.transformFn=e?.transform;function r(){if(zr(n),n.value===_w){let o=null;throw new D(-950,o)}return n.value}return r[Ie]=n,r}var SM=new b("");SM.__NG_ELEMENT_ID__=t=>{let e=ke();if(e===null)throw new D(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new D(204,!1)};function lw(t,e){return Ew(t,e)}function TM(t){return Ew(_w,t)}var ww=(lw.required=TM,lw);var qh=new b(""),AM=new b("");function Zi(t){return!t.moduleRef}function RM(t){let e=Zi(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ae);return n.run(()=>{Zi(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Ge),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),Zi(t)){let i=()=>e.destroy(),s=t.platformInjector.get(qh);s.add(i),e.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(qh);s.add(i),t.moduleRef.onDestroy(()=>{Ni(t.allPlatformModules,t.moduleRef),o.unsubscribe(),s.delete(i)})}return NM(r,n,()=>{let i=e.get(bt),s=i.add(),a=e.get(Oh);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Yi,Wi);if(LE(c||Wi),!e.get(AM,!0))return Zi(t)?e.get(Pe):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Zi(t)){let l=e.get(Pe);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return MM?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void i.remove(s))})})}var MM;function NM(t,e,n){try{let r=n();return Nn(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var su=null;function xM(t=[],e){return $e.create({name:e,providers:[{provide:_i,useValue:"platform"},{provide:qh,useValue:new Set([()=>su=null])},...t]})}function OM(t=[]){if(su)return su;let e=xM(t);return su=e,ME(),kM(e),e}function kM(t){let e=t.get(Nc,null);Se(t,()=>{e?.forEach(n=>n())})}var wr=(()=>{class t{static __NG_ELEMENT_ID__=PM}return t})();function PM(t){return FM(ke(),Y(),(t&16)===16)}function FM(t,e,n){if(tn(t)&&!n){let r=ft(t.index,e);return new Tn(r,r)}else if(t.type&175){let r=e[He];return new Tn(r,e)}return null}var Wh=class{constructor(){}supports(e){return Th(e)}create(e){return new Kh(e)}},LM=(t,e)=>e,Kh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||LM}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<dw(r,o,i)?n:r,a=dw(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let u=a-o,l=c-o;if(u!=l){for(let h=0;h<u;h++){let f=h<i.length?i[h]:i[h]=0,p=f+h;l<=p&&p<u&&(i[h]=f+1)}let d=s.previousIndex;i[d]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Th(e))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,hE(e,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,o){let i;return e===null?i=this._itTail:(i=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,i,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,i,o)):e=this._addAfter(new Yh(n,r),i,o)),e}_verifyReinsertion(e,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,i=e._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let o=n===null?this._itHead:n._next;return e._next=o,e._prev=n,o===null?this._itTail=e:o._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new cu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new cu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Yh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Zh=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},cu=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Zh,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,o=this.map.get(r);return o?o.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function dw(t,e,n){let r=t.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o}function fw(){return new Jh([new Wh])}var Jh=(()=>{class t{factories;static \u0275prov=S({token:t,providedIn:"root",factory:fw});constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=v(t,{optional:!0,skipSelf:!0});return t.create(n,r||fw())}}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new D(901,!1)}}return t})();function Dw(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:o}=t;z(8);try{let i=o?.injector??OM(r),s=[HE({}),{provide:Mt,useExisting:Ph},Nv,...n||[]],a=new Fi({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return RM({r3Injector:a.injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{z(9)}}var iu=new WeakSet,hw="",au=[];function pw(t){return t.get(eh,Jy)}function bw(){let t=[{provide:eh,useFactory:()=>{let e=!0;{let n=v(Ft);e=!!window._ejsas?.[n]}return e&&an("NgEventReplay"),e}}];return t.push({provide:ct,useValue:()=>{let e=v(Pe),{injector:n}=e;if(!iu.has(e)){let r=v(th);if(pw(n)){i_();let o=n.get(Ft),i=r_(o,(s,a,c)=>{s.nodeType===Node.ELEMENT_NODE&&(Xy(s,a,c),e_(s,r))});e.onDestroy(i)}}},multi:!0},{provide:xn,useFactory:()=>{let e=v(Pe),{injector:n}=e;return()=>{if(!pw(n)||iu.has(e))return;iu.add(e);let r=n.get(Ft);e.onDestroy(()=>{iu.delete(e),zh(r)}),e.whenStable().then(()=>{if(e.destroyed)return;let o=n.get(n_);jM(o,n);let i=n.get(th);i.get(hw)?.forEach(t_),i.delete(hw);let s=o.instance;f_(n)?e.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),t}var jM=(t,e)=>{let n=e.get(Ft),r=window._ejsas[n],o=t.instance=new cw(new ru(r.c));for(let a of r.et)o.addEvent(a);for(let a of r.etc)o.addEvent(a);let i=uw(n);o.replayEarlyEventInfos(i),zh(n);let s=new ou(a=>{VM(e,a,a.currentTarget)});aw(o,s)};function VM(t,e,n){let r=(n&&n.getAttribute(Bi))??"";/d\d+/.test(r)?UM(r,t,e,n):e.eventPhase===Gh.REPLAY&&nh(e,n)}function UM(t,e,n,r){au.push({event:n,currentTarget:r}),OE(e,t,BM)}function BM(t){let e=[...au],n=new Set(t);au=[];for(let{event:r,currentTarget:o}of e){let i=o.getAttribute(Bi);n.has(i)?nh(r,o):au.push({event:r,currentTarget:o})}}var gw=!1;function $M(){gw||(gw=!0,u_(),PE(),UE(),FE(),SE(),wE(),iE(),U_())}function HM(t){return t.whenStable()}function Cw(){let t=[{provide:Ui,useFactory:()=>{let e=!0;return e=!!v(hr,{optional:!0})?.get(rh,null),e&&an("NgHydration"),e}},{provide:ct,useValue:()=>{nE(!1),v(Ui)&&(g_(Vi()),$M())},multi:!0}];return t.push({provide:Xf,useFactory:()=>v(Ui)},{provide:xn,useFactory:()=>{if(v(Ui)){let e=v(Pe);return()=>{HM(e).then(()=>{e.destroyed||Sh(e)})}}return()=>{}},multi:!0}),Et(t)}function Qh(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Tw=null;function gt(){return Tw}function Xh(t){Tw??=t}var Ji=class{},ep=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>v(Aw),providedIn:"platform"})}return t})();var Aw=(()=>{class t extends ep{_location;_history;_doc=v(ge);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gt().getBaseHref(this._doc)}onPopState(n){let r=gt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=gt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Rw(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function Iw(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function jn(t){return t&&t[0]!=="?"?`?${t}`:t}var uu=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>v(Nw),providedIn:"root"})}return t})(),Mw=new b(""),Nw=(()=>{class t extends uu{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??v(ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Rw(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+jn(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+jn(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+jn(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(F(ep),F(Mw,8))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Mo=(()=>{class t{_subject=new he;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=qM(Iw(Sw(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+jn(r))}normalize(n){return t.stripTrailingSlash(zM(this._basePath,Sw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jn(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jn(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=jn;static joinWithSlash=Rw;static stripTrailingSlash=Iw;static \u0275fac=function(r){return new(r||t)(F(uu))};static \u0275prov=S({token:t,factory:()=>GM(),providedIn:"root"})}return t})();function GM(){return new Mo(F(uu))}function zM(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Sw(t){return t.replace(/\/index.html$/,"")}function qM(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var rp=(function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t})(rp||{});var jt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function No(t,e){let n=Zc(t),r=n[vr.NumberSymbols][e];if(typeof r>"u"){if(e===jt.CurrencyDecimal)return n[vr.NumberSymbols][jt.Decimal];if(e===jt.CurrencyGroup)return n[vr.NumberSymbols][jt.Group]}return r}function Pw(t,e){return Zc(t)[vr.NumberFormats][e]}var WM=/^(\d+)?\.((\d+)(-(\d+))?)?$/,xw=22,lu=".",Qi="0",KM=";",YM=",",tp="#";function ZM(t,e,n,r,o,i,s=!1){let a="",c=!1;if(!isFinite(t))a=No(n,jt.Infinity);else{let u=XM(t);s&&(u=QM(u));let l=e.minInt,d=e.minFrac,h=e.maxFrac;if(i){let M=i.match(WM);if(M===null)throw new D(2306,!1);let C=M[1],w=M[3],B=M[5];C!=null&&(l=np(C)),w!=null&&(d=np(w)),B!=null?h=np(B):w!=null&&d>h&&(h=d)}eN(u,d,h);let f=u.digits,p=u.integerLen,g=u.exponent,m=[];for(c=f.every(M=>!M);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);let y=[];for(f.length>=e.lgSize&&y.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)y.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(No(n,r)),m.length&&(a+=No(n,o)+m.join("")),g&&(a+=No(n,jt.Exponential)+"+"+g)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function Fw(t,e,n){let r=Pw(e,rp.Decimal),o=JM(r,No(e,jt.MinusSign));return ZM(t,o,e,jt.Group,jt.Decimal,n)}function JM(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(KM),o=r[0],i=r[1],s=o.indexOf(lu)!==-1?o.split(lu):[o.substring(0,o.lastIndexOf(Qi)+1),o.substring(o.lastIndexOf(Qi)+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf(tp));for(let l=0;l<c.length;l++){let d=c.charAt(l);d===Qi?n.minFrac=n.maxFrac=l+1:d===tp?n.maxFrac=l+1:n.posSuf+=d}let u=a.split(YM);if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,i){let l=o.length-n.posPre.length-n.posSuf.length,d=i.indexOf(tp);n.negPre=i.substring(0,d).replace(/'/g,""),n.negSuf=i.slice(d+l).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function QM(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function XM(t){let e=Math.abs(t)+"",n=0,r,o,i,s,a;for((o=e.indexOf(lu))>-1&&(e=e.replace(lu,"")),(i=e.search(/e/i))>0?(o<0&&(o=i),o+=+e.slice(i+1),e=e.substring(0,i)):o<0&&(o=e.length),i=0;e.charAt(i)===Qi;i++);if(i===(a=e.length))r=[0],o=1;else{for(a--;e.charAt(a)===Qi;)a--;for(o-=i,r=[],s=0;i<=a;i++,s++)r[s]=Number(e.charAt(i))}return o>xw&&(r=r.splice(0,xw-1),n=o-1,o=1),{digits:r,exponent:n,integerLen:o}}function eN(t,e,n){if(e>n)throw new D(2307,!1);let r=t.digits,o=r.length-t.integerLen,i=Math.min(Math.max(e,o),n),s=i+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{o=Math.max(0,o),t.integerLen=1,r.length=Math.max(1,s=i+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;o<Math.max(0,i);o++)r.push(0);let c=i!==0,u=e+t.integerLen,l=r.reduceRight(function(d,h,f,p){return h=h+d,p[f]=h<10?h:h-10,c&&(p[f]===0&&f>=u?p.pop():c=!1),h>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}function np(t){let e=parseInt(t);if(isNaN(e))throw new D(2305,!1);return e}var du=class{$implicit;ngForOf;index;count;constructor(e,n,r,o){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},hu=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new du(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),Ow(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);Ow(i,o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Z(gr),Z($i),Z(Jh))};static \u0275dir=rt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Ow(t,e){t.context.$implicit=e.item}var op=(()=>{class t{_viewContainer;_context=new fu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){kw(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){kw(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Z(gr),Z($i))};static \u0275dir=rt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),fu=class{$implicit=null;ngIf=null};function kw(t,e){if(t&&!t.createEmbeddedView)throw new D(2020,!1)}function tN(t,e){return new D(2100,!1)}var ip=(()=>{class t{_locale;constructor(n){this._locale=n}transform(n,r,o){if(!nN(n))return null;o||=this._locale;try{let i=rN(n);return Fw(i,o,r)}catch(i){throw tN(t,i.message)}}static \u0275fac=function(r){return new(r||t)(Z(Yi,16))};static \u0275pipe=Rh({name:"number",type:t,pure:!0})}return t})();function nN(t){return!(t==null||t===""||t!==t)}function rN(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new D(2309,!1);return t}var pu=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=An({type:t});static \u0275inj=Qt({})}return t})();function sp(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var Xi=class{};var Lw="browser";var es=class{_doc;constructor(e){this._doc=e}manager},gu=(()=>{class t extends es{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||t)(F(ge))};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})(),vu=new b(""),dp=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let o=n.filter(s=>!(s instanceof gu));this._plugins=o.slice().reverse();let i=n.find(s=>s instanceof gu);i&&this._plugins.push(i)}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(F(vu),F(ae))};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})(),ap="ng-app-id";function jw(t){for(let e of t)e.remove()}function Vw(t,e){let n=e.createElement("style");return n.textContent=t,n}function iN(t,e,n,r){let o=t.head?.querySelectorAll(`style[${ap}="${e}"],link[${ap}="${e}"]`);if(o)for(let i of o)i.removeAttribute(ap),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function up(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var fp=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,iN(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,Vw);r?.forEach(o=>this.addUsage(o,this.external,up))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(jw(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])jw(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,Vw(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,up(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(F(ge),F(Ft),F(xc,8),F(So))};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})(),cp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},hp=/%COMP%/g;var Bw="%COMP%",sN=`_nghost-${Bw}`,aN=`_ngcontent-${Bw}`,cN=!0,uN=new b("",{providedIn:"root",factory:()=>cN});function lN(t){return aN.replace(hp,t)}function dN(t){return sN.replace(hp,t)}function $w(t,e){return e.map(n=>n.replace(hp,t))}var pp=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,s,a,c,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new ts(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof mu?o.applyToHost(n):o instanceof ns&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case sn.Emulated:i=new mu(c,u,r,this.appId,l,s,a,d,h);break;case sn.ShadowDom:return new lp(c,u,n,r,s,a,this.nonce,d,h);default:i=new ns(c,u,r,l,s,a,d,h);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(F(dp),F(fp),F(Ft),F(uN),F(ge),F(So),F(ae),F(xc),F(pr,8))};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})(),ts=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,o,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(cp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Uw(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Uw(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new D(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;let i=cp[o];i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let o=cp[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&(Pt.DashCase|Pt.Important)?e.style.setProperty(n,r,o&Pt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Pt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,o){if(typeof e=="string"&&(e=gt().getGlobalEventTarget(this.doc,e),!e))throw new D(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,n,i)),this.eventManager.addEventListener(e,n,i,o)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function Uw(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var lp=class extends ts{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,o,i,s,a,c,u){super(e,i,s,c,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=o.styles;l=$w(o.id,l);for(let h of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}let d=o.getExternalStyles?.();if(d)for(let h of d){let f=up(h,i);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ns=class extends ts{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,o,i,s,a,c,u){super(e,i,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let l=r.styles;this.styles=u?$w(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Eo.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},mu=class extends ns{contentAttr;hostAttr;constructor(e,n,r,o,i,s,a,c,u){let l=o+"-"+r.id;super(e,n,r,i,s,a,c,u,l),this.contentAttr=lN(l),this.hostAttr=dN(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var yu=class t extends Ji{supportsDOMEvents=!0;static makeCurrent(){Xh(new t)}onAndCancel(e,n,r,o){return e.addEventListener(n,r,o),()=>{e.removeEventListener(n,r,o)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=fN();return n==null?null:hN(n)}resetBaseElement(){rs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return sp(document.cookie,e)}},rs=null;function fN(){return rs=rs||document.head.querySelector("base"),rs?rs.getAttribute("href"):null}function hN(t){return new URL(t,document.baseURI).pathname}var pN=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})(),Hw=["alt","control","meta","shift"],gN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Gw=(()=>{class t extends es{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gt().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Hw.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=gN[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Hw.forEach(s=>{if(s!==o){let a=mN[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{t.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(F(ge))};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})();function gp(t,e,n){let r=_({rootComponent:t,platformRef:n?.platformRef},vN(e));return Dw(r)}function vN(t){return{appProviders:[...DN,...t?.providers??[]],platformProviders:wN}}function yN(){yu.makeCurrent()}function _N(){return new _t}function EN(){return Zf(document),document}var wN=[{provide:So,useValue:Lw},{provide:Nc,useValue:yN,multi:!0},{provide:ge,useFactory:EN}];var DN=[{provide:_i,useValue:"root"},{provide:_t,useFactory:_N},{provide:vu,useClass:gu,multi:!0,deps:[ge]},{provide:vu,useClass:Gw,multi:!0,deps:[ge]},pp,fp,dp,{provide:ur,useExisting:pp},{provide:Xi,useClass:pN},[]];var os=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let o=(e.op==="a"?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":let i=e.value;if(!i)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var bN="X-Request-URL",CN="text/plain",IN="application/json",f3=`${IN}, ${CN}, */*`;var vp=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(vp||{}),mp=class{headers;status;statusText;url;ok;type;redirected;constructor(e,n=200,r="OK"){this.headers=e.headers||new os,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}};var _u=class t extends mp{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=vp.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}};var zw=new b("");var h3=RegExp(`^${bN}:`,"m");var SN=new b(""),TN="b",AN="h",RN="s",MN="st",NN="u",xN="rt",yp=new b(""),ON=["GET","HEAD"];function kN(t,e){let f=v(yp),{isCacheActive:n}=f,r=Ug(f,["isCacheActive"]),{transferCache:o,method:i}=t;if(!n||o===!1||i==="POST"&&!r.includePostRequests&&!o||i!=="POST"&&!ON.includes(i)||!r.includeRequestsWithAuthHeaders&&PN(t)||r.filter?.(t)===!1)return e(t);let s=v(hr);if(v(SN,{optional:!0}))throw new D(2803,!1);let c=t.url,u=FN(t,c),l=s.get(u,null),d=r.includeHeaders;if(typeof o=="object"&&o.includeHeaders&&(d=o.includeHeaders),l){let{[TN]:p,[xN]:g,[AN]:m,[RN]:y,[MN]:M,[NN]:C}=l,w=p;switch(g){case"arraybuffer":w=new TextEncoder().encode(p).buffer;break;case"blob":w=new Blob([p]);break}let B=new os(m);return N(new _u({body:w,headers:B,status:y,statusText:M,url:C}))}return e(t)}function PN(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function qw(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function FN(t,e){let{params:n,method:r,responseType:o}=t,i=qw(n),s=t.serializeBody();s instanceof URLSearchParams?s=qw(s):typeof s!="string"&&(s="");let a=[r,o,e,s,i].join("|"),c=LN(a);return c}function LN(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function Ww(t){return[{provide:yp,useFactory:()=>(an("NgHttpTransferCache"),_({isCacheActive:!0},t))},{provide:zw,useValue:kN,multi:!0},{provide:xn,multi:!0,useFactory:()=>{let e=v(Pe),n=v(yp);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var Kw=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(F(ge))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Eu=(function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t})(Eu||{});function jN(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}function Yw(){return jN(Eu.EventReplay,bw())}function Zw(...t){let e=[],n=new Set;for(let{\u0275providers:o,\u0275kind:i}of t)n.add(i),o.length&&e.push(o);let r=n.has(Eu.HttpTransferCacheOptions);return Et([[],[],Cw(),n.has(Eu.NoHttpTransferCache)||r?[]:Ww({}),e])}var O="primary",_s=Symbol("RouteTitle"),bp=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Cr(t){return new bp(t)}function oD(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=t[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function UN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vt(t[n],e[n]))return!1;return!0}function Vt(t,e){let n=t?Cp(t):void 0,r=e?Cp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!iD(t[o],e[o]))return!1;return!0}function Cp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function iD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((o,i)=>r[i]===o)}else return t===e}function sD(t){return t.length>0?t[t.length-1]:null}function dn(t){return id(t)?t:Nn(t)?se(Promise.resolve(t)):N(t)}var BN={exact:cD,subset:uD},aD={exact:$N,subset:HN,ignored:()=>!0};function Jw(t,e,n){return BN[n.paths](t.root,e.root,n.matrixParams)&&aD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function $N(t,e){return Vt(t,e)}function cD(t,e,n){if(!Dr(t.segments,e.segments)||!bu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!cD(t.children[r],e.children[r],n))return!1;return!0}function HN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>iD(t[n],e[n]))}function uD(t,e,n){return lD(t,e,e.segments,n)}function lD(t,e,n,r){if(t.segments.length>n.length){let o=t.segments.slice(0,n.length);return!(!Dr(o,n)||e.hasChildren()||!bu(o,n,r))}else if(t.segments.length===n.length){if(!Dr(t.segments,n)||!bu(t.segments,n,r))return!1;for(let o in e.children)if(!t.children[o]||!uD(t.children[o],e.children[o],r))return!1;return!0}else{let o=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!Dr(t.segments,o)||!bu(t.segments,o,r)||!t.children[O]?!1:lD(t.children[O],e,i,r)}}function bu(t,e,n){return e.every((r,o)=>aD[n](t[o].parameters,r.parameters))}var Bt=class{root;queryParams;fragment;_queryParamMap;constructor(e=new q([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Cr(this.queryParams),this._queryParamMap}toString(){return qN.serialize(this)}},q=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cu(this)}},Vn=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Cr(this.parameters),this._parameterMap}toString(){return fD(this)}};function GN(t,e){return Dr(t,e)&&t.every((n,r)=>Vt(n.parameters,e[r].parameters))}function Dr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function zN(t,e){let n=[];return Object.entries(t.children).forEach(([r,o])=>{r===O&&(n=n.concat(e(o,r)))}),Object.entries(t.children).forEach(([r,o])=>{r!==O&&(n=n.concat(e(o,r)))}),n}var Es=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>new Ir,providedIn:"root"})}return t})(),Ir=class{parse(e){let n=new Sp(e);return new Bt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${is(e.root,!0)}`,r=YN(e.queryParams),o=typeof e.fragment=="string"?`#${WN(e.fragment)}`:"";return`${n}${r}${o}`}},qN=new Ir;function Cu(t){return t.segments.map(e=>fD(e)).join("/")}function is(t,e){if(!t.hasChildren())return Cu(t);if(e){let n=t.children[O]?is(t.children[O],!1):"",r=[];return Object.entries(t.children).forEach(([o,i])=>{o!==O&&r.push(`${o}:${is(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=zN(t,(r,o)=>o===O?[is(t.children[O],!1)]:[`${o}:${is(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[O]!=null?`${Cu(t)}/${n[0]}`:`${Cu(t)}/(${n.join("//")})`}}function dD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wu(t){return dD(t).replace(/%3B/gi,";")}function WN(t){return encodeURI(t)}function Ip(t){return dD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Iu(t){return decodeURIComponent(t)}function Qw(t){return Iu(t.replace(/\+/g,"%20"))}function fD(t){return`${Ip(t.path)}${KN(t.parameters)}`}function KN(t){return Object.entries(t).map(([e,n])=>`;${Ip(e)}=${Ip(n)}`).join("")}function YN(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(o=>`${wu(n)}=${wu(o)}`).join("&"):`${wu(n)}=${wu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var ZN=/^[^\/()?;#]+/;function _p(t){let e=t.match(ZN);return e?e[0]:""}var JN=/^[^\/()?;=#]+/;function QN(t){let e=t.match(JN);return e?e[0]:""}var XN=/^[^=?&#]+/;function ex(t){let e=t.match(XN);return e?e[0]:""}var tx=/^[^&#]+/;function nx(t){let e=t.match(tx);return e?e[0]:""}var Sp=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new q([],{}):new q([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[O]=new q(e,n)),r}parseSegment(){let e=_p(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new Vn(Iu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=QN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=_p(this.remaining);o&&(r=o,this.capture(r))}e[Iu(n)]=Iu(r)}parseQueryParam(e){let n=ex(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=nx(this.remaining);s&&(r=s,this.capture(r))}let o=Qw(n),i=Qw(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=_p(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new D(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=O);let s=this.parseChildren();n[i??O]=Object.keys(s).length===1&&s[O]?s[O]:new q([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}};function hD(t){return t.segments.length>0?new q([],{[O]:t}):t}function pD(t){let e={};for(let[r,o]of Object.entries(t.children)){let i=pD(o);if(r===O&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))e[s]=a;else(i.segments.length>0||i.hasChildren())&&(e[r]=i)}let n=new q(t.segments,e);return rx(n)}function rx(t){if(t.numberOfChildren===1&&t.children[O]){let e=t.children[O];return new q(t.segments.concat(e.segments),e.children)}return t}function Fo(t){return t instanceof Bt}function gD(t,e,n=null,r=null){let o=mD(t);return vD(o,e,n,r)}function mD(t){let e;function n(i){let s={};for(let c of i.children){let u=n(c);s[c.outlet]=u}let a=new q(i.url,s);return i===t&&(e=a),a}let r=n(t.root),o=hD(r);return e??o}function vD(t,e,n,r){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return Ep(o,o,o,n,r);let i=ox(e);if(i.toRoot())return Ep(o,o,new q([],{}),n,r);let s=ix(i,o,t),a=s.processChildren?as(s.segmentGroup,s.index,i.commands):_D(s.segmentGroup,s.index,i.commands);return Ep(o,s.segmentGroup,a,n,r)}function Su(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ls(t){return typeof t=="object"&&t!=null&&t.outlets}function Ep(t,e,n,r,o){let i={};r&&Object.entries(r).forEach(([c,u])=>{i[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;t===e?s=n:s=yD(t,e,n);let a=hD(pD(s));return new Bt(a,i,o)}function yD(t,e,n){let r={};return Object.entries(t.children).forEach(([o,i])=>{i===e?r[o]=n:r[o]=yD(i,e,n)}),new q(t.segments,r)}var Tu=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Su(r[0]))throw new D(4003,!1);let o=r.find(ls);if(o&&o!==sD(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ox(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Tu(!0,0,t);let e=0,n=!1,r=t.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Tu(n,e,r)}var ko=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function ix(t,e,n){if(t.isAbsolute)return new ko(e,!0,0);if(!n)return new ko(e,!1,NaN);if(n.parent===null)return new ko(n,!0,0);let r=Su(t.commands[0])?0:1,o=n.segments.length-1+r;return sx(n,o,t.numberOfDoubleDots)}function sx(t,e,n){let r=t,o=e,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new D(4005,!1);o=r.segments.length}return new ko(r,!1,o-i)}function ax(t){return ls(t[0])?t[0].outlets:{[O]:t}}function _D(t,e,n){if(t??=new q([],{}),t.segments.length===0&&t.hasChildren())return as(t,e,n);let r=cx(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let i=new q(t.segments.slice(0,r.pathIndex),{});return i.children[O]=new q(t.segments.slice(r.pathIndex),t.children),as(i,0,o)}else return r.match&&o.length===0?new q(t.segments,{}):r.match&&!t.hasChildren()?Tp(t,e,n):r.match?as(t,0,o):Tp(t,e,n)}function as(t,e,n){if(n.length===0)return new q(t.segments,{});{let r=ax(n),o={};if(Object.keys(r).some(i=>i!==O)&&t.children[O]&&t.numberOfChildren===1&&t.children[O].segments.length===0){let i=as(t.children[O],e,n);return new q(t.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=_D(t.children[i],e,s))}),Object.entries(t.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new q(t.segments,o)}}function cx(t,e,n){let r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=n.length)return i;let s=t.segments[o],a=n[r];if(ls(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!eD(c,u,s))return i;r+=2}else{if(!eD(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function Tp(t,e,n){let r=t.segments.slice(0,e),o=0;for(;o<n.length;){let i=n[o];if(ls(i)){let c=ux(i.outlets);return new q(r,c)}if(o===0&&Su(n[0])){let c=t.segments[e];r.push(new Vn(c.path,Xw(n[0]))),o++;continue}let s=ls(i)?i.outlets[O]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&Su(a)?(r.push(new Vn(s,Xw(a))),o+=2):(r.push(new Vn(s,{})),o++)}return new q(r,{})}function ux(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Tp(new q([],{}),0,r))}),e}function Xw(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function eD(t,e,n){return t==n.path&&Vt(e,n.parameters)}var cs="imperative",we=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(we||{}),st=class{id;url;constructor(e,n){this.id=e,this.url=n}},Sr=class extends st{type=we.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",o=null){super(e,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},un=class extends st{urlAfterRedirects;type=we.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Fe=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Fe||{}),ds=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(ds||{}),Ut=class extends st{reason;code;type=we.NavigationCancel;constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ln=class extends st{reason;code;type=we.NavigationSkipped;constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o}},Lo=class extends st{error;target;type=we.NavigationError;constructor(e,n,r,o){super(e,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fs=class extends st{urlAfterRedirects;state;type=we.RoutesRecognized;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Au=class extends st{urlAfterRedirects;state;type=we.GuardsCheckStart;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ru=class extends st{urlAfterRedirects;state;shouldActivate;type=we.GuardsCheckEnd;constructor(e,n,r,o,i){super(e,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Mu=class extends st{urlAfterRedirects;state;type=we.ResolveStart;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nu=class extends st{urlAfterRedirects;state;type=we.ResolveEnd;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xu=class{route;type=we.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ou=class{route;type=we.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ku=class{snapshot;type=we.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pu=class{snapshot;type=we.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fu=class{snapshot;type=we.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lu=class{snapshot;type=we.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var hs=class{},jo=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function lx(t){return!(t instanceof hs)&&!(t instanceof jo)}function dx(t,e){return t.providers&&!t._injector&&(t._injector=To(t.providers,e,`Route: ${t.path}`)),t._injector??e}function St(t){return t.outlet||O}function fx(t,e){let n=t.filter(r=>St(r)===e);return n.push(...t.filter(r=>St(r)!==e)),n}function Bo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ju=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Bo(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new $o(this.rootInjector)}},$o=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ju(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(F(Ee))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vu=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ap(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ap(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Rp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Rp(e,this._root).map(n=>n.value)}};function Ap(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ap(t,n);if(r)return r}return null}function Rp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Rp(t,n);if(r.length)return r.unshift(e),r}return[]}var it=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Oo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ps=class extends Vu{snapshot;constructor(e,n){super(e),this.snapshot=n,Lp(this,e)}toString(){return this.snapshot.toString()}};function ED(t){let e=hx(t),n=new De([new Vn("",{})]),r=new De({}),o=new De({}),i=new De({}),s=new De(""),a=new Un(n,r,i,s,o,O,t,e.root);return a.snapshot=e.root,new ps(new it(a,[]),e)}function hx(t){let e={},n={},r={},i=new br([],e,r,"",n,O,t,null,{});return new gs("",new it(i,[]))}var Un=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,o,i,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(U(u=>u[_s]))??N(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(U(e=>Cr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(U(e=>Cr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Uu(t,e,n="emptyOnly"){let r,{routeConfig:o}=t;return e!==null&&(n==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:_(_({},e.params),t.params),data:_(_({},e.data),t.data),resolve:_(_(_(_({},t.data),e.data),o?.data),t._resolvedData)}:r={params:_({},t.params),data:_({},t.data),resolve:_(_({},t.data),t._resolvedData??{})},o&&DD(o)&&(r.resolve[_s]=o.title),r}var br=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[_s]}constructor(e,n,r,o,i,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Cr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Cr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},gs=class extends Vu{url;constructor(e,n){super(n),this.url=e,Lp(this,n)}toString(){return wD(this._root)}};function Lp(t,e){e.value._routerState=t,e.children.forEach(n=>Lp(t,n))}function wD(t){let e=t.children.length>0?` { ${t.children.map(wD).join(", ")} } `:"";return`${t.value}${e}`}function wp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Vt(e.params,n.params)||t.paramsSubject.next(n.params),UN(e.url,n.url)||t.urlSubject.next(n.url),Vt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Mp(t,e){let n=Vt(t.params,e.params)&&GN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Mp(t.parent,e.parent))}function DD(t){return typeof t.title=="string"||t.title===null}var bD=new b(""),ws=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=O;activateEvents=new me;deactivateEvents=new me;attachEvents=new me;detachEvents=new me;routerOutletData=ww();parentContexts=v($o);location=v(gr);changeDetector=v(wr);inputBinder=v(Gu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Np(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=rt({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Co]})}return t})(),Np=class{route;childContexts;parent;outletData;constructor(e,n,r,o){this.route=e,this.childContexts=n,this.parent=r,this.outletData=o}get(e,n){return e===Un?this.route:e===$o?this.childContexts:e===bD?this.outletData:this.parent.get(e,n)}},Gu=new b("");var jp=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=mr({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&ot(0,"router-outlet")},dependencies:[ws],encapsulation:2})}return t})();function Vp(t){let e=t.children&&t.children.map(Vp),n=e?j(_({},t),{children:e}):_({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==O&&(n.component=jp),n}function px(t,e,n){let r=ms(t,e._root,n?n._root:void 0);return new ps(r,e)}function ms(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let o=gx(t,e,n);return new it(r,o)}else{if(t.shouldAttach(e.value)){let i=t.retrieve(e.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ms(t,a)),s}}let r=mx(e.value),o=e.children.map(i=>ms(t,i));return new it(r,o)}}function gx(t,e,n){return e.children.map(r=>{for(let o of n.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return ms(t,r,o);return ms(t,r)})}function mx(t){return new Un(new De(t.url),new De(t.params),new De(t.queryParams),new De(t.fragment),new De(t.data),t.outlet,t.component,t)}var Vo=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},CD="ngNavigationCancelingError";function Bu(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Fo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=ID(!1,Fe.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function ID(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[CD]=!0,n.cancellationCode=e,n}function vx(t){return SD(t)&&Fo(t.url)}function SD(t){return!!t&&t[CD]}var yx=(t,e,n,r)=>U(o=>(new xp(e,o.targetRouterState,o.currentRouterState,n,r).activate(t),o)),xp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,o,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),wp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let o=Oo(n);e.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,n,r){let o=e.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=Oo(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=Oo(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let o=Oo(n);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Lu(i.value.snapshot))}),e.children.length&&this.forwardEvent(new Pu(e.value.snapshot))}activateRoutes(e,n,r){let o=e.value,i=n?n.value:null;if(wp(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),wp(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},$u=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Po=class{component;route;constructor(e,n){this.component=e,this.route=n}};function _x(t,e,n){let r=t._root,o=e?e._root:null;return ss(r,o,n,[r.value])}function Ex(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ho(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Cd(t)?t:e.get(t):r}function ss(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Oo(e);return t.children.forEach(s=>{wx(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>us(a,n.getContext(s),o)),o}function wx(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=Dx(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new $u(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?ss(t,e,a?a.children:null,r,o):ss(t,e,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Po(a.outlet.component,s))}else s&&us(e,a,o),o.canActivateChecks.push(new $u(r)),i.component?ss(t,null,a?a.children:null,r,o):ss(t,null,n,r,o);return o}function Dx(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Dr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Dr(t.url,e.url)||!Vt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mp(t,e)||!Vt(t.queryParams,e.queryParams);case"paramsChange":default:return!Mp(t,e)}}function us(t,e,n){let r=Oo(t),o=t.value;Object.entries(r).forEach(([i,s])=>{o.component?e?us(s,e.children.getContext(i),n):us(s,null,n):us(s,e,n)}),o.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Po(e.outlet.component,o)):n.canDeactivateChecks.push(new Po(null,o)):n.canDeactivateChecks.push(new Po(null,o))}function Ds(t){return typeof t=="function"}function bx(t){return typeof t=="boolean"}function Cx(t){return t&&Ds(t.canLoad)}function Ix(t){return t&&Ds(t.canActivate)}function Sx(t){return t&&Ds(t.canActivateChild)}function Tx(t){return t&&Ds(t.canDeactivate)}function Ax(t){return t&&Ds(t.canMatch)}function TD(t){return t instanceof qt||t?.name==="EmptyError"}var Du=Symbol("INITIAL_VALUE");function Uo(){return Be(t=>Pa(t.map(e=>e.pipe(Wt(1),ud(Du)))).pipe(U(e=>{for(let n of e)if(n!==!0){if(n===Du)return Du;if(n===!1||Rx(n))return n}return!0}),at(e=>e!==Du),Wt(1)))}function Rx(t){return Fo(t)||t instanceof Vo}function Mx(t,e){return pe(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?N(j(_({},n),{guardsResult:!0})):Nx(s,r,o,t).pipe(pe(a=>a&&bx(a)?xx(r,i,t,e):N(a)),U(a=>j(_({},n),{guardsResult:a})))})}function Nx(t,e,n,r){return se(t).pipe(pe(o=>Lx(o.component,o.route,n,e,r)),Kt(o=>o!==!0,!0))}function xx(t,e,n,r){return se(e).pipe(oo(o=>ro(kx(o.route.parent,r),Ox(o.route,r),Fx(t,o.path,n),Px(t,o.route,n))),Kt(o=>o!==!0,!0))}function Ox(t,e){return t!==null&&e&&e(new Fu(t)),N(!0)}function kx(t,e){return t!==null&&e&&e(new ku(t)),N(!0)}function Px(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let o=r.map(i=>di(()=>{let s=Bo(e)??n,a=Ho(i,s),c=Ix(a)?a.canActivate(e,t):Se(s,()=>a(e,t));return dn(c).pipe(Kt())}));return N(o).pipe(Uo())}function Fx(t,e,n){let r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>Ex(s)).filter(s=>s!==null).map(s=>di(()=>{let a=s.guards.map(c=>{let u=Bo(s.node)??n,l=Ho(c,u),d=Sx(l)?l.canActivateChild(r,t):Se(u,()=>l(r,t));return dn(d).pipe(Kt())});return N(a).pipe(Uo())}));return N(i).pipe(Uo())}function Lx(t,e,n,r,o){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return N(!0);let s=i.map(a=>{let c=Bo(e)??o,u=Ho(a,c),l=Tx(u)?u.canDeactivate(t,e,n,r):Se(c,()=>u(t,e,n,r));return dn(l).pipe(Kt())});return N(s).pipe(Uo())}function jx(t,e,n,r){let o=e.canLoad;if(o===void 0||o.length===0)return N(!0);let i=o.map(s=>{let a=Ho(s,t),c=Cx(a)?a.canLoad(e,n):Se(t,()=>a(e,n));return dn(c)});return N(i).pipe(Uo(),AD(r))}function AD(t){return Ql(_e(e=>{if(typeof e!="boolean")throw Bu(t,e)}),U(e=>e===!0))}function Vx(t,e,n,r){let o=e.canMatch;if(!o||o.length===0)return N(!0);let i=o.map(s=>{let a=Ho(s,t),c=Ax(a)?a.canMatch(e,n):Se(t,()=>a(e,n));return dn(c)});return N(i).pipe(Uo(),AD(r))}var vs=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ys=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function xo(t){return no(new vs(t))}function Ux(t){return no(new D(4e3,!1))}function Bx(t){return no(ID(!1,Fe.GuardRejected))}var Op=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return N(r);if(o.numberOfChildren>1||!o.children[O])return Ux(`${e.redirectTo}`);o=o.children[O]}}applyRedirectCommands(e,n,r,o,i){return $x(n,o,i).pipe(U(s=>{if(s instanceof Bt)throw new ys(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new ys(a);return a}))}applyRedirectCreateUrlTree(e,n,r,o){let i=this.createSegmentGroup(e,n.root,r,o);return new Bt(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(e,n,r,o){let i=this.createSegments(e,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,o)}),new q(i,s)}createSegments(e,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,n,r){let o=r[n.path.substring(1)];if(!o)throw new D(4001,!1);return o}findOrReturn(e,n){let r=0;for(let o of n){if(o.path===e.path)return n.splice(r),o;r++}return e}};function $x(t,e,n){if(typeof t=="string")return N(t);let r=t,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,params:u,data:l,title:d}=e;return dn(Se(n,()=>r({params:u,data:l,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,title:d})))}var kp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Hx(t,e,n,r,o){let i=RD(t,e,n);return i.matched?(r=dx(e,r),Vx(r,e,n,o).pipe(U(s=>s===!0?i:_({},kp)))):N(i)}function RD(t,e,n){if(e.path==="**")return Gx(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?_({},kp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(e.matcher||oD)(n,t,e);if(!o)return _({},kp);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?_(_({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function Gx(t){return{matched:!0,parameters:t.length>0?sD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function tD(t,e,n,r){return n.length>0&&Wx(t,n,r)?{segmentGroup:new q(e,qx(r,new q(n,t.children))),slicedSegments:[]}:n.length===0&&Kx(t,n,r)?{segmentGroup:new q(t.segments,zx(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new q(t.segments,t.children),slicedSegments:n}}function zx(t,e,n,r){let o={};for(let i of n)if(zu(t,e,i)&&!r[St(i)]){let s=new q([],{});o[St(i)]=s}return _(_({},r),o)}function qx(t,e){let n={};n[O]=e;for(let r of t)if(r.path===""&&St(r)!==O){let o=new q([],{});n[St(r)]=o}return n}function Wx(t,e,n){return n.some(r=>zu(t,e,r)&&St(r)!==O)}function Kx(t,e,n){return n.some(r=>zu(t,e,r))}function zu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Yx(t,e,n){return e.length===0&&!t.children[n]}var Pp=class{};function Zx(t,e,n,r,o,i,s="emptyOnly"){return new Fp(t,e,n,r,o,s,i).recognize()}var Jx=31,Fp=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,o,i,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Op(this.urlSerializer,this.urlTree)}noMatchError(e){return new D(4002,`'${e.segmentGroup}'`)}recognize(){let e=tD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(U(({children:n,rootSnapshot:r})=>{let o=new it(r,n),i=new gs("",o),s=gD(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(e){let n=new br([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),O,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,O,n).pipe(U(r=>({children:r,rootSnapshot:n})),vn(r=>{if(r instanceof ys)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof vs?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,i):this.processSegment(e,n,r,r.segments,o,!0,i).pipe(U(s=>s instanceof it?[s]:[]))}processChildren(e,n,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return se(i).pipe(oo(s=>{let a=r.children[s],c=fx(n,s);return this.processSegmentGroup(e,c,a,s,o)}),cd((s,a)=>(s.push(...a),s)),yn(null),ad(),pe(s=>{if(s===null)return xo(r);let a=MD(s);return Qx(a),N(a)}))}processSegment(e,n,r,o,i,s,a){return se(n).pipe(oo(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,o,i,s,a).pipe(vn(u=>{if(u instanceof vs)return N(null);throw u}))),Kt(c=>!!c),vn(c=>{if(TD(c))return Yx(r,o,i)?N(new Pp):xo(r);throw c}))}processSegmentAgainstRoute(e,n,r,o,i,s,a,c){return St(r)!==s&&(s===O||!zu(o,i,r))?xo(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,o,n,r,i,s,c):xo(o)}expandSegmentAgainstRouteUsingRedirect(e,n,r,o,i,s,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:d,remainingSegments:h}=RD(n,o,i);if(!c)return xo(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Jx&&(this.allowRedirects=!1));let f=new br(i,u,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,nD(o),St(o),o.component??o._loadedComponent??null,o,rD(o)),p=Uu(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(p.params),f.data=Object.freeze(p.data),this.applyRedirects.applyRedirectCommands(l,o.redirectTo,d,f,e).pipe(Be(m=>this.applyRedirects.lineralizeSegments(o,m)),pe(m=>this.processSegment(e,r,n,m.concat(h),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,o,i,s){let a=Hx(n,r,o,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Be(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,o).pipe(Be(({routes:u})=>{let l=r._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:f}=c,p=new br(h,d,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,nD(r),St(r),r.component??r._loadedComponent??null,r,rD(r)),g=Uu(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let{segmentGroup:m,slicedSegments:y}=tD(n,h,f,u);if(y.length===0&&m.hasChildren())return this.processChildren(l,u,m,p).pipe(U(C=>new it(p,C)));if(u.length===0&&y.length===0)return N(new it(p,[]));let M=St(r)===i;return this.processSegment(l,u,m,y,M?O:i,!0,p).pipe(U(C=>new it(p,C instanceof it?[C]:[])))}))):xo(n)))}getChildConfig(e,n,r){return n.children?N({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?N({routes:n._loadedRoutes,injector:n._loadedInjector}):jx(e,n,r,this.urlSerializer).pipe(pe(o=>o?this.configLoader.loadChildren(e,n).pipe(_e(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):Bx(n))):N({routes:[],injector:e})}};function Qx(t){t.sort((e,n)=>e.value.outlet===O?-1:n.value.outlet===O?1:e.value.outlet.localeCompare(n.value.outlet))}function Xx(t){let e=t.value.routeConfig;return e&&e.path===""}function MD(t){let e=[],n=new Set;for(let r of t){if(!Xx(r)){e.push(r);continue}let o=e.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):e.push(r)}for(let r of n){let o=MD(r.children);e.push(new it(r.value,o))}return e.filter(r=>!n.has(r))}function nD(t){return t.data||{}}function rD(t){return t.resolve||{}}function eO(t,e,n,r,o,i){return pe(s=>Zx(t,e,n,r,s.extractedUrl,o,i).pipe(U(({state:a,tree:c})=>j(_({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function tO(t,e){return pe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return N(n);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let u of ND(c))s.add(u);let a=0;return se(s).pipe(oo(c=>i.has(c)?nO(c,r,t,e):(c.data=Uu(c,c.parent,t).resolve,N(void 0))),_e(()=>a++),io(1),pe(c=>a===s.size?N(n):Ve))})}function ND(t){let e=t.children.map(n=>ND(n)).flat();return[t,...e]}function nO(t,e,n,r){let o=t.routeConfig,i=t._resolve;return o?.title!==void 0&&!DD(o)&&(i[_s]=o.title),di(()=>(t.data=Uu(t,t.parent,n).resolve,rO(i,t,e,r).pipe(U(s=>(t._resolvedData=s,t.data=_(_({},t.data),s),null)))))}function rO(t,e,n,r){let o=Cp(t);if(o.length===0)return N({});let i={};return se(o).pipe(pe(s=>oO(t[s],e,n,r).pipe(Kt(),_e(a=>{if(a instanceof Vo)throw Bu(new Ir,a);i[s]=a}))),io(1),U(()=>i),vn(s=>TD(s)?Ve:no(s)))}function oO(t,e,n,r){let o=Bo(e)??r,i=Ho(t,o),s=i.resolve?i.resolve(e,n):Se(o,()=>i(e,n));return dn(s)}function Dp(t){return Be(e=>{let n=t(e);return n?se(n).pipe(U(()=>e)):N(e)})}var Up=(()=>{class t{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===O);return r}getResolvedTitleForRoute(n){return n.data[_s]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>v(xD),providedIn:"root"})}return t})(),xD=(()=>{class t extends Up{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(F(Kw))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bs=new b("",{providedIn:"root",factory:()=>({})}),Cs=new b(""),OD=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=v(kh);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return N(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=dn(Se(n,()=>r.loadComponent())).pipe(U(PD),Be(FD),_e(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),fi(()=>{this.componentLoaders.delete(r)})),i=new to(o,()=>new he).pipe(eo());return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return N({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=kD(r,this.compiler,n,this.onLoadEndListener).pipe(fi(()=>{this.childrenLoaders.delete(r)})),s=new to(i,()=>new he).pipe(eo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kD(t,e,n,r){return dn(Se(n,()=>t.loadChildren())).pipe(U(PD),Be(FD),pe(o=>o instanceof Wc||Array.isArray(o)?N(o):se(e.compileModuleAsync(o))),U(o=>{r&&r(t);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(n).injector,s=i.get(Cs,[],{optional:!0,self:!0}).flat()),{routes:s.map(Vp),injector:i}}))}function iO(t){return t&&typeof t=="object"&&"default"in t}function PD(t){return iO(t)?t.default:t}function FD(t){return N(t)}var qu=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>v(sO),providedIn:"root"})}return t})(),sO=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),LD=new b("");var jD=new b(""),VD=(()=>{class t{currentNavigation=ht(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new he;transitionAbortWithErrorSubject=new he;configLoader=v(OD);environmentInjector=v(Ee);destroyRef=v(Ot);urlSerializer=v(Es);rootContexts=v($o);location=v(Mo);inputBindingEnabled=v(Gu,{optional:!0})!==null;titleStrategy=v(Up);options=v(bs,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=v(qu);createViewTransition=v(LD,{optional:!0});navigationErrorHandler=v(jD,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>N(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new xu(o)),r=o=>this.events.next(new Ou(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;Ae(()=>{this.transitions?.next(j(_({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new De(null),this.transitions.pipe(at(r=>r!==null),Be(r=>{let o=!1;return N(r).pipe(Be(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Fe.SupersededByNewNavigation),Ve;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?j(_({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=i.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new ln(i.id,this.urlSerializer.serialize(i.rawUrl),"",ds.IgnoredSameUrlNavigation)),i.resolve(!1),Ve;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return N(i).pipe(Be(c=>(this.events.next(new Sr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Ve:Promise.resolve(c))),eO(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),_e(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(l=>(l.finalUrl=c.urlAfterRedirects,l));let u=new fs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:c,extractedUrl:u,source:l,restoredState:d,extras:h}=i,f=new Sr(c,this.urlSerializer.serialize(u),l,d);this.events.next(f);let p=ED(this.rootComponentType).snapshot;return this.currentTransition=r=j(_({},i),{targetSnapshot:p,urlAfterRedirects:u,extras:j(_({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(g=>(g.finalUrl=u,g)),N(r)}else return this.events.next(new ln(i.id,this.urlSerializer.serialize(i.extractedUrl),"",ds.IgnoredByUrlHandlingStrategy)),i.resolve(!1),Ve}),_e(i=>{let s=new Au(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}),U(i=>(this.currentTransition=r=j(_({},i),{guards:_x(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),r)),Mx(this.environmentInjector,i=>this.events.next(i)),_e(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw Bu(this.urlSerializer,i.guardsResult);let s=new Ru(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(s)}),at(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",Fe.GuardRejected),!1)),Dp(i=>{if(i.guards.canActivateChecks.length!==0)return N(i).pipe(_e(s=>{let a=new Mu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Be(s=>{let a=!1;return N(s).pipe(tO(this.paramsInheritanceStrategy,this.environmentInjector),_e({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Fe.NoDataFromResolver)}}))}),_e(s=>{let a=new Nu(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Dp(i=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let u=Bo(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(_e(l=>{a.component=l}),U(()=>{})))}for(let u of a.children)c.push(...s(u));return c};return Pa(s(i.targetSnapshot.root)).pipe(yn(null),Wt(1))}),Dp(()=>this.afterPreactivation()),Be(()=>{let{currentSnapshot:i,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,i.root,s.root);return a?se(a).pipe(U(()=>r)):N(r)}),U(i=>{let s=px(n.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r=j(_({},i),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),_e(()=>{this.events.next(new hs)}),yx(this.rootContexts,n.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),Wt(1),La(new $(i=>{let s=r.abortController.signal,a=()=>i.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(at(()=>!o&&!r.targetRouterState),_e(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Fe.Aborted)}))),_e({next:i=>{o=!0,this.lastSuccessfulNavigation=Ae(this.currentNavigation),this.events.next(new un(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),La(this.transitionAbortWithErrorSubject.pipe(_e(i=>{throw i}))),fi(()=>{o||this.cancelNavigationTransition(r,"",Fe.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),vn(i=>{if(this.destroyed)return r.resolve(!1),Ve;if(o=!0,SD(i))this.events.next(new Ut(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),vx(i)?this.events.next(new jo(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Lo(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{let a=Se(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Vo){let{message:c,cancellationCode:u}=Bu(this.urlSerializer,a);this.events.next(new Ut(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new jo(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),i}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Ve}))}))}cancelNavigationTransition(n,r,o){let i=new Ut(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Ae(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function aO(t){return t!==cs}var UD=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>v(cO),providedIn:"root"})}return t})(),Hu=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},cO=(()=>{class t extends Hu{static \u0275fac=(()=>{let n;return function(o){return(n||(n=fr(t)))(o||t)}})();static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),BD=(()=>{class t{urlSerializer=v(Es);options=v(bs,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=v(Mo);urlHandlingStrategy=v(qu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Bt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof Bt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=ED(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>v(uO),providedIn:"root"})}return t})(),uO=(()=>{class t extends BD{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Sr?this.updateStateMemento():n instanceof ln?this.commitTransition(r):n instanceof fs?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof hs?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ut&&n.code!==Fe.SupersededByNewNavigation&&n.code!==Fe.Redirect?this.restoreHistory(r):n instanceof Lo?this.restoreHistory(r,!0):n instanceof un&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,c=_(_({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",c)}else{let a=_(_({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=fr(t)))(o||t)}})();static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Bp(t,e){t.events.pipe(at(n=>n instanceof un||n instanceof Ut||n instanceof Lo||n instanceof ln),U(n=>n instanceof un||n instanceof ln?0:(n instanceof Ut?n.code===Fe.Redirect||n.code===Fe.SupersededByNewNavigation:!1)?2:1),at(n=>n!==2),Wt(1)).subscribe(()=>{e()})}var lO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wu=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=v(Kc);stateManager=v(BD);options=v(bs,{optional:!0})||{};pendingTasks=v(bt);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=v(VD);urlSerializer=v(Es);location=v(Mo);urlHandlingStrategy=v(qu);injector=v(Ee);_events=new he;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=v(UD);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=v(Cs,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!v(Gu,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ue;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=Ae(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Ut&&r.code!==Fe.Redirect&&r.code!==Fe.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof un)this.navigated=!0;else if(r instanceof jo){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=_({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||aO(o.source)},s);this.scheduleNavigation(a,cs,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}lx(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),cs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=_({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i).catch(c=>{this.disposed||this.injector.get(Ge)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Ae(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Vp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=_(_({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let h=o?o.snapshot:this.routerState.snapshot.root;d=mD(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return vD(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=Fo(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,cs,null,r)}navigate(n,r={skipLocationChange:!1}){return fO(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Jt(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=_({},lO):r===!1?o=_({},dO):o=r,Fo(n))return Jw(this.currentUrlTree,n,o);let i=this.parseUrl(n);return Jw(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});let l=this.pendingTasks.add();return Bp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function fO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new D(4008,!1)}var pO=new b("");function $p(t,...e){return Et([{provide:Cs,multi:!0,useValue:t},[],{provide:Un,useFactory:gO,deps:[Wu]},{provide:xn,multi:!0,useFactory:mO},e.map(n=>n.\u0275providers)])}function gO(t){return t.routerState.root}function mO(){let t=v($e);return e=>{let n=t.get(Pe);if(e!==n.components[0])return;let r=t.get(Wu),o=t.get(vO);t.get(yO)===1&&r.initialNavigation(),t.get(_O,null,{optional:!0})?.setUpPreloading(),t.get(pO,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var vO=new b("",{factory:()=>new he}),yO=new b("",{providedIn:"root",factory:()=>1});var _O=new b("");var YD=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(Z(Gi),Z(Io))};static \u0275dir=rt({type:t})}return t})(),ZD=(()=>{class t extends YD{static \u0275fac=(()=>{let n;return function(o){return(n||(n=fr(t)))(o||t)}})();static \u0275dir=rt({type:t,features:[Rn]})}return t})(),Kp=new b(""),wO={provide:Kp,useExisting:Dn(()=>Yp),multi:!0},Yp=(()=>{class t extends ZD{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(o){return(n||(n=fr(t)))(o||t)}})();static \u0275dir=rt({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,o){r&1&&yr("change",function(s){return o.onChange(s.target.checked)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Ki([wO]),Rn]})}return t})(),DO={provide:Kp,useExisting:Dn(()=>JD),multi:!0};function bO(){let t=gt()?gt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var CO=new b(""),JD=(()=>{class t extends YD{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!bO())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(Z(Gi),Z(Io),Z(CO,8))};static \u0275dir=rt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&yr("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[Ki([DO]),Rn]})}return t})();var IO=new b(""),SO=new b("");function QD(t){return t!=null}function XD(t){return Nn(t)?se(t):t}function eb(t){let e={};return t.forEach(n=>{e=n!=null?_(_({},e),n):e}),Object.keys(e).length===0?null:e}function tb(t,e){return e.map(n=>n(t))}function TO(t){return!t.validate}function nb(t){return t.map(e=>TO(e)?e:n=>e.validate(n))}function AO(t){if(!t)return null;let e=t.filter(QD);return e.length==0?null:function(n){return eb(tb(n,e))}}function rb(t){return t!=null?AO(nb(t)):null}function RO(t){if(!t)return null;let e=t.filter(QD);return e.length==0?null:function(n){let r=tb(n,e).map(XD);return sd(r).pipe(U(eb))}}function ob(t){return t!=null?RO(nb(t)):null}function $D(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function MO(t){return t._rawValidators}function NO(t){return t._rawAsyncValidators}function Hp(t){return t?Array.isArray(t)?t:[t]:[]}function Yu(t,e){return Array.isArray(t)?t.includes(e):t===e}function HD(t,e){let n=Hp(e);return Hp(t).forEach(o=>{Yu(n,o)||n.push(o)}),n}function GD(t,e){return Hp(e).filter(n=>!Yu(t,n))}var Zu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=rb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ob(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Gp=class extends Zu{name;get formDirective(){return null}get path(){return null}},Rs=class extends Zu{_parent=null;name=null;valueAccessor=null},zp=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},xO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},sW=j(_({},xO),{"[class.ng-submitted]":"isSubmitted"}),ib=(()=>{class t extends zp{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Z(Rs,2))};static \u0275dir=rt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Jc("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Rn]})}return t})();var Is="VALID",Ku="INVALID",Go="PENDING",Ss="DISABLED",Tr=class{},Ju=class extends Tr{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Ts=class extends Tr{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},As=class extends Tr{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},zo=class extends Tr{status;source;constructor(e,n){super(),this.status=e,this.source=n}};var qp=class extends Tr{source;constructor(e){super(),this.source=e}};function OO(t){return(Qu(t)?t.validators:t)||null}function kO(t){return Array.isArray(t)?rb(t):t||null}function PO(t,e){return(Qu(e)?e.asyncValidators:t)||null}function FO(t){return Array.isArray(t)?ob(t):t||null}function Qu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Wp=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ae(this.statusReactive)}set status(e){Ae(()=>this.statusReactive.set(e))}_status=Ro(()=>this.statusReactive());statusReactive=ht(void 0);get valid(){return this.status===Is}get invalid(){return this.status===Ku}get pending(){return this.status==Go}get disabled(){return this.status===Ss}get enabled(){return this.status!==Ss}errors;get pristine(){return Ae(this.pristineReactive)}set pristine(e){Ae(()=>this.pristineReactive.set(e))}_pristine=Ro(()=>this.pristineReactive());pristineReactive=ht(!0);get dirty(){return!this.pristine}get touched(){return Ae(this.touchedReactive)}set touched(e){Ae(()=>this.touchedReactive.set(e))}_touched=Ro(()=>this.touchedReactive());touchedReactive=ht(!1);get untouched(){return!this.touched}_events=new he;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(HD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(HD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(GD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(GD(e,this._rawAsyncValidators))}hasValidator(e){return Yu(this._rawValidators,e)}hasAsyncValidator(e){return Yu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(j(_({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new As(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new As(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(j(_({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ts(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ts(!0,r))}markAsPending(e={}){this.status=Go;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new zo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(j(_({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ss,this.errors=null,this._forEachChild(o=>{o.disable(j(_({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ju(this.value,r)),this._events.next(new zo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(j(_({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Is,this._forEachChild(r=>{r.enable(j(_({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(j(_({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Is||this.status===Go)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ju(this.value,n)),this._events.next(new zo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(j(_({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ss:Is}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Go,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=XD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new zo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new me,this.statusChanges=new me}_calculateStatus(){return this._allControlsDisabled()?Ss:this.errors?Ku:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Go)?Go:this._anyControlsHaveStatus(Ku)?Ku:Is}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),o&&this._events.next(new Ts(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new As(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Qu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=kO(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=FO(this._rawAsyncValidators)}};var sb=new b("",{providedIn:"root",factory:()=>Zp}),Zp="always";function LO(t,e){return[...e.path,t]}function jO(t,e,n=Zp){UO(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),BO(t,e),HO(t,e),$O(t,e),VO(t,e)}function zD(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function VO(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function UO(t,e){let n=MO(t);e.validator!==null?t.setValidators($D(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=NO(t);e.asyncValidator!==null?t.setAsyncValidators($D(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let o=()=>t.updateValueAndValidity();zD(e._rawValidators,o),zD(e._rawAsyncValidators,o)}function BO(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&ab(t,e)})}function $O(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&ab(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function ab(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function HO(t,e){let n=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function GO(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function zO(t){return Object.getPrototypeOf(t.constructor)===ZD}function qO(t,e){if(!e)return null;Array.isArray(e);let n,r,o;return e.forEach(i=>{i.constructor===JD?n=i:zO(i)?r=i:o=i}),o||r||n||null}function qD(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function WD(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var WO=class extends Wp{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(OO(n),PO(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(WD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new qp(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){qD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){qD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){WD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var KO={provide:Rs,useExisting:Dn(()=>Jp)},KD=Promise.resolve(),Jp=(()=>{class t extends Rs{_changeDetectorRef;callSetDisabledState;control=new WO;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new me;constructor(n,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=qO(this,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),GO(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){jO(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){KD.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&Qh(r);KD.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?LO(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(Z(Gp,9),Z(IO,10),Z(SO,10),Z(Kp,10),Z(wr,8),Z(sb,8))};static \u0275dir=rt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ki([KO]),Rn,Co]})}return t})();var YO=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=An({type:t});static \u0275inj=Qt({})}return t})();var cb=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:sb,useValue:n.callSetDisabledState??Zp}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=An({type:t});static \u0275inj=Qt({imports:[YO]})}return t})();ne();var ub=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);var Ms=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},Xu=class extends Ms{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},Ns=class extends Ms{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},xs=class extends Ms{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},Qp=(function(t){return t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2",t})(Qp||{});var Os=class{constructor(e,{headers:n={},customFetch:r,region:o=Qp.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=ub(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return E(this,arguments,void 0,function*(n,r={}){var o;let i,s;try{let{headers:a,method:c,body:u,signal:l,timeout:d}=r,h={},{region:f}=r;f||(f=this.region);let p=new URL(`${this.url}/${n}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let g;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)):g=u;let m=l;d&&(s=new AbortController,i=setTimeout(()=>s.abort(),d),l?(m=s.signal,l.addEventListener("abort",()=>s.abort())):m=s.signal);let y=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:g,signal:m}).catch(B=>{throw new Xu(B)}),M=y.headers.get("x-relay-error");if(M&&M==="true")throw new Ns(y);if(!y.ok)throw new xs(y);let C=((o=y.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),w;return C==="application/json"?w=yield y.json():C==="application/octet-stream"||C==="application/pdf"?w=yield y.blob():C==="text/event-stream"?w=y:C==="multipart/form-data"?w=yield y.formData():w=yield y.text(),{data:w,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof xs||a instanceof Ns?a.context:void 0}}finally{i&&clearTimeout(i)}})}};var gg=LC(yb(),1),{PostgrestClient:_b,PostgrestQueryBuilder:CW,PostgrestFilterBuilder:IW,PostgrestTransformBuilder:SW,PostgrestBuilder:TW,PostgrestError:ak}=gg.default||gg;var mg=class{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let n=process.versions;if(n&&n.node){let r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){let r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}},vg=mg;var Eb="2.81.1";var wb=`realtime-js/${Eb}`,yg="1.0.0",Db="2.0.0",_g=yg;var Ps=1e4,bb=1e3,Cb=100,Ar=(function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t})(Ar||{}),ve=(function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t})(ve||{}),qe=(function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t})(qe||{}),Eg=(function(t){return t.websocket="websocket",t})(Eg||{}),Rr=(function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t})(Rr||{});var tl=class{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodePush(e){let{join_ref:n,ref:r,event:o,topic:i,payload:s}=e,a=this.META_LENGTH+n.length+r.length+i.length+o.length,c=new ArrayBuffer(this.HEADER_LENGTH+a),u=new DataView(c),l=0;u.setUint8(l++,this.KINDS.push),u.setUint8(l++,n.length),u.setUint8(l++,r.length),u.setUint8(l++,i.length),u.setUint8(l++,o.length),Array.from(n,h=>u.setUint8(l++,h.charCodeAt(0))),Array.from(r,h=>u.setUint8(l++,h.charCodeAt(0))),Array.from(i,h=>u.setUint8(l++,h.charCodeAt(0))),Array.from(o,h=>u.setUint8(l++,h.charCodeAt(0)));var d=new Uint8Array(c.byteLength+s.byteLength);return d.set(new Uint8Array(c),0),d.set(new Uint8Array(s),c.byteLength),d.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;let{join_ref:o,ref:i,topic:s}=e,a=e.payload.event,c=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0),u=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+i.length+s.length+a.length,l=new ArrayBuffer(this.HEADER_LENGTH+u),d=new DataView(l),h=0;d.setUint8(h++,this.KINDS.userBroadcastPush),d.setUint8(h++,o.length),d.setUint8(h++,i.length),d.setUint8(h++,s.length),d.setUint8(h++,a.length),d.setUint8(h++,this.BINARY_ENCODING),Array.from(o,p=>d.setUint8(h++,p.charCodeAt(0))),Array.from(i,p=>d.setUint8(h++,p.charCodeAt(0))),Array.from(s,p=>d.setUint8(h++,p.charCodeAt(0))),Array.from(a,p=>d.setUint8(h++,p.charCodeAt(0)));var f=new Uint8Array(l.byteLength+c.byteLength);return f.set(new Uint8Array(l),0),f.set(new Uint8Array(c),l.byteLength),f.buffer}_encodeJsonUserBroadcastPush(e){var n,r;let{join_ref:o,ref:i,topic:s}=e,a=e.payload.event,c=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(c)).buffer,d=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+i.length+s.length+a.length,h=new ArrayBuffer(this.HEADER_LENGTH+d),f=new DataView(h),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,o.length),f.setUint8(p++,i.length),f.setUint8(p++,s.length),f.setUint8(p++,a.length),f.setUint8(p++,this.JSON_ENCODING),Array.from(o,m=>f.setUint8(p++,m.charCodeAt(0))),Array.from(i,m=>f.setUint8(p++,m.charCodeAt(0))),Array.from(s,m=>f.setUint8(p++,m.charCodeAt(0))),Array.from(a,m=>f.setUint8(p++,m.charCodeAt(0)));var g=new Uint8Array(h.byteLength+l.byteLength);return g.set(new Uint8Array(h),0),g.set(new Uint8Array(l),h.byteLength),g.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){let r=JSON.parse(e),[o,i,s,a,c]=r;return n({join_ref:o,ref:i,topic:s,event:a,payload:c})}return n({})}_binaryDecode(e){let n=new DataView(e),r=n.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.push:return this._decodePush(e,n,o);case this.KINDS.reply:return this._decodeReply(e,n,o);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,o);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,o)}}_decodePush(e,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=n.getUint8(3),a=this.HEADER_LENGTH+this.META_LENGTH-1,c=r.decode(e.slice(a,a+o));a=a+o;let u=r.decode(e.slice(a,a+i));a=a+i;let l=r.decode(e.slice(a,a+s));a=a+s;let d=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{join_ref:c,ref:null,topic:u,event:l,payload:d}}_decodeReply(e,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4),c=this.HEADER_LENGTH+this.META_LENGTH,u=r.decode(e.slice(c,c+o));c=c+o;let l=r.decode(e.slice(c,c+i));c=c+i;let d=r.decode(e.slice(c,c+s));c=c+s;let h=r.decode(e.slice(c,c+a));c=c+a;let f=JSON.parse(r.decode(e.slice(c,e.byteLength))),p={status:h,response:f};return{join_ref:u,ref:l,topic:d,event:qe.reply,payload:p}}_decodeBroadcast(e,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(e.slice(s,s+o));s=s+o;let c=r.decode(e.slice(s,s+i));s=s+i;let u=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{join_ref:null,ref:null,topic:a,event:c,payload:u}}_decodeUserBroadcast(e,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=n.getUint8(3),a=n.getUint8(4),c=this.HEADER_LENGTH+4,u=r.decode(e.slice(c,c+o));c=c+o;let l=r.decode(e.slice(c,c+i));c=c+i;let d=r.decode(e.slice(c,c+s));c=c+s;let h=e.slice(c,e.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,p={type:this.BROADCAST,event:l,payload:f};return s>0&&(p.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:p}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}};var Wo=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ee=(function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t})(ee||{}),Dg=(t,e,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((i,s)=>(i[s]=ck(s,t,e,o),i),{}):{}},ck=(t,e,n,r)=>{let o=e.find(a=>a.name===t),i=o?.type,s=n[t];return i&&!r.includes(i)?Ib(i,s):wg(s)},Ib=(t,e)=>{if(t.charAt(0)==="_"){let n=t.slice(1,t.length);return fk(e,n)}switch(t){case ee.bool:return uk(e);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return lk(e);case ee.json:case ee.jsonb:return dk(e);case ee.timestamp:return hk(e);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return wg(e);default:return wg(e)}},wg=t=>t,uk=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},lk=t=>{if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},dk=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},fk=(t,e)=>{if(typeof t!="string")return t;let n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i,s=t.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>Ib(e,a))}return t},hk=t=>typeof t=="string"?t.replace(" ","T"):t,nl=t=>{let e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};var Ko=class{constructor(e,n,r={},o=Ps){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var Fs=class t{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=t.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=t.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){let i=this.cloneDeep(e),s=this.transformState(n),a={},c={};return this.map(i,(u,l)=>{s[u]||(c[u]=l)}),this.map(s,(u,l)=>{let d=i[u];if(d){let h=l.map(m=>m.presence_ref),f=d.map(m=>m.presence_ref),p=l.filter(m=>f.indexOf(m.presence_ref)<0),g=d.filter(m=>h.indexOf(m.presence_ref)<0);p.length>0&&(a[u]=p),g.length>0&&(c[u]=g)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(e,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var u;let l=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(c),l.length>0){let d=e[a].map(f=>f.presence_ref),h=l.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,l,c)}),this.map(s,(a,c)=>{let u=e[a];if(!u)return;let l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),e[a]=u,o(a,u,c),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{let o=e[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Ls=(function(t){return t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system",t})(Ls||{}),fn=(function(t){return t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR",t})(fn||{});var js=class t{constructor(e,n={config:{}},r){var o,i;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ko(this,qe.join,this.params,this.timeout),this.rejoinTimer=new Wo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ve.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qe.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Fs(this),this.broadcastEndpointURL=nl(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ve.closed){let{config:{broadcast:s,presence:a,private:c}}=this.params,u=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&o!==void 0?o:[],l=!!this.bindings[Ls.PRESENCE]&&this.bindings[Ls.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(fn.CHANNEL_ERROR,f)),this._onClose(()=>e?.(fn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){e?.(fn.SUBSCRIBED);return}else{let g=this.bindings.postgres_changes,m=(p=g?.length)!==null&&p!==void 0?p:0,y=[];for(let M=0;M<m;M++){let C=g[M],{filter:{event:w,schema:B,table:Tt,filter:X}}=C,te=f&&f[M];if(te&&te.event===w&&te.schema===B&&te.table===Tt&&te.filter===X)y.push(Object.assign(Object.assign({},C),{id:te.id}));else{this.unsubscribe(),this.state=ve.errored,e?.(fn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(fn.SUBSCRIBED);return}}).receive("error",f=>{this.state=ve.errored,e?.(fn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(fn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ve.joined&&e===Ls.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var o;let i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");let s={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{let u=await a.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:i,payload:s}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{let u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,a,c;let u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ve.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qe.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Ko(this,qe.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ve.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Ko(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Cb){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,i;let s=e.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=qe;if(r&&[a,c,u,l].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var p,g,m;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((m=(g=f.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var p,g,m,y,M,C;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let w=f.id,B=(p=f.filter)===null||p===void 0?void 0:p.event;return w&&((g=n.ids)===null||g===void 0?void 0:g.includes(w))&&(B==="*"||B?.toLocaleLowerCase()===((m=n.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{let w=(M=(y=f?.filter)===null||y===void 0?void 0:y.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return w==="*"||w===((C=n?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let p=h.data,{schema:g,table:m,commit_timestamp:y,type:M,errors:C}=p;h=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:y,eventType:M,new:{},old:{},errors:C}),this._getPayloadRecords(p))}f.callback(h,r)})}_isClosed(){return this.state===ve.closed}_isJoined(){return this.state===ve.joined}_isJoining(){return this.state===ve.joining}_isLeaving(){return this.state===ve.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){let o=e.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(e,n){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&t.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(let r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qe.close,{},e)}_onError(e){this._on(qe.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ve.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Dg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Dg(e.columns,e.old_record)),n}};var bg=()=>{},rl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gk=[1e3,2e3,5e3,1e4],mk=1e4,vk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Vs=class{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ps,this.transport=null,this.heartbeatIntervalMs=rl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bg,this.ref=0,this.reconnectTimer=null,this.vsn=_g,this.logger=bg,this.conn=null,this.sendBuffer=[],this.serializer=new tl,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...i)=>o(...i):(...i)=>fetch(...i),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Eg.websocket}`,this.httpEndpoint=nl(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");let n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){let n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){let e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ar.connecting:return Rr.Connecting;case Ar.open:return Rr.Open;case Ar.closing:return Rr.Closing;default:return Rr.Closed}}isConnected(){return this.connectionState()===Rr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){let r=`realtime:${e}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new js(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){let{topic:n,event:r,payload:o,ref:i}=e,s=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(bb,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},rl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:s}=n,a=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(o,i,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ar.open||this.conn.readyState===Ar.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(qe.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;let r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{let r=new Blob([vk],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{let o={access_token:n,version:wb};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(qe.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Wo(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},rl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,i,s,a,c,u,l,d,h,f;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Ps,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:rl.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:bg,this.vsn=(c=e?.vsn)!==null&&c!==void 0?c:_g,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e?.reconnectAfterMs)!==null&&u!==void 0?u:p=>gk[p-1]||mk,this.vsn){case yg:this.encode=(l=e?.encode)!==null&&l!==void 0?l:(p,g)=>g(JSON.stringify(p)),this.decode=(d=e?.decode)!==null&&d!==void 0?d:(p,g)=>g(JSON.parse(p));break;case Db:this.encode=(h=e?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=e?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};ne();var Yo=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function J(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var ol=class extends Yo{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Mr=class extends Yo{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}};ne();var Zo=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Sb=()=>Response,il=t=>{if(Array.isArray(t))return t.map(n=>il(n));if(typeof t=="function"||t!==Object(t))return t;let e={};return Object.entries(t).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[o]=il(r)}),e},Tb=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Cg=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},yk=(t,e,n)=>E(void 0,void 0,void 0,function*(){let r=yield Sb();t instanceof r&&!n?.noResolveJson?t.json().then(o=>{let i=t.status||500,s=o?.statusCode||i+"";e(new ol(Cg(o),i,s))}).catch(o=>{e(new Mr(Cg(o),o))}):e(new Mr(Cg(t),t))}),_k=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"||!r?o:(Tb(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function Us(t,e,n,r,o,i){return E(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,_k(e,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>yk(c,a,r))})})}function Bn(t,e,n,r){return E(this,void 0,void 0,function*(){return Us(t,"GET",e,n,r)})}function We(t,e,n,r,o){return E(this,void 0,void 0,function*(){return Us(t,"POST",e,r,o,n)})}function Bs(t,e,n,r,o){return E(this,void 0,void 0,function*(){return Us(t,"PUT",e,r,o,n)})}function Ab(t,e,n,r){return E(this,void 0,void 0,function*(){return Us(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Jo(t,e,n,r,o){return E(this,void 0,void 0,function*(){return Us(t,"DELETE",e,r,o,n)})}ne();ne();var sl=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return E(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(J(e))return{data:null,error:e};throw e}})}};var Rb,Ig=class{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Rb]="BlobDownloadBuilder",this.promise=null}asStream(){return new sl(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return E(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(J(e))return{data:null,error:e};throw e}})}};Rb=Symbol.toStringTag;var Mb=Ig;var Ek={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},al=class{constructor(e,n={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Zo(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,o){return E(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},Nb),o),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let u=this._removeEmptyFolders(n),l=this._getFinalPath(u),d=yield(e=="PUT"?Bs:We)(this.fetch,`${this.url}/object/${l}`,i,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(J(i))return{data:null,error:i};throw i}})}upload(e,n,r){return E(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return E(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,u=Object.assign({upsert:Nb.upsert},o),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);let d=yield Bs(this.fetch,a.toString(),c,{headers:l});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(J(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return E(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");let i=yield We(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new Yo("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}update(e,n,r){return E(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return E(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(J(o))return{data:null,error:o};throw o}})}copy(e,n,r){return E(this,void 0,void 0,function*(){try{return{data:{path:(yield We(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(J(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,r){return E(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),i=yield We(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(J(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return E(this,void 0,void 0,function*(){try{let o=yield We(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(J(o))return{data:null,error:o};throw o}})}download(e,n){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),s=i?`?${i}`:"",a=this._getFinalPath(e),c=()=>Bn(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new Mb(c,this.shouldThrowOnError)}info(e){return E(this,void 0,void 0,function*(){let n=this._getFinalPath(e);try{let r=yield Bn(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:il(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}exists(e){return E(this,void 0,void 0,function*(){let n=this._getFinalPath(e);try{return yield Ab(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r)&&r instanceof Mr){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){let r=this._getFinalPath(e),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&o.push(c);let u=o.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return E(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}list(e,n,r){return E(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},Ek),n),{prefix:e||""});return{data:yield We(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(J(o))return{data:null,error:o};throw o}})}listV2(e,n){return E(this,void 0,void 0,function*(){try{let r=Object.assign({},e);return{data:yield We(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}};ne();var cl="2.81.1";var ul={"X-Client-Info":`storage-js/${cl}`};var ll=class{constructor(e,n={},r,o){this.shouldThrowOnError=!1;let i=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ul),n),this.fetch=Zo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return E(this,void 0,void 0,function*(){try{let n=this.listBucketOptionsToQueryString(e);return{data:yield Bn(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}getBucket(e){return E(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}createBucket(e){return E(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield We(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(J(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return E(this,void 0,void 0,function*(){try{return{data:yield Bs(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(J(r))return{data:null,error:r};throw r}})}emptyBucket(e){return E(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}deleteBucket(e){return E(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){let n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}};ne();var dl=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ul),n),this.fetch=Zo(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return E(this,void 0,void 0,function*(){try{return{data:yield We(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}listBuckets(e){return E(this,void 0,void 0,function*(){try{let n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);let r=n.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield Bn(this.fetch,o,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}deleteBucket(e){return E(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(J(n))return{data:null,error:n};throw n}})}};ne();ne();var Qo={"X-Client-Info":`storage-js/${cl}`,"Content-Type":"application/json"};var fl=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Re(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Xo=class extends fl{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},hl=class extends fl{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}};ne();var ei=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);var xb=t=>{if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Ob=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wk=(t,e,n)=>E(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){let o=t.status||500,i=t;if(typeof i.json=="function")i.json().then(s=>{let a=s?.statusCode||s?.code||o+"";e(new Xo(Ob(s),o,a))}).catch(()=>{let s=o+"",a=i.statusText||`HTTP ${o} error`;e(new Xo(a,o,s))});else{let s=o+"",a=i.statusText||`HTTP ${o} error`;e(new Xo(a,o,s))}}else e(new hl(Ob(t),t))}),Dk=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"||!r?o:(xb(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),n))};function bk(t,e,n,r,o,i){return E(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,Dk(e,r,o,i)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>wk(c,a,r))})})}function Me(t,e,n,r,o){return E(this,void 0,void 0,function*(){return bk(t,"POST",e,r,o,n)})}var pl=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qo),n),this.fetch=ei(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return E(this,void 0,void 0,function*(){try{return{data:(yield Me(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}getIndex(e,n){return E(this,void 0,void 0,function*(){try{return{data:yield Me(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}listIndexes(e){return E(this,void 0,void 0,function*(){try{return{data:yield Me(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return E(this,void 0,void 0,function*(){try{return{data:(yield Me(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Re(r))return{data:null,error:r};throw r}})}};ne();var gl=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qo),n),this.fetch=ei(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return E(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Me(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}getVectors(e){return E(this,void 0,void 0,function*(){try{return{data:yield Me(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}listVectors(e){return E(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Me(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}queryVectors(e){return E(this,void 0,void 0,function*(){try{return{data:yield Me(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}deleteVectors(e){return E(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Me(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}};ne();var ml=class{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qo),n),this.fetch=ei(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return E(this,void 0,void 0,function*(){try{return{data:(yield Me(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}getBucket(e){return E(this,void 0,void 0,function*(){try{return{data:yield Me(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}listBuckets(){return E(this,arguments,void 0,function*(e={}){try{return{data:yield Me(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}deleteBucket(e){return E(this,void 0,void 0,function*(){try{return{data:(yield Me(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}};var $s=class extends ml{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new vl(this.url,this.headers,e,this.fetch)}},vl=class extends pl{constructor(e,n,r,o){super(e,n,o),this.vectorBucketName=r}createIndex(e){let n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return E(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return E(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){let n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return E(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){let n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return E(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new yl(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},yl=class extends gl{constructor(e,n,r,o,i){super(e,n,i),this.vectorBucketName=r,this.indexName=o}putVectors(e){let n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return E(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){let n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return E(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return E(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){let n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return E(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){let n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return E(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var Hs=class extends ll{constructor(e,n={},r,o){super(e,n,r,o)}from(e){return new al(this.url,this.headers,e,this.fetch)}get vectors(){return new $s(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new dl(this.url+"/iceberg",this.headers,this.fetch)}};var kb="2.81.1";var Gs="";typeof Deno<"u"?Gs="deno":typeof document<"u"?Gs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Gs="react-native":Gs="node";var Ck={"X-Client-Info":`supabase-js-${Gs}/${kb}`},Pb={headers:Ck},Fb={schema:"public"},Lb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jb={};var Ik=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Sk=()=>Headers,Vb=(t,e,n)=>{let r=Ik(n),o=Sk();return async(i,s)=>{var a;let c=(a=await e())!==null&&a!==void 0?a:t,u=new o(s?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:u}))}};function Tk(t){return t.endsWith("/")?t:t+"/"}function Ub(t,e){var n,r;let{db:o,auth:i,realtime:s,global:a}=t,{db:c,auth:u,realtime:l,global:d}=e,h={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},l),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Bb(t){let e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Tk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}ne();ne();var _l="2.81.1";var Nr=30*1e3,El=3,wl=El*Nr,$b="http://localhost:9999",Hb="supabase.auth.token";var Gb={"X-Client-Info":`gotrue-js/${_l}`};var zs="X-Supabase-Api-Version",Sg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qb=600*1e3;var $n=class extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var Dl=class extends $n{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function Wb(t){return I(t)&&t.name==="AuthApiError"}var mt=class extends $n{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},$t=class extends $n{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}},je=class extends $t{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Kb(t){return I(t)&&t.name==="AuthSessionMissingError"}var hn=class extends $t{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},xr=class extends $t{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Or=class extends $t{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Yb(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}var qs=class extends $t{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ti=class extends $t{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}};function bl(t){return I(t)&&t.name==="AuthRetryableFetchError"}var Ws=class extends $t{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var kr=class extends $t{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var Cl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zb=` 	
\r=`.split(""),Ak=(()=>{let t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Zb.length;e+=1)t[Zb[e].charCodeAt(0)]=-2;for(let e=0;e<Cl.length;e+=1)t[Cl[e].charCodeAt(0)]=e;return t})();function Jb(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(Cl[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;n(Cl[r]),e.queuedBits-=6}}function Qb(t,e,n){let r=Ak[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Tg(t){let e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{Nk(s,r,n)};for(let s=0;s<t.length;s+=1)Qb(t.charCodeAt(s),o,i);return e.join("")}function Rk(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Mk(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}Rk(r,e)}}function Nk(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Hn(t){let e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Qb(t.charCodeAt(o),n,r);return new Uint8Array(e)}function Xb(t){let e=[];return Mk(t,n=>e.push(n)),new Uint8Array(e)}function pn(t){let e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>Jb(o,n,r)),Jb(null,n,r),e.join("")}function eC(t){return Math.round(Date.now()/1e3)+t}function tC(){return Symbol("auth-callback")}var ye=()=>typeof window<"u"&&typeof document<"u",Pr={tested:!1,writable:!1},Il=()=>{if(!ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pr.tested)return Pr.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Pr.tested=!0,Pr.writable=!0}catch{Pr.tested=!0,Pr.writable=!1}return Pr.writable};function nC(t){let e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{e[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}var Sl=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),rC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Fr=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Gn=async(t,e)=>{let n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gn=async(t,e)=>{await t.removeItem(e)},Ks=class t{constructor(){this.promise=new t.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};Ks.promiseConstructor=Promise;function Tl(t){let e=t.split(".");if(e.length!==3)throw new kr("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!zb.test(e[r]))throw new kr("JWT not in base64url format");return{header:JSON.parse(Tg(e[0])),payload:JSON.parse(Tg(e[1])),signature:Hn(e[2]),raw:{header:e[0],payload:e[1]}}}async function oC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function iC(t,e){return new Promise((r,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{let s=await t(i);if(!e(i,null,s)){r(s);return}}catch(s){if(!e(i,s)){o(s);return}}})()})}function xk(t){return("0"+t.toString(16)).substr(-2)}function Ok(){let e=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,xk).join("")}async function kk(t){let n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function Pk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let n=await kk(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lr(t,e,n=!1){let r=Ok(),o=r;n&&(o+="/PASSWORD_RECOVERY"),await Fr(t,`${e}-code-verifier`,o);let i=await Pk(r);return[i,r===i?"plain":"s256"]}var Fk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sC(t){let e=t.headers.get(zs);if(!e||!e.match(Fk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function aC(t){if(!t)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function cC(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Lk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jr(t){if(!Lk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Al(){let t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function uC(t,e){return new Proxy(t,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,o)}})}function Ag(t){return JSON.parse(JSON.stringify(t))}var Vr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jk=[502,503,504];async function lC(t){var e;if(!rC(t))throw new ti(Vr(t),0);if(jk.includes(t.status))throw new ti(Vr(t),t.status);let n;try{n=await t.json()}catch(i){throw new mt(Vr(i),i)}let r,o=sC(t);if(o&&o.getTime()>=Sg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ws(Vr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new je}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Ws(Vr(n),t.status,n.weak_password.reasons);throw new Dl(Vr(n),t.status||500,r)}var Vk=(t,e,n,r)=>{let o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function R(t,e,n,r){var o;let i=Object.assign({},r?.headers);i[zs]||(i[zs]=Sg["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await Uk(t,e,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function Uk(t,e,n,r,o,i){let s=Vk(e,r,o,i),a;try{a=await t(n,Object.assign({},s))}catch(c){throw console.error(c),new ti(Vr(c),0)}if(a.ok||await lC(a),r?.noResolveJson)return a;try{return await a.json()}catch(c){await lC(c)}}function vt(t){var e;let n=null;Bk(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=eC(t.expires_in)));let r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Rg(t){let e=vt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ht(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function dC(t){return{data:t,error:null}}function fC(t){let{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=t,s=zt(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function Mg(t){return t}function Bk(t){return t.access_token&&t.refresh_token&&t.expires_in}var Rl=["global","local","others"];var ni=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Sl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Rl[0]){if(Rl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rl.join(", ")}`);try{return await R(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await R(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ht})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{let{options:n}=e,r=zt(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await R(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:fC,redirectTo:n?.redirectTo})}catch(n){if(I(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await R(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ht})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=await R(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Mg});if(l.error)throw l.error;let d=await l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);u[`${m}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){jr(e);try{return await R(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ht})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){jr(e);try{return await R(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ht})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){jr(e);try{return await R(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ht})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){jr(e.userId);try{let{data:n,error:r}=await R(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteFactor(e){jr(e.userId),jr(e.id);try{return{data:await R(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,o,i,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=await R(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Mg});if(l.error)throw l.error;let d=await l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(p=>{let g=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(p.split(";")[1].split("=")[1]);u[`${m}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(I(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await R(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await R(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await R(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await R(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await R(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}};function Ng(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}var Ur={debug:!!(globalThis&&Il()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ys=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},Ml=class extends Ys{};async function xg(t,e,n){Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ml(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ur.debug)try{let i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function hC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Og(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function pC(t){return parseInt(t,16)}function gC(t){let e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function mC(t){var e;let{chainId:n,domain:r,expirationTime:o,issuedAt:i=new Date,nonce:s,notBefore:a,requestId:c,resources:u,scheme:l,uri:d,version:h}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}let f=Og(t.address),p=l?`${l}://${r}`:r,g=t.statement?`${t.statement}
`:"",m=`${p} wants you to sign in with your Ethereum account:
${f}

${g}`,y=`URI: ${d}
Version: ${h}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(o&&(y+=`
Expiration Time: ${o.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let M=`
Resources:`;for(let C of u){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);M+=`
- ${C}`}y+=M}return`${m}
${y}`}ne();var ie=class extends Error{constructor({message:e,code:n,cause:r,name:o}){var i;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=o??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}},Br=class extends ie{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}};function vC({error:t,options:e}){var n,r,o;let{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ie({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ie({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ie({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ie({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ie({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ie({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ie({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ie({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){let s=window.location.hostname;if(kg(s)){if(i.rp.id!==s)return new ie({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ie({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ie({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function yC({error:t,options:e}){let{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ie({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ie({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){let r=window.location.hostname;if(kg(r)){if(n.rpId!==r)return new ie({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ie({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var Pg=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}},$k=new Pg;function EC(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);let{challenge:e,user:n,excludeCredentials:r}=t,o=zt(t,["challenge","user","excludeCredentials"]),i=Hn(e).buffer,s=Object.assign(Object.assign({},n),{id:Hn(n.id).buffer}),a=Object.assign(Object.assign({},o),{challenge:i,user:s});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let u=r[c];a.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Hn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function wC(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);let{challenge:e,allowCredentials:n}=t,r=zt(t,["challenge","allowCredentials"]),o=Hn(e).buffer,i=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){let a=n[s];i.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Hn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function DC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let n=t;return{id:t.id,rawId:t.id,response:{attestationObject:pn(new Uint8Array(t.response.attestationObject)),clientDataJSON:pn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function bC(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();let n=t,r=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:pn(new Uint8Array(o.authenticatorData)),clientDataJSON:pn(new Uint8Array(o.clientDataJSON)),signature:pn(new Uint8Array(o.signature)),userHandle:o.userHandle?pn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function kg(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function _C(){var t,e;return!!(ye()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Hk(t){try{let e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Br("Browser returned unexpected credential type",e)}:{data:null,error:new Br("Empty credential response",e)}}catch(e){return{data:null,error:vC({error:e,options:t})}}}async function Gk(t){try{let e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Br("Browser returned unexpected credential type",e)}:{data:null,error:new Br("Empty credential response",e)}}catch(e){return{data:null,error:yC({error:e,options:t})}}}var zk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},qk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Nl(...t){let e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(let o of t)if(o)for(let i in o){let s=o[i];if(s!==void 0)if(Array.isArray(s))r[i]=s;else if(n(s))r[i]=s;else if(e(s)){let a=r[i];e(a)?r[i]=Nl(a,s):r[i]=Nl(s)}else r[i]=s}return r}function Wk(t,e){return Nl(zk,t,e||{})}function Kk(t,e){return Nl(qk,t,e||{})}var xl=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:o},i){try{let{data:s,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!s)return{data:null,error:a};let c=o??$k.createNewAbortSignal();if(s.webauthn.type==="create"){let{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{let u=Wk(s.webauthn.credential_options.publicKey,i?.create),{data:l,error:d}=await Hk({publicKey:u,signal:c});return l?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:l}},error:null}:{data:null,error:d}}case"request":{let u=Kk(s.webauthn.credential_options.publicKey,i?.request),{data:l,error:d}=await Gk(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return l?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:l}},error:null}:{data:null,error:d}}}}catch(s){return I(s)?{data:null,error:s}:{data:null,error:new mt("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new $n("rpId is required for WebAuthn authentication")};try{if(!_C())return{data:null,error:new mt("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:i});if(!s)return{data:null,error:a};let{webauthn:c}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return I(s)?{data:null,error:s}:{data:null,error:new mt("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!n)return{data:null,error:new $n("rpId is required for WebAuthn registration")};try{if(!_C())return{data:null,error:new mt("Browser does not support WebAuthn",null)};let{data:s,error:a}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(l=>{var d;return(d=l.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(l=>l?this.client.mfa.unenroll({factorId:l?.id}):void 0),{data:null,error:a};let{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:i});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return I(s)?{data:null,error:s}:{data:null,error:new mt("Unexpected error in register",s)}}}};hC();var Yk={url:$b,storageKey:Hb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function CC(t,e,n){return await n()}var ri={},Zk=(()=>{class t{get jwks(){var n,r;return(r=(n=ri[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){ri[this.storageKey]=Object.assign(Object.assign({},ri[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=ri[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){ri[this.storageKey]=Object.assign(Object.assign({},ri[this.storageKey]),{cachedAt:n})}constructor(n){var r,o,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let s=Object.assign(Object.assign({},Yk),n);if(this.storageKey=s.storageKey,this.instanceID=(r=t.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,t.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&ye()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ni({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Sl(s.fetch),this.lock=s.lock||CC,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:ye()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=xg:this.lock=CC,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xl(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Il()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ng(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Ng(this.memoryStorage)),ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${_l}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},o="none";if(ye()&&(r=nC(window.location.href),this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce")),ye()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=await this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Yb(s)){let u=(n=s.details)===null||n===void 0?void 0:n.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?this._returnResult({error:r}):this._returnResult({error:new mt("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,o,i;try{let s=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:vt}),{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(n){var r,o,i;try{let s;if("email"in n){let{email:d,password:h,options:f}=n,p=null,g=null;this.flowType==="pkce"&&([p,g]=await Lr(this.storage,this.storageKey)),s=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:g},xform:vt})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=await R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:vt})}else throw new xr("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});let u=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(n){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=await R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Rg})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=await R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Rg})}else throw new xr("You must provide either an email or phone number and a password");let{data:o,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!o||!o.session||!o.user){let s=new hn;return this._returnResult({data:{user:null,session:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,o,i,s;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){let{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,o,i,s,a,c,u,l,d,h,f;let p,g;if("message"in n)p=n.message,g=n.signature;else{let{chain:m,wallet:y,statement:M,options:C}=n,w;if(ye())if(typeof y=="object")w=y;else{let Gt=window;if("ethereum"in Gt&&typeof Gt.ethereum=="object"&&"request"in Gt.ethereum&&typeof Gt.ethereum.request=="function")w=Gt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}let B=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href),Tt=await w.request({method:"eth_requestAccounts"}).then(Gt=>Gt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Tt||Tt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let X=Og(Tt[0]),te=(o=C?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!te){let Gt=await w.request({method:"eth_chainId"});te=pC(Gt)}let AC={domain:B.host,address:X,statement:M,uri:B.href,version:"1",chainId:te,nonce:(i=C?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=C?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=C?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=C?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(l=C?.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(d=C?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=mC(AC),g=await w.request({method:"personal_sign",params:[gC(p),X]})}try{let{data:m,error:y}=await R(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=n.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:vt});if(y)throw y;if(!m||!m.session||!m.user){let M=new hn;return this._returnResult({data:{user:null,session:null},error:M})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:y})}catch(m){if(I(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(n){var r,o,i,s,a,c,u,l,d,h,f,p;let g,m;if("message"in n)g=n.message,m=n.signature;else{let{chain:y,wallet:M,statement:C,options:w}=n,B;if(ye())if(typeof M=="object")B=M;else{let X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))B=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=M}let Tt=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in B&&B.signIn){let X=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:Tt.host,uri:Tt.href}),C?{statement:C}:null)),te;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")te=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)te=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in te&&"signature"in te&&(typeof te.signedMessage=="string"||te.signedMessage instanceof Uint8Array)&&te.signature instanceof Uint8Array)g=typeof te.signedMessage=="string"?te.signedMessage:new TextDecoder().decode(te.signedMessage),m=te.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${Tt.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${Tt.href}`,`Issued At: ${(i=(o=w?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=w?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((c=w?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((u=w?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(te=>`- ${te}`)]:[]].join(`
`);let X=await B.signMessage(new TextEncoder().encode(g),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=X}}try{let{data:y,error:M}=await R(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:pn(m)},!((f=n.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=n.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:vt});if(M)throw M;if(!y||!y.session||!y.user){let C=new hn;return this._returnResult({data:{user:null,session:null},error:C})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:M})}catch(y){if(I(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(n){let r=await Gn(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=await R(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:vt});if(await gn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){let c=new hn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(n){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=await R(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:vt}),{data:u,error:l}=c;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!u||!u.session||!u.user){let d=new hn;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:l})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,o,i,s,a;try{if("email"in n){let{email:c,options:u}=n,l=null,d=null;this.flowType==="pkce"&&([l,d]=await Lr(this.storage,this.storageKey));let{error:h}=await R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(o=u?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in n){let{phone:c,options:u}=n,{data:l,error:d}=await R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:d})}throw new xr("You must provide either an email or phone number.")}catch(c){if(I(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(n){var r,o;try{let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=await R(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:vt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let u=a.session,l=a.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(n){var r,o,i,s,a;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Lr(this.storage,this.storageKey));let l=await R(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:dC});return!((s=l.data)===null||s===void 0)&&s.url&&ye()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(c){if(I(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new je;let{error:i}=await R(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=await R(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=await R(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:c})}throw new xr("You must provide either an email or phone number and a type")}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){let i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=await Gn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at*1e3-Date.now()<wl:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){let a=await Gn(this.userStorage,this.storageKey+"-user");a?.user?n.user=a.user:n.user=Al()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let a={value:this.suppressGetSessionWarning};n.user=uC(n.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Ht}):await this._useSession(async r=>{var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new je}:await R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ht})})}catch(r){if(I(r))return Kb(r)&&(await this._removeSession(),await gn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async o=>{let{data:i,error:s}=o;if(s)throw s;if(!i.session)throw new je;let a=i.session,c=null,u=null;this.flowType==="pkce"&&n.email!=null&&([c,u]=await Lr(this.storage,this.storageKey));let{data:l,error:d}=await R(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:u}),jwt:a.access_token,xform:Ht});if(d)throw d;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(o){if(I(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new je;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=Tl(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{data:c,error:u}=await this._callRefreshToken(n.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:u}=await this._getUser(n.access_token);if(u)throw u;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(I(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new je;let{data:i,error:s}=await this._callRefreshToken(n.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!ye())throw new Or("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Or(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new qs("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Or("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new qs("No code detected.");let{data:C,error:w}=await this._exchangeCodeForSession(n.code);if(w)throw w;let B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:C.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:u,token_type:l}=n;if(!s||!c||!a||!l)throw new Or("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;u&&(f=parseInt(u));let p=f-d;p*1e3<=Nr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);let g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);let{data:m,error:y}=await this._getUser(s);if(y)throw y;let M={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:n.type},error:null})}catch(o){if(I(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){let r=await Gn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return this._returnResult({error:s});let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=await this.admin.signOut(a,n);if(c&&!(Wb(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return n!=="others"&&(await this._removeSession(),await gn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){let r=tC(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async r=>{var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}})}async resetPasswordForEmail(n,r={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=await Lr(this.storage,this.storageKey,!0));try{return await R(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(I(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var n;try{let{data:r,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{let{data:o,error:i}=await this._useSession(async s=>{var a,c,u,l,d;let{data:h,error:f}=s;if(f)throw f;let p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await R(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ye()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:n.provider,url:o?.url},error:null})}catch(o){if(I(o))return this._returnResult({data:{provider:n.provider,url:null},error:o});throw o}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var o;try{let{error:i,data:{session:s}}=r;if(i)throw i;let{options:a,provider:c,token:u,access_token:l,nonce:d}=n,h=await R(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=s?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:c,id_token:u,access_token:l,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:vt}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new hn}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)throw a;return await R(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return await iC(async i=>(i>0&&await oC(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await R(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:vt})),(i,s)=>{let a=200*Math.pow(2,i);return s&&bl(s)&&Date.now()+a-o<Nr})}catch(o){if(this._debug(r,"error",o),I(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){let o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),ye()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=await Gn(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Gn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Fr(this.userStorage,this.storageKey+"-user",a)),i.user=(n=a?.user)!==null&&n!==void 0?n:Al()}else if(i&&!i.user&&!i.user){let a=await Gn(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await gn(this.storage,this.storageKey+"-user"),await Fr(this.storage,this.storageKey,i)):i.user=Al()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&await this._removeSession();return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<wl;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${wl}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),bl(a)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=await this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(o,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var r,o;if(!n)throw new je;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ks;let{data:s,error:a}=await this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new je;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),I(s)){let a={data:null,error:s};return bl(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(n,r,o=!0){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(n,r)}catch(u){s.push(u)}});if(await Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;let r=Object.assign({},n),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&await Fr(this.userStorage,this.storageKey+"-user",{user:r.user});let i=Object.assign({},r);delete i.user;let s=Ag(i);await Fr(this.storage,this.storageKey,s)}else{let i=Ag(r);await Fr(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await gn(this.storage,this.storageKey),await gn(this.storage,this.storageKey+"-code-verifier"),await gn(this.storage,this.storageKey+"-user"),this.userStorage&&await gn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ye()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Nr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let n=Date.now();try{return await this._useSession(async r=>{let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/Nr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Nr}ms, refresh threshold is ${El} ticks`),i<=El&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Ys)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ye()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,o){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=await Lr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await R(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var o,i;let{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:u,error:l}=await R(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return l?this._returnResult({data:null,error:l}):(n.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?DC(n.webauthn.credential_response):bC(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:u}=await R(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:a,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;let{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});let a=await R(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});if(a.error)return a;let{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:EC(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:wC(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){let{data:r,error:o}=await this._challenge({factorId:n.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;let{data:{user:r},error:o}=await this.getUser();if(o)return{data:null,error:o};let i={all:[],phone:[],totp:[],webauthn:[]};for(let s of(n=r?.factors)!==null&&n!==void 0?n:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;let{data:{session:o},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=Tl(o.access_token),a=null;s.aal&&(a=s.aal);let c=a;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let l=s.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:l},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{let{data:{session:o},error:i}=r;return i?this._returnResult({data:null,error:i}):o?await R(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:o.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new je})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async o=>{let{data:{session:i},error:s}=o;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new je});let a=await R(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&ye()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(o){if(I(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(n,r){try{return await this._useSession(async o=>{let{data:{session:i},error:s}=o;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new je});let a=await R(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&ye()&&!r?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(o){if(I(o))return this._returnResult({data:null,error:o});throw o}}async fetchJwk(n,r={keys:[]}){let o=r.keys.find(c=>c.kid===n);if(o)return o;let i=Date.now();if(o=this.jwks.keys.find(c=>c.kid===n),o&&this.jwks_cached_at+qb>i)return o;let{data:s,error:a}=await R(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,o=s.keys.find(c=>c.kid===n),!o)?null:o}async getClaims(n,r={}){try{let o=n;if(!o){let{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});o=p.session.access_token}let{header:i,payload:s,signature:a,raw:{header:c,payload:u}}=Tl(o);r?.allowExpired||aC(s.exp);let l=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!l){let{error:p}=await this.getUser(o);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}let d=cC(i.alg),h=await crypto.subtle.importKey("jwk",l,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,Xb(`${c}.${u}`)))throw new kr("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(o){if(I(o))return this._returnResult({data:null,error:o});throw o}}}return t.nextInstanceID={},t})(),Fg=Zk;var Jk=Fg,Lg=Jk;var Ol=class extends Lg{constructor(e){super(e)}};var kl=class{constructor(e,n,r){var o,i,s;this.supabaseUrl=e,this.supabaseKey=n;let a=Bb(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);let c=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:Fb,realtime:jb,auth:Object.assign(Object.assign({},Lb),{storageKey:c}),global:Pb},l=Ub(r??{},u);this.storageKey=(o=l.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=l.auth)!==null&&s!==void 0?s:{},this.headers,l.global.fetch),this.fetch=Vb(n,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new _b(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Hs(this.storageUrl.href,this.headers,this.fetch,r?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Os(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();let{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,storageKey:s,flowType:a,lock:c,debug:u,throwOnError:l},d,h){let f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ol({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:i,flowType:a,lock:c,debug:u,throwOnError:l,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Vs(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var IC=(t,e,n)=>new kl(t,e,n);function Qk(){if(typeof window<"u"||typeof process>"u")return!1;let t=process.version;if(t==null)return!1;let e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Qk()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Pl=IC("https://tebiptcqkzucydultnyi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRlYmlwdGNxa3p1Y3lkdWx0bnlpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NDYzMTMsImV4cCI6MjA3ODQyMjMxM30.gvK8ym00aFOqcGwd183R_bK3aEDZeXNHl-WeZZzwWOs");var Fl=class t{constructor(){}async getModules(){let{data:e,error:n}=await Pl.from("module").select("id, name, sort").order("sort",{ascending:!0});if(n)throw console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F module:",n),n;return e}async getTasks(){let{data:e,error:n}=await Pl.from("task").select("id, id_module, name, description").order("id_module",{ascending:!0}).order("id",{ascending:!0});if(n)throw console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F task:",n),n;return e}async getEstimates(){let e=["mobile_app_est","backend_app_est","frontend_app_est","admin_panel_est"],n={};for(let r of e){let{data:o,error:i}=await Pl.from(r).select("id_task, hours, cost");if(i)throw console.error(`\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u044F ${r}:`,i),i;n[r]=o}return n}static \u0275fac=function(n){return new(n||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};function eP(t,e){t&1&&(Q(0,"div"),oe(1,` \u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0434\u0430\u043D\u043D\u044B\u0445...
`),G())}function tP(t,e){if(t&1){let n=Yc();Q(0,"div")(1,"label")(2,"input",1),kn("ngModelChange",function(o){let i=nn(n).$implicit;return _r(i.selected,o)||(i.selected=o),rn(o)}),G(),oe(3),G()()}if(t&2){let n=e.$implicit;ce(2),On("ngModel",n.selected),ce(),cn(" ",n.name," ")}}function nP(t,e){if(t&1&&(Q(0,"div")(1,"h3"),oe(2),G(),Mn(3,tP,4,2,"div",2),G()),t&2){let n=e.$implicit,r=ze(2);ce(2),Qc(n.name),ce(),pt("ngForOf",r.groupedTasks[n.id])}}function rP(t,e){if(t&1&&(Q(0,"tr")(1,"td"),oe(2,"\u041C\u043E\u0431\u0438\u043B\u044C\u043D\u043E\u0435 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435"),G(),Q(3,"td",8),oe(4),Pn(5,"number"),G()()),t&2){let n=ze(3);ce(4),cn("",Fn(5,1,n.totals.mobile,"1.0-0")," \u20BD")}}function oP(t,e){if(t&1&&(Q(0,"tr")(1,"td"),oe(2,"\u0411\u044D\u043A\u0435\u043D\u0434"),G(),Q(3,"td",8),oe(4),Pn(5,"number"),G()()),t&2){let n=ze(3);ce(4),cn("",Fn(5,1,n.totals.backend,"1.0-0")," \u20BD")}}function iP(t,e){if(t&1&&(Q(0,"tr")(1,"td"),oe(2,"\u0424\u0440\u043E\u043D\u0442\u0435\u043D\u0434"),G(),Q(3,"td",8),oe(4),Pn(5,"number"),G()()),t&2){let n=ze(3);ce(4),cn("",Fn(5,1,n.totals.frontend,"1.0-0")," \u20BD")}}function sP(t,e){if(t&1&&(Q(0,"tr")(1,"td"),oe(2,"\u0410\u0434\u043C\u0438\u043D\u043A\u0430"),G(),Q(3,"td",8),oe(4),Pn(5,"number"),G()()),t&2){let n=ze(3);ce(4),cn("",Fn(5,1,n.totals.admin,"1.0-0")," \u20BD")}}function aP(t,e){if(t&1&&(Q(0,"div",5)(1,"h3"),oe(2,"\u0414\u0435\u0442\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044F \u0441\u0442\u043E\u0438\u043C\u043E\u0441\u0442\u0438"),G(),Q(3,"table",6),Mn(4,rP,6,4,"tr",0)(5,oP,6,4,"tr",0)(6,iP,6,4,"tr",0)(7,sP,6,4,"tr",0),Q(8,"tr")(9,"td",7),ot(10,"hr"),G()(),Q(11,"tr")(12,"td")(13,"strong"),oe(14,"\u0418\u0442\u043E\u0433\u043E"),G()(),Q(15,"td",8)(16,"strong"),oe(17),Pn(18,"number"),Pn(19,"number"),G()()()()()),t&2){let n=ze(2);ce(4),pt("ngIf",n.options.mobile),ce(),pt("ngIf",n.options.backend),ce(),pt("ngIf",n.options.frontend),ce(),pt("ngIf",n.options.admin),ce(10),Xc("",Fn(18,6,n.totals.totalMin,"1.0-0")," \u20BD \u2014 ",Fn(19,9,n.totals.totalMax,"1.0-0")," \u20BD")}}function cP(t,e){if(t&1){let n=Yc();Q(0,"div")(1,"h2"),oe(2,"\u0412\u044B\u0431\u043E\u0440 \u043F\u043B\u0430\u0442\u0444\u043E\u0440\u043C"),G(),Q(3,"label")(4,"input",1),kn("ngModelChange",function(o){nn(n);let i=ze();return _r(i.options.mobile,o)||(i.options.mobile=o),rn(o)}),G(),oe(5," \u041C\u043E\u0431\u0438\u043B\u044C\u043D\u043E\u0435 \u043F\u0440\u0438\u043B\u043E\u0436\u0435\u043D\u0438\u0435 "),G(),ot(6,"br"),Q(7,"label")(8,"input",1),kn("ngModelChange",function(o){nn(n);let i=ze();return _r(i.options.backend,o)||(i.options.backend=o),rn(o)}),G(),oe(9," \u0411\u044D\u043A\u0435\u043D\u0434 "),G(),ot(10,"br"),Q(11,"label")(12,"input",1),kn("ngModelChange",function(o){nn(n);let i=ze();return _r(i.options.frontend,o)||(i.options.frontend=o),rn(o)}),G(),oe(13," \u0424\u0440\u043E\u043D\u0442\u0435\u043D\u0434 "),G(),ot(14,"br"),Q(15,"label")(16,"input",1),kn("ngModelChange",function(o){nn(n);let i=ze();return _r(i.options.admin,o)||(i.options.admin=o),rn(o)}),G(),oe(17," \u0410\u0434\u043C\u0438\u043D\u043A\u0430 "),G(),ot(18,"hr"),Q(19,"h2"),oe(20,"\u0417\u0430\u0434\u0430\u0447\u0438"),G(),Mn(21,nP,4,2,"div",2),ot(22,"hr"),Q(23,"button",3),yr("click",function(){nn(n);let o=ze();return rn(o.calculate())}),oe(24,"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044C"),G(),Mn(25,aP,20,12,"div",4),G()}if(t&2){let n=ze();ce(4),On("ngModel",n.options.mobile),ce(4),On("ngModel",n.options.backend),ce(4),On("ngModel",n.options.frontend),ce(4),On("ngModel",n.options.admin),ce(5),pt("ngForOf",n.modules),ce(4),pt("ngIf",n.totals.totalMin>0)}}var Zs=class t{constructor(e,n){this.supabase=e;this.cdr=n}modules=[];tasks=[];estimates={};groupedTasks={};options={mobile:!1,backend:!1,frontend:!1,admin:!1};loading=!0;totals={mobile:0,backend:0,frontend:0,admin:0,totalMin:0,totalMax:0};async ngOnInit(){console.log("CalculatorComponent ngOnInit \u0441\u0442\u0430\u0440\u0442\u043E\u0432\u0430\u043B");try{this.modules=await this.supabase.getModules(),this.tasks=await this.supabase.getTasks(),this.groupedTasks=this.tasks.reduce((e,n)=>(e[n.id_module]||(e[n.id_module]=[]),e[n.id_module].push(j(_({},n),{selected:!1})),e),{}),this.estimates=await this.supabase.getEstimates()}catch(e){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0434\u0430\u043D\u043D\u044B\u0445 \u0432 ngOnInit:",e)}finally{this.loading=!1,console.log("loading \u0442\u0435\u043F\u0435\u0440\u044C:",this.loading),this.cdr.detectChanges()}}roundTo10k(e){return Math.round(e/1e4)*1e4}calculate(){this.totals={mobile:0,backend:0,frontend:0,admin:0,totalMin:0,totalMax:0};for(let o in this.groupedTasks)for(let i of this.groupedTasks[o]){if(!i.selected)continue;let s=i.id;if(this.options.mobile){let a=this.estimates.mobile_app_est?.find(c=>c.id_task===s);a&&(this.totals.mobile+=Number(a.cost))}if(this.options.backend){let a=this.estimates.backend_app_est?.find(c=>c.id_task===s);a&&(this.totals.backend+=Number(a.cost))}if(this.options.frontend){let a=this.estimates.frontend_app_est?.find(c=>c.id_task===s);a&&(this.totals.frontend+=Number(a.cost))}if(this.options.admin){let a=this.estimates.admin_panel_est?.find(c=>c.id_task===s);a&&(this.totals.admin+=Number(a.cost))}}let e=this.totals.mobile+this.totals.backend+this.totals.frontend+this.totals.admin,n=e*.7,r=e*1.3;this.totals.totalMin=this.roundTo10k(n),this.totals.totalMax=this.roundTo10k(r)}static \u0275fac=function(n){return new(n||t)(Z(Fl),Z(wr))};static \u0275cmp=mr({type:t,selectors:[["app-calculator"]],decls:2,vars:2,consts:[[4,"ngIf"],["type","checkbox",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[3,"click"],["style","margin-top: 30px;",4,"ngIf"],[2,"margin-top","30px"],[2,"width","300px","border-collapse","collapse"],["colspan","2"],[2,"text-align","right"]],template:function(n,r){n&1&&Mn(0,eP,2,0,"div",0)(1,cP,26,6,"div",0),n&2&&(pt("ngIf",r.loading),ce(),pt("ngIf",!r.loading))},dependencies:[pu,hu,op,cb,Yp,ib,Jp,ip],encapsulation:2})};var SC=[{path:"",component:Zs},{path:"calculator",component:Zs}];var TC={providers:[af(),Fh(),$p(SC),Zw(Yw())]};var Ll=class t{title=ht("project-estimator");static \u0275fac=function(n){return new(n||t)};static \u0275cmp=mr({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&ot(0,"router-outlet")},dependencies:[ws],encapsulation:2})};gp(Ll,TC).catch(t=>console.error(t));
